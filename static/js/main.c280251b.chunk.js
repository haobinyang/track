(this["webpackJsonpgo-think"]=this["webpackJsonpgo-think"]||[]).push([[0],{10:function(e,t){e.exports=THREE},200:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var i=n(7),r=n(0),a=n.n(r),c=n(33),o=n.n(c),s=n(9),l=n(13),u=n(2),f=n(1);var h=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_490_3)"}),Object(f.jsx)("mask",{id:"prefix__a",fill:"#fff",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H9a2 2 0 01-2-2V9zm1-.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2V8.7zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 14.5c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 20.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zM20.2 8.5a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2V8.7a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .111.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6z"})}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H9a2 2 0 01-2-2V9zm1-.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2V8.7zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 14.5c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 20.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zM20.2 8.5a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2V8.7a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .111.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6z",fill:"url(#prefix__paint1_linear_490_3)"}),Object(f.jsx)("path",{d:"M9 6.8A2.2 2.2 0 006.8 9h.4A1.8 1.8 0 019 7.2v-.4zm12 0H9v.4h12v-.4zM23.2 9A2.2 2.2 0 0021 6.8v.4A1.8 1.8 0 0122.8 9h.4zm0 12V9h-.4v12h.4zM21 23.2a2.2 2.2 0 002.2-2.2h-.4a1.8 1.8 0 01-1.8 1.8v.4zm-12 0h12v-.4H9v.4zM6.8 21A2.2 2.2 0 009 23.2v-.4A1.8 1.8 0 017.2 21h-.4zm0-12v12h.4V9h-.4zm1.4-.7a.4.4 0 00-.4.4h.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1V8.7h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm-.4-.4c0 .22.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4V8.7h-.4zm.4 2.9v-.4a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .221.18.4.4.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm0 2.5a.4.4 0 00-.4.4h.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm-.4-.4c0 .221.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm.4 2.9V17a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .221.18.4.4.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6V17H8.2v.4zm0 2.5a.4.4 0 00-.4.4h.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm-.4-.4c0 .222.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zM20.2 8.7v-.4a.4.4 0 00-.4.4h.4zm0 1.1V8.7h-.4v1.1h.4zm0 0h-.4c0 .22.18.4.4.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4V8.7h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm0 2.5a.4.4 0 00-.4.4h.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm-.4-.4c0 .221.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm.4 2.9v-.4a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .221.18.4.4.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm0 2.5a.4.4 0 00-.4.4h.4V17zm1.6 0h-1.6v.4h1.6V17zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm-.4-.4c0 .221.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm.4 2.9v-.4a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .222.18.4.4.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4z",fill:"url(#prefix__paint2_linear_490_3)",mask:"url(#prefix__a)"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_490_3",x1:2.5,y1:3,x2:27,y2:27.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#05AB49"}),Object(f.jsx)("stop",{offset:1,stopColor:"#097838"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_490_3",x1:12.429,y1:21.933,x2:12.429,y2:7,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.51}),Object(f.jsx)("stop",{offset:.448,stopColor:"#fff",stopOpacity:.96}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.27})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_490_3",x1:16.78,y1:21.933,x2:16.78,y2:7,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.34}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.06})]})]})]}))};var d=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_141)"}),Object(f.jsx)("ellipse",{cx:15,cy:21.75,rx:7,ry:1.75,fill:"url(#prefix__paint1_linear_440_141)"}),Object(f.jsx)("path",{d:"M13.25 10c0-.633.203-1.06.504-1.332.304-.276.738-.418 1.246-.418s.942.142 1.247.418c.3.271.503.699.503 1.332 0 .61-.338 1.307-.762 1.867-.209.276-.43.506-.623.665-.097.08-.183.138-.252.175a.524.524 0 01-.084.036c-.02.007-.03.007-.03.007H15s0 0 0 0-.009 0-.03-.007a.524.524 0 01-.083-.036 1.567 1.567 0 01-.252-.175 4.037 4.037 0 01-.623-.665c-.424-.56-.762-1.256-.762-1.867z",fill:"url(#prefix__paint2_linear_440_141)",stroke:"url(#prefix__paint3_linear_440_141)",strokeWidth:.5}),Object(f.jsx)("path",{d:"M13 20c0 1.38.896 2 2 2 1.105 0 2-.62 2-2s-1.5-3-2-3-2 1.62-2 3z",fill:"url(#prefix__paint4_linear_440_141)"}),Object(f.jsx)("path",{d:"M18.33 10.768c1.196-.69 2.18-.225 2.732.732s.464 2.042-.732 2.732c-1.196.69-3.348.2-3.598-.232-.25-.433.402-2.542 1.598-3.232z",fill:"url(#prefix__paint5_linear_440_141)"}),Object(f.jsx)("path",{d:"M9.795 15.984c-.549.317-.817.707-.902 1.103-.086.4.008.848.261 1.288.254.44.595.745.985.87.386.125.857.087 1.406-.23.529-.305.963-.946 1.236-1.593.134-.319.223-.625.264-.872a1.57 1.57 0 00.025-.306.51.51 0 00-.01-.09c-.004-.021-.008-.03-.008-.03s0 0 0 0v.001s-.005-.008-.02-.022a.53.53 0 00-.074-.054 1.566 1.566 0 00-.277-.131 4.035 4.035 0 00-.888-.207c-.697-.088-1.469-.032-1.998.273z",fill:"url(#prefix__paint6_linear_440_141)",stroke:"url(#prefix__paint7_linear_440_141)",strokeWidth:.5}),Object(f.jsx)("path",{d:"M20.205 15.984c.549.317.817.707.902 1.103.087.4-.008.848-.261 1.288-.254.44-.595.745-.985.87-.386.125-.857.087-1.406-.23-.529-.305-.963-.946-1.236-1.593a4.035 4.035 0 01-.264-.872 1.57 1.57 0 01-.025-.306.51.51 0 01.01-.09c.004-.021.009-.03.008-.03 0 0 0 0 0 0v.001s.005-.008.021-.022a.53.53 0 01.073-.054c.067-.042.16-.087.277-.131.235-.088.545-.164.889-.207.696-.088 1.468-.032 1.997.273z",fill:"url(#prefix__paint8_linear_440_141)",stroke:"url(#prefix__paint9_linear_440_141)",strokeWidth:.5}),Object(f.jsx)("path",{d:"M11.67 10.768c-1.196-.69-2.18-.225-2.732.732s-.464 2.042.732 2.732c1.196.69 3.348.2 3.598-.232.25-.433-.402-2.542-1.598-3.232z",fill:"url(#prefix__paint10_linear_440_141)"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_141",x1:0,y1:0,x2:27.5,y2:27.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#F3CE4C"}),Object(f.jsx)("stop",{offset:1,stopColor:"#E8A912"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_141",x1:17.5,y1:22.625,x2:17.5,y2:20,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#E29800"}),Object(f.jsx)("stop",{offset:1,stopColor:"#E29800",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_141",x1:15,y1:13,x2:15,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_141",x1:15,y1:13,x2:15,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_141",x1:15,y1:17,x2:14.835,y2:19.714,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_141",x1:16.732,y1:14,x2:19,y2:12.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint6_linear_440_141",x1:13.268,y1:16,x2:8.938,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint7_linear_440_141",x1:13.268,y1:16,x2:8.938,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint8_linear_440_141",x1:16.732,y1:16,x2:21.062,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint9_linear_440_141",x1:16.732,y1:16,x2:21.062,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint10_linear_440_141",x1:13.268,y1:14,x2:11,y2:12.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]})]})]}))};var p=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:8,fill:"url(#prefix__paint0_linear_440_718)"}),Object(f.jsx)("path",{fill:"url(#prefix__paint1_linear_440_718)",d:"M10 12h10v5H10z"}),Object(f.jsx)("path",{d:"M12 19.5h6V22h-6v-2.5z",fill:"url(#prefix__paint2_linear_440_718)"}),Object(f.jsx)("path",{d:"M8 8h3v3H8V8z",fill:"url(#prefix__paint3_linear_440_718)"}),Object(f.jsx)("path",{d:"M19 8h3v3h-3V8z",fill:"url(#prefix__paint4_linear_440_718)"}),Object(f.jsx)("path",{d:"M8 19h3v4H8v-4z",fill:"url(#prefix__paint5_linear_440_718)"}),Object(f.jsx)("path",{d:"M22 19h-3v4h3v-4z",fill:"url(#prefix__paint6_linear_440_718)"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.272 11.184a1 1 0 01.949-.684h7.559a1 1 0 01.948.684l.564 1.692a.474.474 0 11-.9.3l-.225-.676H16.5a.5.5 0 00-.5.5v5.5a.5.5 0 00.5.5h1.3c.11 0 .2.09.2.2v.6a.2.2 0 01-.2.2h-5.6a.2.2 0 01-.2-.2v-.6c0-.11.09-.2.2-.2h1.3a.5.5 0 00.5-.5V13a.5.5 0 00-.5-.5h-2.667l-.225.676a.474.474 0 01-.9-.3l.564-1.692zM11 7H7v4h1.5V8.5H11V7zM11 23H7v-4h1.5v2.5H11V23zM19 7h4v4h-1.5V8.5H19V7zM19 23h4v-4h-1.5v2.5H19V23z",fill:"#fff"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_718",x1:15,y1:0,x2:27,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#285DE7"}),Object(f.jsx)("stop",{offset:1,stopColor:"#0F48D7"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_718",x1:15,y1:12.5,x2:15,y2:17,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_718",x1:15,y1:20.333,x2:15,y2:22,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_718",x1:9.5,y1:8.5,x2:9.5,y2:11,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_718",x1:20.5,y1:8.5,x2:20.5,y2:11,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_718",x1:8,y1:23,x2:11,y2:23,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint6_linear_440_718",x1:22,y1:23,x2:19,y2:23,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]})]})]}))};var v,b=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_114)"}),Object(f.jsx)("path",{d:"M15.5 24l-8-2 8-1.5 8 1.5-8 2z",fill:"url(#prefix__paint1_linear_440_114)"}),Object(f.jsx)("path",{opacity:.9,d:"M7.5 11.239a1 1 0 01.706-.956l4.5-1.385A1 1 0 0114 9.854v10.292a1 1 0 01-1.294.956l-4.5-1.385a1 1 0 01-.706-.956V11.24z",fill:"#fff"}),Object(f.jsx)("path",{d:"M23.4 11.239a.9.9 0 00-.635-.86l-4.5-1.385a.9.9 0 00-1.165.86v10.292a.9.9 0 001.165.86l4.5-1.384a.9.9 0 00.635-.86v-7.523z",fill:"url(#prefix__paint2_linear_440_114)",stroke:"url(#prefix__paint3_linear_440_114)",strokeWidth:.2}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.75 7h-.5v2h.5V7zm0 3h-.5v2h.5v-2zm-.5 3h.5v2h-.5v-2zm.5 3h-.5v2h.5v-2zm-.5 3h.5v2h-.5v-2zm.5 3h-.5v2h.5v-2z",fill:"#fff"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_114",x1:15,y1:0,x2:28,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#B04CFF"}),Object(f.jsx)("stop",{offset:1,stopColor:"#864CFF"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_114",x1:15.5,y1:24.5,x2:15.5,y2:20.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.258,stopColor:"#632AD9"}),Object(f.jsx)("stop",{offset:1,stopColor:"#632AD9",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_114",x1:17,y1:14.5,x2:24,y2:14.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.56}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.03})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_114",x1:17,y1:16,x2:19,y2:16,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.34}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:0})]})]})]}))};!function(e){e[e.VIDEO=0]="VIDEO",e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.TRANSITION=3]="TRANSITION",e[e.GIF=4]="GIF",e[e.TEXT=5]="TEXT",e[e.LOTTIE=6]="LOTTIE"}(v||(v={}));var j,x,m,g;!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.FILL=1]="FILL",e[e.CONTAIN=2]="CONTAIN",e[e.COVER=3]="COVER"}(j||(j={})),function(e){e[e.NO_EFFECT=0]="NO_EFFECT",e[e.BLUR=1]="BLUR",e[e.GRAY=2]="GRAY"}(x||(x={})),function(e){e[e.MORPH=0]="MORPH",e[e.DREAMY=1]="DREAMY",e[e.FADE=2]="FADE"}(m||(m={})),function(e){e[e.PLUNGING=0]="PLUNGING"}(g||(g={}));var O,y,w,k,C,I,T,R,_,A,E,z,S=[{name:"dreamy",transition:m.DREAMY},{name:"fade",transition:m.FADE}],U={videos:[{name:"leaf",url:"asset/1.mp4"},{name:"sunflower",url:"https://adsmind.gdtimg.com/ads_svp_video__0b5356bikoyameao6cufayabuqaee7xqhbibaaaab3yk..mp4?dis_k=00336127182714ebee73d007e9ebd394&dis_t=1631259090&m=78f766034a7339a822b3a1881bf122b6"},{name:"cartoon",url:"asset/3.webm"},{name:"leaf-2",url:"asset/1.mp4"}].map((function(e){return Object(u.a)({type:v.VIDEO},e)})),images:[{name:"dawn",url:"https://images.unsplash.com/photo-1634322474954-d69e93a8480b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2370&q=80"}].map((function(e){return Object(u.a)({type:v.IMAGE},e)})),audios:[{name:"sky",url:"asset/1.mp3"},{name:"jay",url:"asset/2.mp3"}].map((function(e){return Object(u.a)({type:v.AUDIO},e)})),transitions:S.map((function(e){return Object(u.a)({type:v.TRANSITION},e)})),gifs:[{name:"horses",url:"asset/horses.gif"},{name:"love",url:"asset/1.gif"}].map((function(e){return Object(u.a)({type:v.GIF},e)})),texts:[{name:"\u6587\u672c",value:"\u6dfb\u52a0\u6587\u672c"}].map((function(e){return Object(u.a)({type:v.TEXT},e)})),lotties:[{name:"word",url:"asset/word.json"}].map((function(e){return Object(u.a)({type:v.LOTTIE},e)}))},F=s.b.div(O||(O=Object(i.a)(["\n  width: 30px;\n  height: 30px;\n  background: #26384E;\n  border: 1px solid #2A3F5F;\n  box-sizing: border-box;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg path {\n    fill: #7B9FD6;\n    transition: fill 0.3s;\n  }\n\n  &:hover {\n    background: #3A36E4 !important;\n    color: #fff !important;\n    border-color: #3648E0 !important;\n\n    svg path {\n      fill: #fff;\n    }\n  }\n\n  &.disabled {\n    pointer-events: none;\n    background: #1F2836;\n    color: #475d80;\n    border-color: #222B3A !important;\n\n    svg path {\n      fill: #475d80;\n    }\n  }\n\n  &.warn:hover {\n    background: #E62519;\n    border-color: #EF3327;\n  }\n"]))),M=s.b.div(y||(y=Object(i.a)(["\n  height: 24px;\n  padding: 0 14px;\n  background: #1F2836;\n  box-sizing: border-box;\n  border-radius: 99px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg path {\n    fill: #7B9FD6;\n    transition: fill 0.3s;\n  }\n\n  &:hover {\n    background: #3A36E4;\n    color: #fff;\n    border-color: #3648E0;\n\n    svg path {\n      fill: #fff;\n    }\n  }\n\n  &.disabled {\n    pointer-events: none;\n    background: #1b1f25;\n    color: #475d80;\n    border-color: #101214;\n\n    svg path {\n      fill: #475d80;\n    }\n  }\n\n  &.warn:hover {\n    background: #E62519;\n  }\n"]))),L=s.b.div(w||(w=Object(i.a)(["\n  width: 80px;\n  height: 76px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 4px 26px 0 0;\n  cursor: pointer;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  position: relative;\n  flex-shrink: 0;\n\n  &.active::before {\n    content: '';\n    position: absolute;\n    width: 20px;\n    height: 3px;\n    border-radius: 2px;\n    top: -3px;\n  }\n\n  &.active {\n    background-color: #1A212A;\n\n    &:nth-child(1)::before {\n      background: #EFCC4F;\n    }\n    &:nth-child(2)::before {\n      background: #B04CFF;\n    }\n    &:nth-child(3)::before {\n      background: #2057E2;\n    }\n    &:nth-child(4)::before {\n      background: #097E3B;\n    }\n    &:nth-child(5)::before {\n      background: #EF1DAE;\n    }\n    &:nth-child(6)::before {\n      background: #2057E2;\n    }\n    &:nth-child(7)::before {\n      background: #EFCC4F;\n    }\n  }\n\n  &:hover {\n    background-color: #1C2530;\n  }\n\n  .icon {\n    width: 30px;\n    height: 30px;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-size: 14px;\n    line-height: 16px;\n    color: #516482;\n  }\n"]))),V=s.b.div(k||(k=Object(i.a)(["\n  margin: -8px 0 24px 0;\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  padding-right: 36px;\n  justify-content: space-between;\n"]))),D=s.b.div(C||(C=Object(i.a)(["\n  display: flex;\n  border-radius: 10px;\n  height: 30px;\n  color: #516482;\n  padding: 0 12px;\n  align-items: center;\n  &:hover {\n    color: #81ACF0;\n    background: #26384E;\n  }\n  &.active {\n    color: #81ACF0;\n    background: #26384E;\n  }\n"]))),N=s.b.div(I||(I=Object(i.a)(["\n  border-radius: 4px;\n  color: #81ACF0;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  margin-bottom: 10px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n  &:hover, &.active {\n    background: #26384E;\n  }\n"]))),G=s.b.div(T||(T=Object(i.a)(["\n  margin-bottom: 40px;\n  .asset-title {\n    color: #7185A6;\n    font-size: 14px;\n    line-height: 14px;\n    max-width: 200px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  &:hover {\n    .asset-title {\n      color: #fff;\n    }\n  }\n"]))),H=s.b.div(R||(R=Object(i.a)(["\n  width: 200px;\n  height: 112px;\n  margin: 0 36px 20px 0;\n"]))),P=s.b.div(_||(_=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  cursor: move;\n  overflow: hidden;\n  position: relative;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    vertical-align: unset;\n  }\n\n  video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .title {\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    color: #D5D5D5;\n    font-size: 12px;\n    height: 12px;\n    line-height: 12px;\n  }\n"]))),B=s.b.div(A||(A=Object(i.a)(["\n  display: flex;\n\n  >* {\n    margin-right: 10px;\n  }\n"]))),W=n(18),Y=n(205),X=n(3),q=n.n(X),J=n(6),Z=n(97),Q=n.n(Z);function K(e,t){Object.keys(t).forEach((function(n){e.style.setProperty(n.replace(/([A-Z])/g,"-$1").toLowerCase(),t[n])}))}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="",r=e%1e3;(r||t)&&(i=".".concat(String(r).padStart(3,"0")));var a=(e-r)/1e3,c=a%60;i="".concat(String(c).padStart(2,"0")).concat(i);var o=(a-c)/60,s=o%60;i="".concat(String(s).padStart(2,"0"),":").concat(i);var l=(o-s)/60;return(n||l)&&(i="".concat(String(l).padStart(2,"0"),":").concat(i)),i}function ee(e,t,n){return new Promise((function(i,r){var a=t.width,c=t.height,o=new Image;o.width=a,o.height=c,o.onload=function(){n&&(n.clearRect(0,0,a,c),n.drawImage(o,0,0)),i(!0)},o.onerror=function(e){r(e)},o.src="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.trim()))))}))}function te(e){return new Promise((function(t){window.setTimeout(t,e)}))}function ne(e,t){var n=document.createElement("a");if(n.href=e,n.target="_blank",n.download=t,navigator.userAgent.toLowerCase().match(/(ipad|iphone|safari)/)&&navigator.userAgent.search("Chrome")<0)document.location=n.href;else{var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(i),(window.URL||window.webkitURL).revokeObjectURL(n.href)}}function ie(e){var t=e.props,n=t.fontColor,i=t.fontSize,r=t.fontFamily;return["color:".concat(n),"font-size:".concat(i,"px"),"font-family:".concat(r),"font-weight:200","display:inline-block","transform-origin:left top","transform:scale(".concat(2,")")].join(";")}function re(e){var t=document.querySelector(".div-for-text-size-calc");t||((t=document.createElement("div")).setAttribute("class","div-for-text-size-calc"),document.body.appendChild(t)),t.innerText=e.value,t.style.cssText=ie(e);var n=t.getBoundingClientRect();return{width:Math.ceil(n.width),height:Math.ceil(n.height)}}function ae(e,t){return new Promise((function(n){var i=Q.a.loadAnimation({container:e,loop:!1,autoplay:!1,renderer:"canvas",animationData:t});i.isLoaded?n(i):i.addEventListener("DOMLoaded",(function(){n(i)}))}))}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(J.a)(q.a.mark((function e(t){var n,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("div"),document.body.appendChild(n),e.next=4,ae(n,t);case 4:return i=e.sent,r={width:t.w,height:t.h,duration:Math.round(1e3*i.getDuration())},i.destroy(),document.body.removeChild(n),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.RATIO_16_9=0]="RATIO_16_9",e[e.RATIO_9_16=1]="RATIO_9_16",e[e.RATIO_4_3=2]="RATIO_4_3",e[e.RATIO_3_4=3]="RATIO_3_4",e[e.RATIO_21_9=4]="RATIO_21_9",e[e.RATIO_1_1=5]="RATIO_1_1"}(E||(E={})),function(e){e[e.ALL=0]="ALL",e[e.EW=1]="EW",e[e.NS=2]="NS"}(z||(z={}));var se,le=function(e){var t=e.children,n=e.direction,i=void 0===n?z.ALL:n,c=e.scrollContainerSelector,o=e.autoGrow,s=e.enable,u=void 0===s||s,h=e.attachData,d=e.slow,p=void 0===d?1:d,v=e.onStart,b=e.onMove,j=e.onEnd,x=Object(r.useRef)(null),m=Object(r.useRef)(0),g=Object(r.useRef)(0),O=Object(r.useRef)(0),y=Object(r.useRef)(""),w=Object(r.useRef)(0),k=Object(r.useRef)(0),C=Object(r.useRef)(0),I=Object(r.useRef)(0),T=Object(r.useRef)(!1),R=Object(r.useRef)(0),_=Object(r.useRef)(!1),A=Object(r.useRef)(!1),E=Object(r.useState)(),S=Object(l.a)(E,2),U=S[0],F=S[1];Object(r.useEffect)((function(){U&&(T.current?(R.current=0,null===j||void 0===j||j(U)):(R.current=R.current+1,R.current%p===0&&(null===b||void 0===b||b(U))),F(void 0))}),[U,j,b,p]);var M=Object(r.useCallback)((function(e,t,n){var r="";z.ALL===i&&(r="translate(".concat(t-m.current,"px, ").concat(n-g.current,"px)")),z.EW===i&&(r="translate(".concat(t-m.current,"px, ").concat(k.current,"px)")),z.NS===i&&(r="translate(".concat(w.current,"px, ").concat(n-g.current,"px)")),e.style.transform=r}),[i]),L=Object(r.useCallback)((function(e,t,n){O.current=window.setInterval((function(){var i=t.getBoundingClientRect();e>0&&o&&t.scrollLeft+i.width>n.clientWidth-100&&(n.style.width="".concat(n.clientWidth+100,"px")),t.scrollLeft+=2*e}),1e3/60)}),[o]),V=Object(r.useCallback)((function(e,t,n){if(O&&(window.clearInterval(O.current),O.current=0),c){var i=100,r=document.querySelector(c);if(!A.current){if(!(null===e||void 0===e?void 0:e.closest(c)))return;A.current=!0}if(null===r||void 0===r?void 0:r.parentElement){var a=r.parentElement,s=a.getBoundingClientRect(),l=0;t>s.right-i?(o&&a.scrollLeft+s.width>r.clientWidth-100&&(r.style.width="".concat(r.clientWidth+100,"px")),l=5*(1+Math.min((t-s.right+i)/i,1))):t<s.left+i&&(l=-5*(1+Math.min((s.left+i-t)/i,1))),0!==l&&(a.scrollLeft+=l,L(l,a,r))}}}),[o,L,c]),D=Object(r.useCallback)((function(e){var t=x.current;if(t){t.hidden=!0;var n=document.elementFromPoint(e.clientX,e.clientY);M(t,e.pageX,e.pageY),V(n,e.pageX,e.pageY);var i=e.pageX-m.current,r=e.pageY-g.current,a=i-C.current,c=r-I.current;0===a&&0===c||(_.current=!0,F({element:t,belowElement:n,left:i,top:r,originalLeft:w.current,originalTop:k.current,stepLeft:i-C.current,stepTop:r-I.current,cursorLeft:e.pageX,cursorTop:e.pageY,attachData:h,isMoved:_.current}),C.current=i,I.current=r),t.hidden=!1}}),[M,V,h]),N=Object(r.useCallback)((function(e){var t=e.pageX,n=e.pageY,i=x.current;if(i){i.hidden=!0;var r=document.elementFromPoint(e.clientX,e.clientY);i.hidden=!1,i.classList.remove("dragged"),i.setAttribute("style",y.current),T.current=!0,F({element:i,belowElement:r,left:t-m.current,top:n-g.current,originalLeft:w.current,originalTop:k.current,stepLeft:0,stepTop:0,cursorLeft:t,cursorTop:n,attachData:h,isMoved:_.current})}window.clearInterval(O.current),window.removeEventListener("mousemove",D,!1),window.removeEventListener("mouseup",N,!1)}),[h,D]),G=Object(r.useCallback)((function(e){if(e.stopPropagation(),function(e){return!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)&&("buttons"in e?1===e.buttons:"which"in e?1===e.which:1===e.button||"click"===e.type)}(e)&&x.current){T.current=!1;var t=x.current,n=t.getBoundingClientRect(),i=n.left,r=n.top,a=n.width,c=n.height;m.current=e.clientX-i,g.current=e.clientY-r,y.current=t.getAttribute("style")||"",w.current=i,k.current=r,C.current=i,I.current=r,A.current=!1,_.current=!1,K(t,{transform:"translate(".concat(i,"px, ").concat(r,"px)"),width:"".concat(a,"px"),height:"".concat(c,"px")}),t.classList.add("dragged"),null===v||void 0===v||v(),M(t,e.pageX,e.pageY),window.addEventListener("mousemove",D,!1),window.addEventListener("mouseup",N,!1)}}),[D,N,M,v]);return Object(r.useEffect)((function(){var e=x.current;if(e&&u)return e.addEventListener("mousedown",G,!1),function(){e.removeEventListener("mousedown",G,!1)}}),[x,u,G]),Object(f.jsx)(f.Fragment,{children:a.a.cloneElement(t,{ref:function(e){return x.current=e}})})};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VIDEO=1]="VIDEO",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.TRANSITION=4]="TRANSITION",e[e.SVG=5]="SVG",e[e.LOTTIE=6]="LOTTIE",e[e.TEXT=7]="TEXT",e[e.GIF=8]="GIF"}(se||(se={}));var ue=n(14),fe=n(15),he=n(25),de=n(17),pe=n(26),ve=n(23),be=n(32),je=new Map;function xe(e,t,n){var i;if(!je.has(e)){var r=new Set;je.set(e,Object(be.a)({},t,r))}var a=je.get(e);a&&!a[t]&&(a[t]=new Set),null===(i=je.get(e))||void 0===i||i[t].add(n);var c=e[t];Object.defineProperty(e,t,{get:function(){return c},set:function(n){var i,r=c;(c=n,n!==r)&&(null===(i=je.get(e))||void 0===i||i[t].forEach((function(e){e(n,r)})))}})}var me,ge,Oe,ye,we=function(){function e(t,n){Object(ue.a)(this,e),this.isAttachToPainter=!1,this.isEntered=!1,this.player=void 0,this.painter=void 0,this.sprite=void 0,this.config=void 0,this.texture=void 0,this.config=t,this.player=n,this.painter=n.painter}return Object(fe.a)(e,[{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"show",value:function(){this.sprite&&(this.sprite.visible=!0)}},{key:"hide",value:function(){this.sprite&&(this.sprite.visible=!1)}},{key:"updatePlaybackRate",value:function(){}},{key:"getOriginalDuration",value:function(){return this.config.playRange.end-this.config.playRange.start}},{key:"addToPainter",value:function(){!this.isAttachToPainter&&this.sprite&&this.config.id&&(this.isAttachToPainter=!0,this.player.painter.add(this.sprite,this.config.id))}},{key:"removeFromPainter",value:function(){this.isAttachToPainter&&this.config.id&&(this.isAttachToPainter=!1,this.player.painter.remove(this.config.id))}},{key:"onEnter",value:function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.config,je.has(t)&&je.delete(t),this.removeFromPainter();case 2:case"end":return e.stop()}var t}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ke=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).context=new AudioContext,e.audioBuffer=void 0,e.source=void 0,e.playbackRate=1,e.isPlaying=!1,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAudioBuffer();case 3:this.audioBuffer=e.sent,this.updatePlaybackRate(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioBuffer",value:function(){var e=this;return new Promise((function(t,n){e.context.decodeAudioData(e.config.buffer.slice(0),(function(e){e?t(e):n(!1)}),(function(e){n(e)}))}))}},{key:"play",value:function(){if(this.audioBuffer){var e=this.context.createBufferSource();e.buffer=this.audioBuffer,e.loop=!1,e.start(0,(this.config.playRange.start+(this.player.currentTime-this.config.positionInTimeline.start)*this.playbackRate)/1e3),this.isPlaying=!0,this.source=e,this.source.connect(this.context.destination)}}},{key:"pause",value:function(){this.source&&(this.source.stop(),this.isPlaying=!1)}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.positionInTimeline.duration}},{key:"onEnter",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.play();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.pause();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.pause(),this.player.isPlaying&&this.play());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.source)||void 0===t||t.stop();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we),Ce=n(21),Ie=n(10);function Te(e,t,n,i,r,a,c){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Ie.Vector2(0,0),s=i,l=r,u=o.clone();if(e===j.CONTAIN){var f=t/n,h=a/c;f/h>1?(l=n,s=a*(n/c),u.set(.5*(t-s),0)):(s=t,l=c*(t/a),u.set(0,.5*(n-l)))}else if(e===j.COVER){var d=t/n,p=a/c;d/p>1?(s=t,l=c*(t/a),u.set(0,.5*(n-l))):(l=n,s=a*(n/c),u.set(.5*(t-s),0))}else e===j.FILL&&(s=t,l=n,u.set(0,0));var v=new Ie.Vector2(-u.x/s+0,(t-u.x)/s),b=new Ie.Vector2(-u.y/l+0,(n-u.y)/l);return[v,b]}var Re,_e,Ae,Ee,ze=function(){function e(){Object(ue.a)(this,e)}return Object(fe.a)(e,null,[{key:"GetVertex",value:function(){return Object(Ce.glsl)(me||(me=Object(i.a)(["\n      varying vec2 texCoords;\n      void main() {\n        texCoords = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    "])))}},{key:"GetFragment",value:function(){return Object(Ce.glsl)(ge||(ge=Object(i.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D tex;\n      void main() {\n        gl_FragColor = texture2D(tex, texCoords);\n      }\n    "])))}},{key:"GetEffectFragment",value:function(e){var t=e.effect;return Object(Ce.glsl)(Oe||(Oe=Object(i.a)(["\n      varying vec2 texCoords;\n      uniform vec2 uRange;\n      uniform vec2 vRange;\n      uniform sampler2D tex;\n      ","\n      vec4 getColor(vec2 uv) {\n        vec2 newUV = vec2(uRange.x + uv.x * (uRange.y - uRange.x), vRange.x + uv.y * (vRange.y - vRange.x));\n        vec4 color = effect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      void main() {\n        gl_FragColor = getColor(texCoords);\n      }\n    "])),t)}},{key:"GetTransitionFragment",value:function(e){var t=e.fromEffect,n=e.toEffect,r=e.transition;return Object(Ce.glsl)(ye||(ye=Object(i.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D from, to;\n      uniform vec2 fromURange, fromVRange;\n      uniform vec2 toURange, toVRange;\n      uniform float fromRatio, toRatio;\n      uniform float progress;\n      ","\n      ","\n      vec4 getFromColor(vec2 uv) {\n        vec2 newUV = vec2(fromURange.x + uv.x * (fromURange.y - fromURange.x), fromVRange.x + uv.y * (fromVRange.y - fromVRange.x));\n        vec4 color = fromEffect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      vec4 getToColor(vec2 uv) {\n        vec2 newUV = vec2(toURange.x + uv.x * (toURange.y - toURange.x), toVRange.x + uv.y * (toVRange.y - toVRange.x));\n        vec4 color = toEffect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      ","\n      void main() {\n        gl_FragColor = transition(texCoords);\n      }\n    "])),t,n,r)}}]),e}();var Se=(Ee={},Object(be.a)(Ee,x.NO_EFFECT,(function(){return{uniforms:{},fragment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tex",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"effect";return Object(Ce.glsl)(Re||(Re=Object(i.a)(["\n      vec4 ","(vec2 uv) {\n        return texture2D(",", uv);\n      }\n    "])),t,e)}}})),Object(be.a)(Ee,x.GRAY,(function(){return{uniforms:{},fragment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tex",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"effect";return Object(Ce.glsl)(_e||(_e=Object(i.a)(["\n      vec4 ","(vec2 uv) {\n        vec4 color = texture2D(",", uv);\n        float gray = (color.r+color.g+color.b)/3.;\n        return vec4(gray,gray,gray,color.a);\n      }\n    "])),t,e)}}})),Object(be.a)(Ee,x.BLUR,(function(e){return{uniforms:{blurSize:{value:10},horizontalPass:{value:1},sigma:{value:3},texOffset:{value:new Ie.Vector2(1,1)}},fragment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tex",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"effect";return Object(Ce.glsl)(Ae||(Ae=Object(i.a)(["\n      const float PI = 3.14159265;\n      vec4 ","(vec2 uv) {\n        float numBlurPixelsPerSide = float(blurSize / 2);\n\n        vec3 incrementalGaussian;\n        incrementalGaussian.x = 1.0 / (sqrt(2.0 * PI) * sigma);\n        incrementalGaussian.y = exp(-0.5 / (sigma * sigma));\n        incrementalGaussian.z = incrementalGaussian.y * incrementalGaussian.y;\n\n        vec4 avgValue = vec4(0.0, 0.0, 0.0, 0.0);\n        float coefficientSum = 0.0;\n        avgValue += texture2D(",", uv) * incrementalGaussian.x;\n        coefficientSum += incrementalGaussian.x;\n        incrementalGaussian.xy *= incrementalGaussian.yz;\n\n        for (float i = 1.0; i <= numBlurPixelsPerSide; i++) { \n          avgValue += texture2D(",", uv - i * texOffset) * incrementalGaussian.x;         \n          avgValue += texture2D(",", uv + i * texOffset) * incrementalGaussian.x;         \n          coefficientSum += 2.0 * incrementalGaussian.x;\n          incrementalGaussian.xy *= incrementalGaussian.yz;\n        }\n\n        return avgValue / coefficientSum;\n      }\n    "])),t,e,e,e)}}})),Ee);function Ue(e){return Se[e||x.NO_EFFECT]}var Fe,Me,Le,Ve,De=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.texture=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;xe(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),xe(this.config,"effect",(function(t){if(e.material){var n=Ue(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(u.a)(Object(u.a)({},e.material.uniforms),i),e.material.fragmentShader=ze.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),xe(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,c=n.bottom,o=e.player,s=e.config,u=Te(t.fitType,o.width,o.height,i,r,s.originalWidth,s.originalHeight,new Ie.Vector2(a,c)),f=Object(l.a)(u,2),h=f[0],d=f[1];e.material.uniforms.uRange.value=h,e.material.uniforms.vRange.value=d,e.material.uniformsNeedUpdate=!0}}))}},{key:"createTexture",value:function(){var e=this;return new Promise((function(t){(new Ie.TextureLoader).load(e.config.blobUrl,(function(e){t(e)}))}))}},{key:"initRender",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r,a,c,o,s,f,h,d,p,v,b,j,x,m,g;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.positionInRender,i=n.width,r=n.height,a=n.fitType,c=n.left,o=n.bottom,s=t.effect,f=t.originalWidth,h=t.originalHeight,d=this.player,p=Ue(s)(this),v=p.uniforms,b=p.fragment,j=Te(a,d.width,d.height,i,r,f,h,new Ie.Vector2(c,o)),x=Object(l.a)(j,2),m=x[0],g=x[1],e.next=6,this.createTexture();case 6:this.texture=e.sent,this.geometry=new Ie.PlaneGeometry(d.width,d.height),this.material=new Ie.ShaderMaterial({uniforms:Object(u.a)({tex:{value:this.texture},uRange:{value:m},vRange:{value:g}},v),vertexShader:ze.GetVertex(),fragmentShader:ze.GetEffectFragment({effect:b()})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we),Ne=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.lottieInstance=void 0,e.container=document.createElement("div"),e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(this.container,{width:"".concat(2*this.config.originalWidth,"px"),height:"".concat(2*this.config.originalHeight,"px")}),document.body.appendChild(this.container),e.next=4,this.initLottie();case 4:this.initRender(),this.watchChange();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;xe(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),xe(this.config,"effect",(function(t){if(e.material){var n=Ue(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(u.a)(Object(u.a)({},e.material.uniforms),i),e.material.fragmentShader=ze.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),xe(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,c=n.bottom,o=e.player,s=e.config,u=Te(t.fitType,o.width,o.height,i,r,s.originalWidth,s.originalHeight,new Ie.Vector2(a,c)),f=Object(l.a)(u,2),h=f[0],d=f[1];e.material.uniforms.uRange.value=h,e.material.uniforms.vRange.value=d,e.material.uniformsNeedUpdate=!0}}))}},{key:"initLottie",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.container,this.config.animationData);case 2:this.lottieInstance=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initRender",value:function(){var e=this.container.querySelector("canvas");if(this.lottieInstance&&e){var t=this.config,n=t.positionInRender,i=n.width,r=n.height,a=n.fitType,c=n.left,o=n.bottom,s=t.effect,f=t.originalWidth,h=t.originalHeight,d=this.player,p=Ue(s)(this),v=p.uniforms,b=p.fragment,j=Te(a,d.width,d.height,i,r,f,h,new Ie.Vector2(c,o)),x=Object(l.a)(j,2),m=x[0],g=x[1];this.texture=new Ie.CanvasTexture(e),this.geometry=new Ie.PlaneGeometry(d.width,d.height),this.material=new Ie.ShaderMaterial({uniforms:Object(u.a)({tex:{value:this.texture},uRange:{value:m},vRange:{value:g}},v),vertexShader:ze.GetVertex(),fragmentShader:ze.GetEffectFragment({effect:b()})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}}},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.texture&&this.lottieInstance&&(t=this.player.currentTime,this.lottieInstance.goToAndStop(t-this.config.positionInTimeline.start),this.texture.needsUpdate=!0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.lottieInstance)||void 0===t||t.destroy(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we),Ge=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).canvas=document.createElement("canvas"),e.context=void 0,e.geometry=void 0,e.material=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initCanvas(),this.initRender(),this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;xe(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)}))}},{key:"initCanvas",value:function(){var e=this.painter.getRealSize(),t=e.width,n=e.height;this.canvas.width=t,this.canvas.height=n,this.context=this.canvas.getContext("2d")}},{key:"initRender",value:function(){var e=this.player,t=e.width,n=e.height;this.geometry=new Ie.PlaneGeometry(t,n),this.material=new Ie.MeshBasicMaterial,this.material.map=new Ie.CanvasTexture(this.canvas),this.material.transparent=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r,a,c,o,s,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=this.material)||void 0===t?void 0:t.map)){e.next=8;break}return n=this.config.positionInTimeline,i=n.start,r=n.end,a=this.player.currentTime,c=this.painter.getRealSize(),o=c.width,s=c.height,l=this.config.func({start:i,end:r,currentTime:a,width:o,height:s}),e.next=7,ee(l,this.canvas,this.context);case 7:this.material.map.needsUpdate=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.geometry)||void 0===t||t.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we),He=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).canvas=document.createElement("canvas"),e.context=void 0,e.geometry=void 0,e.material=void 0,e.texture=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initTexture();case 2:this.initRender(),this.watchChange();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;xe(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),xe(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,c=n.bottom,o=e.player,s=e.config,u=Te(t.fitType,o.width,o.height,i,r,s.originalWidth,s.originalHeight,new Ie.Vector2(a,c)),f=Object(l.a)(u,2),h=f[0],d=f[1];e.material.uniforms.uRange.value=h,e.material.uniforms.vRange.value=d,e.material.uniformsNeedUpdate=!0}}))}},{key:"initTexture",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.originalWidth,i=t.originalHeight,this.canvas.width=n,this.canvas.height=i,this.context=this.canvas.getContext("2d"),a=this.config,r='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">\n    <foreignObject width="100%" height="100%">\n      <div xmlns="http://www.w3.org/1999/xhtml">\n        <div style="'.concat(ie(a),'">\n          ').concat(a.value,"\n        </div>\n      </div>\n    </foreignObject>\n  </svg>"),e.next=7,ee(r,this.canvas,this.context);case 7:this.texture=new Ie.CanvasTexture(this.canvas);case 8:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initRender",value:function(){var e=this.config,t=e.positionInRender,n=t.width,i=t.height,r=t.fitType,a=t.left,c=t.bottom,o=e.effect,s=e.originalWidth,f=e.originalHeight,h=this.player,d=Ue(o)(this),p=d.uniforms,v=d.fragment;this.geometry=new Ie.PlaneGeometry(h.width,h.height);var b=Te(r,h.width,h.height,n,i,s,f,new Ie.Vector2(a,c)),j=Object(l.a)(b,2),x=j[0],m=j[1];this.material=new Ie.ShaderMaterial({uniforms:Object(u.a)({tex:{value:this.texture},uRange:{value:x},vRange:{value:m}},p),vertexShader:ze.GetVertex(),fragmentShader:ze.GetEffectFragment({effect:v()})}),this.material.transparent=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we);var Pe=Object.freeze((Ve={},Object(be.a)(Ve,m.MORPH,(function(){return{uniforms:{strength:{value:.1}},fragment:Object(Ce.glsl)(Fe||(Fe=Object(i.a)(["\n      uniform float strength; // = 0.1\n      vec4 transition(vec2 p) {\n        vec4 ca = getFromColor(p);\n        vec4 cb = getToColor(p);\n        \n        vec2 oa = (((ca.rg+ca.b)*0.5)*2.0-1.0);\n        vec2 ob = (((cb.rg+cb.b)*0.5)*2.0-1.0);\n        vec2 oc = mix(oa,ob,0.5)*strength;\n        \n        float w0 = progress;\n        float w1 = 1.0-w0;\n        return mix(getFromColor(p+oc*w0), getToColor(p-oc*w1), progress);\n      }\n    "])))}})),Object(be.a)(Ve,m.DREAMY,(function(){return{uniforms:{},fragment:Object(Ce.glsl)(Me||(Me=Object(i.a)(["\n      vec2 offset(float progress, float x, float theta) {\n        float phase = progress*progress + progress + theta;\n        float shifty = 0.03*progress*cos(10.0*(progress+x));\n        return vec2(0, shifty);\n      }\n      vec4 transition(vec2 p) {\n        return mix(getFromColor(p + offset(progress, p.x, 0.0)), getToColor(p + offset(1.0-progress, p.x, 3.14)), progress);\n      }\n    "])))}})),Object(be.a)(Ve,m.FADE,(function(){return{uniforms:{},fragment:Object(Ce.glsl)(Le||(Le=Object(i.a)(["\n      vec4 transition(vec2 uv) {\n        return mix(\n          getFromColor(uv),\n          getToColor(uv),\n          progress\n        );\n      }\n    "])))}})),Ve));function Be(e){return Pe[e]()}var We=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.fromClip=void 0,e.toClip=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;this.fromClip&&this.toClip&&(xe(this.fromClip.config,"effect",(function(){e.updateShader()})),xe(this.fromClip.config,"positionInRender",(function(){e.updateUniforms()})),xe(this.toClip.config,"effect",(function(){e.updateShader()})),xe(this.toClip.config,"positionInRender",(function(){e.updateUniforms()})))}},{key:"updateUniforms",value:function(){if(this.fromClip&&this.toClip&&this.material){var e=this.fromClip.config,t=e.originalWidth,n=e.originalHeight,i=e.positionInRender,r=i.width,a=i.height,c=i.fitType,o=i.left,s=i.bottom,u=this.toClip.config,f=u.originalWidth,h=u.originalHeight,d=u.positionInRender,p=d.width,v=d.height,b=d.fitType,j=d.left,x=d.bottom,m=this.player,g=Te(c,m.width,m.height,r,a,t,n,new Ie.Vector2(o,s)),O=Object(l.a)(g,2),y=O[0],w=O[1],k=Te(b,m.width,m.height,p,v,f,h,new Ie.Vector2(j,x)),C=Object(l.a)(k,2),I=C[0],T=C[1];this.material.uniforms.fromURange.value=y,this.material.uniforms.fromVRange.value=w,this.material.uniforms.toURange.value=I,this.material.uniforms.toVRange.value=T,this.material.uniformsNeedUpdate=!0}}},{key:"updateShader",value:function(){if(this.fromClip&&this.toClip&&this.material){var e=this.config.transition,t=this.fromClip.config.effect,n=this.toClip.config.effect,i=Ue(t)(),r=i.uniforms,a=i.fragment,c=Ue(n)(),o=c.uniforms,s=c.fragment,l=Be(e),f=l.uniforms,h=l.fragment;this.material.uniforms=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},this.material.uniforms),r),o),f),this.material.fragmentShader=ze.GetTransitionFragment({fromEffect:a("from","fromEffect"),toEffect:s("to","toEffect"),transition:h}),this.material.needsUpdate=!0}}},{key:"initRender",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r,a,c,o,s,f,h,d,p,v,b,j,x,m,g,O,y,w,k,C,I,T,R,_,A,E,z,S,U,F,M,L,V,D,N,G,H;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player,n=this.config,i=n.fromId,r=n.toId,a=n.transition,c=this.fromClip=t.getClipById(i),o=this.toClip=t.getClipById(r),c&&o&&(s=c.config,f=s.originalWidth,h=s.originalHeight,d=s.positionInRender,p=d.width,v=d.height,b=d.fitType,j=s.effect,x=o.config,m=x.originalWidth,g=x.originalHeight,O=x.positionInRender,y=O.width,w=O.height,k=O.fitType,C=x.effect,I=Ue(j)(),T=I.uniforms,R=I.fragment,_=Ue(C)(),A=_.uniforms,E=_.fragment,z=Be(a),S=z.uniforms,U=z.fragment,F=Te(b,t.width,t.height,p,v,f,h),M=Object(l.a)(F,2),L=M[0],V=M[1],D=Te(k,t.width,t.height,y,w,m,g),N=Object(l.a)(D,2),G=N[0],H=N[1],this.geometry=new Ie.PlaneGeometry(t.width,t.height),this.material=new Ie.ShaderMaterial({uniforms:Object(u.a)(Object(u.a)(Object(u.a)({from:{value:c.texture},to:{value:o.texture},progress:{value:0},fromURange:{value:L},fromVRange:{value:V},toURange:{value:G},toVRange:{value:H}},T),A),S),vertexShader:ze.GetVertex(),fragmentShader:ze.GetTransitionFragment({fromEffect:R("from","fromEffect"),toEffect:E("to","toEffect"),transition:U})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=o.config.zIndex);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEnter",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fromClip&&this.toClip&&(this.fromClip.hide(),this.toClip.hide(),this.render());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fromClip&&this.toClip&&(this.fromClip.show(),this.toClip.show());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.render();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(t=this.material)||void 0===t?void 0:t.uniforms)&&(n=this.config.positionInTimeline,i=n.start,r=n.end,a=(this.player.currentTime-i)/(r-i),this.material.uniforms.progress.value=a);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we),Ye=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.texture=void 0,e.video=void 0,e.playbackRate=1,e.isPlaying=!1,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.updatePlaybackRate(),this.watchChange();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;xe(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),xe(this.config,"effect",(function(t){if(e.material){var n=Ue(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(u.a)(Object(u.a)({},e.material.uniforms),i),e.material.fragmentShader=ze.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),xe(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,c=n.bottom,o=e.player,s=e.config,u=Te(t.fitType,o.width,o.height,i,r,s.originalWidth,s.originalHeight,new Ie.Vector2(a,c)),f=Object(l.a)(u,2),h=f[0],d=f[1];e.material.uniforms.uRange.value=h,e.material.uniforms.vRange.value=d,e.material.uniformsNeedUpdate=!0}}))}},{key:"createTexture",value:function(){var e=this;return new Promise(function(){var t=Object(J.a)(q.a.mark((function t(n,i){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.video=document.createElement("video"),e.video.loop=!1,e.video.autoplay=!1,e.video.addEventListener("loadedmetadata",Object(J.a)(q.a.mark((function t(){var i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.video){t.next=5;break}return i=new Ie.VideoTexture(e.video),t.next=4,i.setCurrentTime(e.config.playRange.start);case 4:n(i);case 5:case"end":return t.stop()}}),t)})))),e.video.src=e.config.blobUrl;case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"initRender",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r,a,c,o,s,f,h,d,p,v,b,j,x,m,g;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.effect,i=t.positionInRender,r=i.width,a=i.height,c=i.fitType,o=i.left,s=i.bottom,f=t.originalWidth,h=t.originalHeight,d=this.player,p=Ue(n)(this),v=p.uniforms,b=p.fragment,j=Te(c,d.width,d.height,r,a,f,h,new Ie.Vector2(o,s)),x=Object(l.a)(j,2),m=x[0],g=x[1],e.next=6,this.createTexture();case 6:this.texture=e.sent,this.geometry=new Ie.PlaneGeometry(d.width,d.height),this.material=new Ie.ShaderMaterial({uniforms:Object(u.a)({tex:{value:this.texture},uRange:{value:m},vRange:{value:g}},v),vertexShader:ze.GetVertex(),fragmentShader:ze.GetEffectFragment({effect:b()})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e;null===(e=this.video)||void 0===e||e.play(),this.isPlaying=!0}},{key:"pause",value:function(){var e;null===(e=this.video)||void 0===e||e.pause(),this.isPlaying=!1}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.positionInTimeline.duration}},{key:"correctVideoCurrentTime",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.currentTime,this.video&&Math.abs(this.video.playbackRate-this.playbackRate)>=1e-5&&(this.video.playbackRate=this.playbackRate),n=this.config.playRange.start+(t-this.config.positionInTimeline.start)*this.playbackRate,e.next=5,this.texture.setCurrentTime(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEnter",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.play();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pause(),!this.texture){e.next=4;break}return e.next=4,this.texture.setCurrentTime(this.config.playRange.start);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,this.correctVideoCurrentTime();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),this.video&&(this.video=void 0),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we),Xe=n(98),qe=function(){function e(){Object(ue.a)(this,e),this.items=[],this.pendingPromise=!1}return Object(fe.a)(e,[{key:"enqueue",value:function(e){var t=this;return new Promise((function(n,i){t.items.push({action:e,resolve:n,reject:i}),t.pendingPromise||t.dequeue()})).then((function(e){return e})).catch((function(e){throw new Error(e)})).finally((function(){t.pendingPromise=!1,t.dequeue()}))}},{key:"dequeue",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.items.shift()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,this.pendingPromise=!0,e.next=7,t.action();case 7:n=e.sent,t.resolve(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.reject(e.t0);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Je(e){try{return e.split(",")[0].replace("Duration:","").trim()}catch(t){return""}}function Ze(e){try{var t=e.split("Video:")[1].replace(/\(.*?\)/gi,"").split(","),n=t[2].split("x");return{codec:t[0].trim(),colorSpace:t[1].trim(),resolution:{width:parseInt(n[0].trim()),height:parseInt(n[1].trim())},fps:parseInt(t[4].replace("fps","").trim())}}catch(i){return{}}}function Qe(e){try{var t=e.split("Audio:")[1].replace(/\(.*?\)/gi,"").split(",");return{codec:t[0].trim(),Hz:parseInt(t[1].replace("Hz","").trim())}}catch(n){return{}}}function Ke(e){if(Math.abs(e-1)<=1e-5)return"";if(e>=.5&&e<=2)return",atempo=".concat(e);if(e>0&&e<.5){for(var t=.5,n=",atempo=0.5";t>e;)t*=.5,n+=",atempo=0.5";return Math.abs(t-e)>1e-5&&(n+=",atempo=".concat((e/t).toFixed(2))),n}if(e>2){for(var i=2,r=",atempo=2.0";i<e;)i*=2,r+=",atempo=2.0";return Math.abs(i-e)>1e-5&&(r+=",atempo=".concat((i/e).toFixed(2))),r}return""}var $e=function(){function e(){Object(ue.a)(this,e)}return Object(fe.a)(e,null,[{key:"Load",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tt.ffmpeg.isLoaded()){e.next=3;break}return e.next=3,tt.ffmpeg.load();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"GetVersion",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ffmpeg.run("-version");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"VideoTranscode",value:function(){var t=Object(J.a)(q.a.mark((function t(n){var i,r,a,c,o,s=arguments;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>1&&void 0!==s[1]?s[1]:"h264",r=e.ffmpeg,a="".concat(Object(Y.a)()),c="".concat(Object(Y.a)(),".mp4"),r.FS("writeFile",a,new Uint8Array(n)),t.next=7,r.run("-i",a,"-c:v",i,"-c:a","aac",c);case 7:return o=r.FS("readFile",c),r.FS("unlink",a),r.FS("unlink",c),t.abrupt("return",o.buffer);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"GetMediaInfo",value:function(){var t=Object(J.a)(q.a.mark((function t(n){var i,r,a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.ffmpeg,r="".concat(Object(Y.a)()),a={},i.setLogger((function(e){var t=e.type,n=e.message;"fferr"===t&&(n.includes("Duration")?a.duration=Je(n):n.includes("Stream #0")&&(n.includes("Video:")?a.video=Ze(n):n.includes("Audio:")&&(a.audio=Qe(n))))})),i.FS("writeFile",r,new Uint8Array(n)),t.next=7,i.run("-i",r);case 7:return i.FS("unlink",r),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"MergeAudios",value:function(){var t=Object(J.a)(q.a.mark((function t(n){var i,r,a,c,o,s,l;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.ffmpeg,r="".concat(Object(Y.a)(),".aac"),a=Object(Y.a)(),c=n.map((function(e,t){return["-i","".concat(a,"_").concat(t),"-ss","".concat(e.from/1e3),"-to","".concat((e.to-e.from)/1e3)]})).flat(1),o=n.map((function(e,t){var n=e.delay/1e3;return"[".concat(t,":a]adelay=").concat(n,"|").concat(n,"|").concat(n,"|").concat(n).concat(Ke(e.tempo),"[a").concat(t,"];")})).join(""),s=n.map((function(e,t){return"[a".concat(t,"]")})).join(""),n.forEach((function(e,t){i.FS("writeFile","".concat(a,"_").concat(t),new Uint8Array(e.buffer))})),t.next=9,i.run.apply(i,Object(W.a)(c).concat(["-filter_complex","".concat(o).concat(s,"amix=inputs=").concat(n.length,"[aout]"),"-map","[aout]",r]));case 9:return l=i.FS("readFile",r),n.forEach((function(e,t){i.FS("unlink","".concat(a,"_").concat(t))})),i.FS("unlink",r),t.abrupt("return",l.buffer);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"ImagesToVideo",value:function(){var t=Object(J.a)(q.a.mark((function t(n){var i,r,a,c,o=arguments;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>1&&void 0!==o[1]?o[1]:30,r=e.ffmpeg,a="".concat(Object(Y.a)(),".mp4"),n.forEach((function(e,t){r.FS("writeFile","export_".concat(t.toString().padStart(4,"0"),".jpg"),new Uint8Array(e))})),t.next=6,r.run("-framerate","".concat(i),"-i","export_%04d.jpg","-c:v","libx264","-pix_fmt","yuv420p","-preset","ultrafast","-crf","1",a);case 6:return c=r.FS("readFile",a),n.forEach((function(e,t){r.FS("unlink","export_".concat(t.toString().padStart(4,"0"),".jpg"))})),r.FS("unlink",a),t.abrupt("return",c.buffer);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"MergeVideoAudio",value:function(){var t=Object(J.a)(q.a.mark((function t(n,i){var r,a,c,o,s;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ffmpeg,a="".concat(Object(Y.a)(),".mp4"),c="".concat(Object(Y.a)(),".aac"),o="".concat(Object(Y.a)(),".mp4"),r.FS("writeFile",a,new Uint8Array(n)),r.FS("writeFile",c,new Uint8Array(i)),t.next=8,r.run("-i",a,"-i",c,"-c","copy",o);case 8:return s=r.FS("readFile",o),r.FS("unlink",a),r.FS("unlink",c),r.FS("unlink",o),t.abrupt("return",s.buffer);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();$e.ffmpeg=void 0,$e.ffmpeg=Object(Xe.createFFmpeg)({log:!0});var et=new qe,tt=new Proxy($e,{get:function(e,t){var n=t in e?e[t]:void 0;return"function"===typeof n?Object(J.a)(q.a.mark((function t(){var i,r,a,c=arguments;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=c.length,r=new Array(i),a=0;a<i;a++)r[a]=c[a];return t.abrupt("return",et.enqueue(Object(J.a)(q.a.mark((function t(){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$e.Load();case 2:return t.next=4,n.apply(e,r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))):n}}),nt=tt,it=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.playbackRate=1,e.textureData=void 0,e.currentFrame=0,e.texture=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initRender(),this.watchChange();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;xe(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),xe(this.config,"effect",(function(t){if(e.material){var n=Ue(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(u.a)(Object(u.a)({},e.material.uniforms),i),e.material.fragmentShader=ze.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),xe(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,c=n.bottom,o=e.player,s=e.config,u=Te(t.fitType,o.width,o.height,i,r,s.originalWidth,s.originalHeight,new Ie.Vector2(a,c)),f=Object(l.a)(u,2),h=f[0],d=f[1];e.material.uniforms.uRange.value=h,e.material.uniforms.vRange.value=d,e.material.uniformsNeedUpdate=!0}}))}},{key:"createTexture",value:function(e,t,n){this.textureData=new Uint8ClampedArray(e);var i=new Ie.DataTexture(this.textureData,t,n,Ie.RGBAFormat);return i.flipY=!0,i}},{key:"initRender",value:function(){var e=this.config,t=e.positionInRender,n=t.fitType,i=t.width,r=t.height,a=t.left,c=t.bottom,o=e.originalWidth,s=e.originalHeight,f=e.effect,h=e.frames,d=this.player,p=Ue(f)(this),v=p.uniforms,b=p.fragment,j=Te(n,d.width,d.height,i,r,o,s,new Ie.Vector2(a,c)),x=Object(l.a)(j,2),m=x[0],g=x[1];this.texture=this.createTexture(h[0].patch,o,s),this.geometry=new Ie.PlaneGeometry(d.width,d.height),this.material=new Ie.ShaderMaterial({uniforms:Object(u.a)(Object(u.a)({},v),{},{tex:{value:this.texture},uRange:{value:m},vRange:{value:g}}),vertexShader:ze.GetVertex(),fragmentShader:ze.GetEffectFragment({effect:b()})}),this.material.transparent=!0,this.material.uniformsNeedUpdate=!0,this.sprite=new Ie.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}},{key:"getFrame",value:function(){for(var e=this.config.playRange.start+(this.player.currentTime-this.config.positionInTimeline.start)*this.playbackRate,t=0,n=0;n<this.config.frames.length;n++){var i=this.config.frames[n];if(e<=(t+=i.delay)&&this.currentFrame!==n)return this.currentFrame=n,i}}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.positionInTimeline.duration}},{key:"onUpdate",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.getFrame())&&this.texture&&this.textureData&&(this.textureData.set(t.patch),this.texture.needsUpdate=!0);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(he.a)(Object(de.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(we);function rt(e,t){switch(e.type){case se.VIDEO:return new Ye(e,t);case se.IMAGE:return new De(e,t);case se.TRANSITION:return new We(e,t);case se.TEXT:return new He(e,t);case se.AUDIO:return new ke(e,t);case se.SVG:return new Ge(e,t);case se.LOTTIE:return new Ne(e,t);case se.GIF:return new it(e,t)}}function at(e){return new Promise((function(t){e.toBlob(function(){var e=Object(J.a)(q.a.mark((function e(n){var i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,n.arrayBuffer();case 3:i=e.sent,t(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"image/jpeg",1)}))}function ct(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(J.a)(q.a.mark((function e(t,n){var i,r,a,c,o,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Math.round(1e3/n),r=[],a=0;case 3:if(!(a<=t.duration)){e.next=15;break}return e.next=6,t.setCurrentTime(a);case 6:return e.next=8,at(t.painter.getDomElement());case 8:return c=e.sent,r.push(c),e.next=12,te(10);case 12:a+=i,e.next=3;break;case 15:if(!(a>t.duration)){e.next=21;break}return t.setCurrentTime(t.duration),e.next=19,at(t.painter.getDomElement());case 19:o=e.sent,r.push(o);case 21:return e.next=23,nt.ImagesToVideo(r,n);case 23:return s=e.sent,r.length=0,e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e){var t=[];return e.clips.forEach((function(e){[se.AUDIO,se.VIDEO].includes(e.config.type)&&t.push({delay:e.config.positionInTimeline.start,from:0,to:e.getOriginalDuration(),tempo:e.playbackRate,type:e.config.type,buffer:e.config.buffer.slice(0)})})),t}function lt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(J.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=st(t)).length){e.next=5;break}return e.next=4,nt.MergeAudios(n);case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return ft=Object(J.a)(q.a.mark((function e(t){var n,i,r,a,c,o=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"export.mp4",i=o.length>2&&void 0!==o[2]?o[2]:30,e.prev=2,e.next=5,ct(t,i).catch((function(e){alert("video: ".concat(e))}));case 5:return r=e.sent,e.next=8,te(100);case 8:return e.next=10,lt(t).catch((function(e){alert("audio: ".concat(e))}));case 10:return a=e.sent,e.next=13,te(100);case 13:if(!(r instanceof ArrayBuffer&&a instanceof ArrayBuffer)){e.next=19;break}return e.next=16,nt.MergeVideoAudio(r,a);case 16:c=e.sent,e.next=24;break;case 19:if(!(r instanceof ArrayBuffer)){e.next=23;break}c=r,e.next=24;break;case 23:return e.abrupt("return");case 24:ne(URL.createObjectURL(new Blob([c],{type:"video/mp4"})),n),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),alert(e.t0);case 30:case"end":return e.stop()}}),e,null,[[2,27]])}))),ft.apply(this,arguments)}function ht(e,t,n){var i=e.originalWidth,r=e.originalHeight,a=e.positionInRender,c=a.fitType,o=a.width,s=a.height,l=a.left,u=a.bottom;if(c===j.CONTAIN)t/n/(i/r)>1?(s=n,l=.5*(t-(o=i*(n/r))),u=0):(o=t,l=0,u=.5*(n-(s=r*(t/i))));else if(c===j.COVER){t/n/(i/r)>1?(o=t,l=0,u=.5*(n-(s=r*(t/i)))):(s=n,l=.5*(t-(o=i*(n/r))),u=0)}else c===j.FILL&&(o=t,s=n,l=0,u=0);return{width:o,height:s,left:l,bottom:u}}var dt="track-wrapper",pt=100,vt={hoverTrack:null,setHoverTrack:function(){},tracks:[],setTracks:function(){},newTrackIndex:-1,setNewTrackIndex:function(){},activeClip:void 0,setActiveClip:function(){},currentTime:0,setCurrentTime:function(){},totalDuration:0,setTotalDuration:function(){},isPlaying:!1,setIsPlaying:function(){},ratio:E.RATIO_16_9,setRatio:function(){},setDraggingClip:function(){}},bt=".".concat(dt);function jt(e){var t=document.querySelector(".tracks-wrapper");if(e&&t){var n=t.getBoundingClientRect(),i=parseInt(getComputedStyle(t).paddingLeft,10);return{x:Math.max(0,e.x-n.x-i),y:Math.max(0,e.y-n.y)}}return{x:0,y:0}}function xt(e){var t;return e?Array.prototype.slice.call(null===(t=e.parentElement)||void 0===t?void 0:t.querySelectorAll(bt)).indexOf(e):-1}function mt(e,t,n){var i=e.closest(".tracks-wrapper");if(i)for(var r=i.querySelectorAll(".".concat(dt)),a=0;a<r.length;a++){var c=r[a].getBoundingClientRect(),o=c.y,s=c.height;if(n>=o&&n<=o+s){if(n>=o&&n<=o+12)return{isTop:!0,index:a,trackElement:r[a]};if(n<=o+s&&n>=o+s-12)return{isBottom:!0,index:a,trackElement:r[a]};if(n>=o&&n<=o+s)return{isNew:!1,index:a,trackElement:r[a]}}}return{index:-1,trackElement:null}}function gt(e,t){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)if(e[n][i].id===t)return{trackIndex:n,clipIndex:i};return{trackIndex:-1,clipIndex:-1}}function Ot(e){return!(0===e.length||1===e.length&&0===e[0].length)}function yt(e){return(e||0)/1e3*pt}function wt(e){return Math.round(e/pt*1e3)}function kt(e,t){if(t.length){for(var n=0;n<t.length;n++){var i=t[n].positionInTimeline,r=i.start,a=i.end;if(e>=r&&e<=a)return-1;if(e<r)return n}if(e>t[t.length-1].positionInTimeline.end)return t.length}return 0}function Ct(e,t){var n=t[e-1],i=t[e];return n||i?!n&&i?{start:0,end:i.positionInTimeline.start}:n&&i?{start:n.positionInTimeline.end,end:i.positionInTimeline.start}:n&&!i?{start:n.positionInTimeline.end,end:1e10}:{start:0,end:0}:{start:0,end:1e10}}function It(e,t){if(t[0]>=e[0]&&t[1]<=e[1])return t;if(t[0]>=e[0]&&t[1]>e[1]){var n=t[1]-e[1];return[Math.max(t[0]-n,e[0]),Math.min(t[1]-n,e[1])]}if(t[0]<e[0]&&t[1]<=e[1]){var i=e[0]-t[0];return[Math.max(t[0]+i,e[0]),Math.min(t[1]+i,e[1])]}return t[0]<=e[0]&&t[1]>=e[1]?e:t}function Tt(e){var t=0;return e.forEach((function(e){if(null===e||void 0===e?void 0:e.length){var n=e[e.length-1];t=Math.max(t,n.positionInTimeline.end)}})),t}function Rt(e){return[se.VIDEO,se.IMAGE,se.GIF].includes(e)}function _t(e,t){return e.flat(1).filter((function(e){return e.type===se.TRANSITION})).findIndex((function(e){return e.fromId===t}))>-1}function At(e,t){return e.flat(1).filter((function(e){return e.type===se.TRANSITION})).findIndex((function(e){return e.toId===t}))>-1}function Et(e){var t=e.tracks,n=e.activeClip,i=e.setTracks,r=e.setActiveClip;if(n){var a=gt(t,n.id),c=a.trackIndex,o=a.clipIndex;if(n.type===se.TRANSITION){var s,l,u=t[c][o-1],f=t[c][o+1],h=t[c][o+2],d=It([(null===u||void 0===u||null===(s=u.positionInTimeline)||void 0===s?void 0:s.end)||0,(null===h||void 0===h||null===(l=h.positionInTimeline)||void 0===l?void 0:l.start)||1e10],[f.positionInTimeline.start+n.positionInTimeline.duration/2,f.positionInTimeline.end+n.positionInTimeline.duration/2]);Object.assign(f,{positionInTimeline:{start:d[0],end:d[1],duration:d[1]-d[0]}}),t[c].splice(o,1)}else _t(t,n.id)?(t[c].splice(o,1),t[c].splice(o,1)):At(t,n.id)?(t[c].splice(o,1),t[c].splice(o-1,1)):t[c].splice(o,1);r(void 0),i(Object(W.a)(t))}}function zt(e,t,n){var i=gt(e,n),r=i.trackIndex,a=i.clipIndex;if(r>-1&&a>-1){var c=e[r][a],o=St(c.type),s=c.positionInTimeline,l=s.start,u=s.end;return o&&l<t&&u>t}return!1}function St(e){return[se.AUDIO,se.GIF,se.IMAGE,se.VIDEO].includes(e)}function Ut(e){var t=e.tracks,n=e.activeClip,i=e.setTracks,r=e.currentTime;if(n){var a=gt(t,n.id),c=a.trackIndex,o=a.clipIndex,s=St(n.type),l=n.positionInTimeline,f=l.start,h=l.end;if(s&&f<r&&h>r){var d=(r-f)/(h-f),p=Math.round((n.playRange.end-n.playRange.start)*d);t[c].splice(o+1,0,Object(u.a)(Object(u.a)({},n),{},{id:Object(Y.a)(),playRange:{start:p,end:n.playRange.end},positionInTimeline:{start:r,end:h,duration:h-r}})),Object.assign(n,{playRange:{start:n.playRange.start,end:p},positionInTimeline:{start:f,end:r,duration:r-f}}),i(Object(W.a)(t))}}}function Ft(){var e=document.querySelector(".player");return e?e.getBoundingClientRect():{width:0,height:0,x:0,y:0,left:0,right:0,top:0,bottom:0,toJSON:function(){}}}function Mt(e,t,n){var i=function(e){switch(e){case E.RATIO_16_9:return 16/9;case E.RATIO_1_1:return 1;case E.RATIO_21_9:return 21/9;case E.RATIO_3_4:return 3/4;case E.RATIO_4_3:return 4/3;case E.RATIO_9_16:return 9/16}}(e),r=0,a=0;return i*n>t?(r=Math.round(t),a=Math.round(t/i)):(r=Math.round(i*n),a=Math.round(n)),r%2!==0&&(r-=1),a%2!==0&&(a-=1),{width:r,height:a}}var Lt,Vt=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){t.buffer||fetch(t.url).then((function(e){return e.blob()})).then((function(e){var i=URL.createObjectURL(e),r=document.createElement("audio");r.loop=!1,r.addEventListener("loadedmetadata",(function(){e.arrayBuffer().then((function(e){var i=Math.round(1e3*r.duration);n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:i}),playRange:{start:0,end:i},buffer:e}))})).catch((function(e){alert(e.message)}))})),r.src=i})).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(P,{children:[Object(f.jsx)("audio",{src:t.url}),Object(f.jsx)("div",{className:"title",children:t.name})]})},Dt=n(75),Nt=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){var e;(null===t||void 0===t||null===(e=t.frames)||void 0===e?void 0:e.length)||fetch(t.url).then((function(e){return e.arrayBuffer()})).then((function(e){var i=Object(Dt.parseGIF)(e),r=Object(Dt.decompressFrames)(i,!0),a=0;r.forEach((function(e){a+=e.delay})),n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:a}),positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{width:i.lsd.width,height:i.lsd.height}),playRange:{start:0,end:a},frames:r,originalWidth:i.lsd.width,originalHeight:i.lsd.height}))})).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(P,{children:[Object(f.jsx)("img",{src:t.url,alt:"",draggable:"false"}),Object(f.jsx)("div",{className:"title",children:t.name})]})},Gt=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){t.blobUrl||fetch(t.url).then((function(e){return e.blob()})).then((function(e){var i=URL.createObjectURL(e),r=document.createElement("img");r.addEventListener("load",(function(){n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:2e3}),positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{width:r.naturalWidth,height:r.naturalHeight}),originalWidth:r.naturalWidth,originalHeight:r.naturalHeight,blobUrl:i}))})),r.src=i})).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(P,{children:[Object(f.jsx)("img",{src:t.url,alt:"",draggable:"false"}),Object(f.jsx)("div",{className:"title",children:t.name})]})},Ht=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.originalWidth)||fetch(t.url).then((function(e){return e.json()})).then(function(){var e=Object(J.a)(q.a.mark((function e(i){var r,a,c,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(i);case 2:r=e.sent,a=r.width,c=r.height,o=r.duration,n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:o}),positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{width:a,height:c}),playRange:{start:0,end:o},originalWidth:a,originalHeight:c,animationData:i}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsx)(P,{children:Object(f.jsx)("div",{className:"title",children:t.name})})},Pt=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){var e=re(t),i=e.width,r=e.height;n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:2e3}),positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{width:i/2,height:r/2}),originalWidth:i,originalHeight:r}))}),[]),Object(f.jsx)(P,{children:Object(f.jsx)("div",{className:"title",children:t.name})})},Bt=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:1e3})}))}),[]),Object(f.jsx)(P,{children:Object(f.jsx)("div",{className:"title",children:t.name})})},Wt=function(e){var t=e.data,n=e.onLoaded;return Object(r.useEffect)((function(){t.blobUrl||fetch(t.url).then((function(e){return e.blob()})).then(function(){var e=Object(J.a)(q.a.mark((function e(i){var r,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.arrayBuffer();case 2:r=e.sent,a=URL.createObjectURL(i),(c=document.createElement("video")).loop=!1,c.addEventListener("loadedmetadata",(function(){var e=Math.round(1e3*c.duration);n(Object(u.a)(Object(u.a)({},t),{},{positionInTimeline:Object(u.a)(Object(u.a)({},t.positionInTimeline),{},{duration:e}),positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{width:c.videoWidth,height:c.videoHeight}),playRange:{start:0,end:e},originalWidth:c.videoWidth,originalHeight:c.videoHeight,blobUrl:a,buffer:r}))})),c.src=a;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(P,{children:[Object(f.jsx)("video",{src:t.blobUrl}),Object(f.jsx)("div",{className:"title",children:t.name})]})},Yt=s.b.div(Lt||(Lt=Object(i.a)(["\n  width: 200px;\n  height: 112px;\n  line-height: 112px;\n  text-align: center;\n  border-radius: 4px;\n  background-color: #000;\n  cursor: pointer;\n"])));function Xt(e,t){switch(null===e||void 0===e?void 0:e.type){case se.VIDEO:return Object(f.jsx)(Wt,{data:e,onLoaded:t});case se.IMAGE:return Object(f.jsx)(Gt,{data:e,onLoaded:t});case se.AUDIO:return Object(f.jsx)(Vt,{data:e,onLoaded:t});case se.TRANSITION:return Object(f.jsx)(Bt,{data:e,onLoaded:t});case se.GIF:return Object(f.jsx)(Nt,{data:e,onLoaded:t});case se.TEXT:return Object(f.jsx)(Pt,{data:e,onLoaded:t});case se.LOTTIE:return Object(f.jsx)(Ht,{data:e,onLoaded:t});default:return null}}var qt,Jt,Zt=function(e){var t=e.data,n=Object(r.useContext)(Cr),i=n.setHoverTrack,a=n.tracks,c=n.setTracks,o=n.setNewTrackIndex,s=n.newTrackIndex,h=n.setDraggingClip,d=Object(r.useState)(!1),p=Object(l.a)(d,2),b=p[0],m=p[1],g=Object(r.useState)(function(e,t,n){var i={name:e.name,positionInTimeline:{start:t,end:n,duration:0},positionInRender:{fitType:j.CONTAIN,rotate:0,left:0,bottom:0,width:0,height:0},playRange:{start:0,end:0},effect:x.NO_EFFECT};switch(e.type){case v.VIDEO:return Object(u.a)(Object(u.a)({},i),{},{type:se.VIDEO,url:e.url});case v.IMAGE:return Object(u.a)(Object(u.a)({},i),{},{type:se.IMAGE,url:e.url});case v.AUDIO:return Object(u.a)(Object(u.a)({},i),{},{type:se.AUDIO,url:e.url});case v.TRANSITION:return Object(u.a)(Object(u.a)({},i),{},{type:se.TRANSITION,transition:e.transition});case v.GIF:return Object(u.a)(Object(u.a)({},i),{},{positionInRender:Object(u.a)(Object(u.a)({},i.positionInRender),{},{fitType:j.CUSTOM}),type:se.GIF,url:e.url,frames:[],originalWidth:0,originalHeight:0,zIndex:0});case v.TEXT:return Object(u.a)(Object(u.a)({},i),{},{positionInRender:Object(u.a)(Object(u.a)({},i.positionInRender),{},{fitType:j.CUSTOM,left:50,bottom:50}),props:{fontColor:"#fff",fontSize:16,fontFamily:"Helvetica"},value:e.value,type:se.TEXT,originalWidth:0,originalHeight:0,zIndex:0});case v.LOTTIE:return Object(u.a)(Object(u.a)({},i),{},{positionInRender:Object(u.a)(Object(u.a)({},i.positionInRender),{},{fitType:j.CUSTOM,left:0,bottom:0}),url:e.url,type:se.LOTTIE});default:return{}}}(t)),O=Object(l.a)(g,2),y=O[0],w=O[1],k=Object(r.useCallback)((function(){h(y)}),[y,h]),C=Object(r.useCallback)((function(e){var t=e.belowElement,n=(e.cursorLeft,e.cursorTop);if(t&&(null===y||void 0===y?void 0:y.type)!==se.TRANSITION){var r=mt(t,0,n),c=r.trackElement,s=r.index,l=r.isTop,u=r.isBottom;if(c&&s>=0){var f=Ot(a);o(l&&f?s:u&&f?s+1:-1)}i(c)}}),[null===y||void 0===y?void 0:y.type,i,o,a]),I=Object(r.useCallback)((function(e){var t=e.belowElement;if(t.classList.contains("transition-insert")&&y){var n=t.dataset.from,r=t.dataset.to,s=gt(a,n),l=s.trackIndex,f=s.clipIndex,d=a[l][f],p=a[l][f+1],v=y.positionInTimeline.duration/2,b=Object(u.a)(Object(u.a)({},y),{},{id:Object(Y.a)(),positionInTimeline:Object(u.a)(Object(u.a)({},y.positionInTimeline),{},{start:d.positionInTimeline.end-v,end:d.positionInTimeline.end+v}),fromId:n,toId:r});Object.assign(p,{positionInTimeline:Object(u.a)(Object(u.a)({},p.positionInTimeline),{},{start:p.positionInTimeline.start-v,end:p.positionInTimeline.end-v})}),a[l].splice(f+1,0,b),c(Object(W.a)(a))}h(void 0),o(-1),i(null)}),[y,h,i,o,c,a]),T=Object(r.useCallback)((function(e){var t=e.belowElement,n=e.cursorLeft,r=e.cursorTop,f=e.element;if(t)if((null===y||void 0===y?void 0:y.type)!==se.TRANSITION){var d=mt(t,0,r).trackElement,p=jt({x:n,y:r}),v=-1;s>-1?(v=s,a.splice(v,0,[])):d&&(v=xt(d));var b=a[v];if(v>-1&&b){var j=kt(wt(p.x),b);if(j>-1){var x=Ct(j,b);if(x.start||x.end){var m,g=(null===y||void 0===y||null===(m=y.positionInTimeline)||void 0===m?void 0:m.duration)||0,O=yt(g),w=f.clientWidth,k=n-e.left,C=wt(Math.max(0,p.x-k/w*O)),T=It([x.start,x.end],[C,C+g]),R=Object(l.a)(T,2),_=R[0],A=R[1],E=Ft(),z=E.height,S=E.width,U=ht(y,S,z),F=U.width,M=U.height,L=U.left,V=U.bottom,D=Object(u.a)(Object(u.a)({},y),{},{id:Object(Y.a)(),positionInTimeline:{start:_,end:A,duration:A-_},positionInRender:Object(u.a)(Object(u.a)({},y.positionInRender),{},{width:F,height:M,left:L,bottom:V})});b.splice(j,0,D),c(Object(W.a)(a))}}}h(void 0),o(-1),i(null)}else I(e)}),[y,I,s,h,i,o,c,a]),R=Object(r.useCallback)((function(e){w(Object(u.a)(Object(u.a)({},y),e)),m(!0)}),[y]);return Object(f.jsx)(le,{direction:z.ALL,scrollContainerSelector:".tracks-wrapper",autoGrow:!0,enable:b,slow:2,onStart:k,onMove:C,onEnd:T,children:Object(f.jsx)(Yt,{children:Xt(y,R)})})},Qt=function(){return Object(f.jsxs)(f.Fragment,{children:[U.videos.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),U.images.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),U.gifs.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),U.audios.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),U.lotties.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))]})},Kt=function(e){var t=e.icon,n=e.title,i=e.isActive,a=e.onClick,c=Object(r.useCallback)((function(){a(n)}),[a,n]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(L,{className:i?"active":"",onClick:c,children:[Object(f.jsx)("div",{className:"icon",children:t}),Object(f.jsx)("div",{className:"title",children:n})]})})},$t=s.b.div(qt||(qt=Object(i.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 80px;\n  bottom: 0;\n  overflow: overlay;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  padding: 24px 0 24px 24px;\n"]))),en=n(204),tn=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1],u=Object(r.useState)([]),h=Object(l.a)(u,2),d=h[0],p=h[1],b=Object(r.useCallback)((function(){return!1}),[]),j=Object(r.useCallback)((function(e){var t=e.file,r=t.type;if(null===r||void 0===r?void 0:r.includes("video/")){var a={name:t.name,type:v.VIDEO,url:URL.createObjectURL(t)};i([].concat(Object(W.a)(n),[a]))}if(null===r||void 0===r?void 0:r.includes("image")){var c={name:t.name,type:v.IMAGE,url:URL.createObjectURL(t)};r.includes("image/gif")&&(c={name:t.name,type:v.GIF,url:URL.createObjectURL(t)}),s([].concat(Object(W.a)(o),[c]))}if(null===r||void 0===r?void 0:r.includes("audio")){var l={name:t.name,type:v.AUDIO,url:URL.createObjectURL(t)};p([].concat(Object(W.a)(d),[l]))}}),[d,o,n]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(V,{children:[Object(f.jsx)(D,{className:"active",children:"\u5168\u90e8"}),Object(f.jsx)(en.a,{beforeUpload:b,onChange:j,multiple:!1,accept:"video/*,audio/*,image/png,image/jpeg,image/jpg,image/gif",showUploadList:!1,children:Object(f.jsx)(F,{style:{color:"#7B9FD6"},children:"+"})})]}),n.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),d.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),o.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))]})},nn=function(){return Object(f.jsx)(f.Fragment,{children:U.texts.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},rn=function(){return Object(f.jsx)(f.Fragment,{children:U.transitions.map((function(e){return Object(f.jsxs)(G,{children:[Object(f.jsx)(H,{children:Object(f.jsx)(Zt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},an=s.b.div(Jt||(Jt=Object(i.a)(["\n  display: flex;\n  background: #060C15;\n  width: 100%;\n  height: 80px;\n  padding-left: 10px;\n  overflow: overlay;\n"]))),cn=[{title:"\u6211\u7684\u7d20\u6750",icon:Object(f.jsx)(d,{}),resourcePanel:Object(f.jsx)(tn,{})},{title:"\u8f6c\u573a",icon:Object(f.jsx)(b,{}),resourcePanel:Object(f.jsx)(rn,{})},{title:"\u6587\u5b57",icon:Object(f.jsx)(p,{}),resourcePanel:Object(f.jsx)(nn,{})},{title:"\u591a\u5a92\u4f53",icon:Object(f.jsx)(h,{}),resourcePanel:Object(f.jsx)(Qt,{})}],on=function(){var e=Object(r.useState)("\u591a\u5a92\u4f53"),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(r.useCallback)((function(e){n!==e&&i(e)}),[n]);return Object(f.jsxs)(an,{children:[cn.map((function(e){return Object(f.jsx)(Kt,{title:e.title,icon:e.icon,resourcePanel:e.resourcePanel,isActive:n===e.title,onClick:a},e.title)})),cn.map((function(e){return Object(f.jsx)($t,{style:Object(u.a)({},n!==e.title?{display:"none"}:null),children:e.resourcePanel},e.title)}))]})};var sn,ln,un,fn,hn=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),{},{children:[Object(f.jsx)("g",{filter:"url(#prefix__filter0_d_437_2164)",children:Object(f.jsx)("circle",{cx:10,cy:8,r:8,fill:"#3647E4"})}),Object(f.jsx)("circle",{cx:10,cy:8,r:5,fill:"#2524A7"}),Object(f.jsx)("circle",{cx:10,cy:8,r:2,fill:"#3647E4"}),Object(f.jsx)("defs",{children:Object(f.jsxs)("filter",{id:"prefix__filter0_d_437_2164",x:0,y:0,width:20,height:20,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(f.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),Object(f.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(f.jsx)("feOffset",{dy:2}),Object(f.jsx)("feGaussianBlur",{stdDeviation:1}),Object(f.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(f.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),Object(f.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_437_2164"}),Object(f.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_437_2164",result:"shape"})]})})]}))},dn=s.b.div(sn||(sn=Object(i.a)(["\n  width: 100%;\n  height: 70px;\n  padding: 5px 0px;\n  flex-shrink: 0;\n"]))),pn=s.b.div(ln||(ln=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  /* border: 2px dashed #203351; */\n  /* border-radius: 8px; */\n  position: relative;\n  background: #13161c;\n"]))),vn=s.b.div(un||(un=Object(i.a)(["\n  height: 0;\n  position: relative;\n  pointer-events: none;\n  &::after {\n    content: '';\n    position: absolute;\n    background: #38AA26;\n    width: 100%;\n    height: 2px;\n    border-radius: 2px;\n    left: 0;\n    right: 0;\n    top: -1px;\n  }\n"]))),bn=function(e){var t=e.style,n=e.index,i=Object(r.useContext)(Cr),a=i.hoverTrack,c=i.tracks,o=i.newTrackIndex,s=xt(a),l=Ot(c);return Object(f.jsxs)(f.Fragment,{children:[l&&o===n?Object(f.jsx)(vn,{}):null,Object(f.jsx)(dn,{style:t,className:dt,children:Object(f.jsx)(pn,{style:Object(u.a)({},s===n&&-1===o?{background:"rgb(18 19 20 / 50%)"}:null)})}),l&&o===n+1?Object(f.jsx)(vn,{}):null]})},jn=n(108),xn=n.n(jn),mn=s.b.div(fn||(fn=Object(i.a)(["\n  width: 100%;\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: #B61DA6;\n    opacity: 0.8;\n    z-index: 2;\n  }\n  >div {\n    position: absolute;\n    inset: 0;\n  }\n"]))),gn=function(e){var t=e.clip,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=n.current;if(e){var i=xn.a.create({container:e,waveColor:"#fff",progressColor:"purple",fillParent:!0,partialRender:!0,interact:!1,height:56,barWidth:1});return i.load(t.url),function(){i.destroy()}}}),[t.url]),Object(f.jsx)(mn,{children:Object(f.jsx)("div",{ref:n})})};function On(){return new Worker(n.p+"static/js/gifToCanvas.worker.e6946d48.worker.js")}function yn(){return(yn=Object(J.a)(q.a.mark((function e(t,n,i,r,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage({snapCount:n,from:i,to:r,frames:a});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wn=function(e){var t=e.clip,n=t.positionInTimeline,i=t.originalWidth,a=t.originalHeight,c=t.frames,o=Math.ceil(yt(n.duration)/56),s=Object(r.useRef)(null),l=Object(r.useRef)(new On);return Object(r.useEffect)((function(){var e=s.current,t=l.current;if(e&&t){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])}}),[]),Object(r.useEffect)((function(){var e=s.current,n=l.current;e&&n&&function(e,t,n,i,r){yn.apply(this,arguments)}(n,o,t.playRange.start,t.playRange.end,c)}),[c,t.playRange.end,t.playRange.start,o]),Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(f.jsx)("canvas",{ref:s,style:{transformOrigin:"left top",transform:"scale(".concat(56/a,")")},width:o*i,height:a})})})},kn=Object(r.memo)(wn),Cn=function(e){var t=e.clip,n=Object(r.useMemo)((function(){return{position:"absolute",left:0,right:0,top:0,bottom:0,background:"url(".concat(t.blobUrl,")"),backgroundRepeat:"repeat",backgroundSize:"contain"}}),[t.blobUrl]);return Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:n})})};function In(e,t){return new Promise((function(n){e.requestVideoFrameCallback((function(){n(!0)})),e.currentTime=t/1e3}))}function Tn(){return(Tn=Object(J.a)(q.a.mark((function e(t,n,i,r,a,c,o){var s,l,u,f;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(o-c)/a,l=t.getContext("2d"),(u=document.createElement("video")).src=n,f=0;case 5:if(!(f<a)){e.next=12;break}return e.next=8,In(u,c+s*f+1);case 8:null===l||void 0===l||l.drawImage(u,i*f,0,i,r),f+=1,e.next=5;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rn,_n,An,En,zn,Sn=function(e){var t=e.clip,n=t.positionInTimeline,i=t.originalWidth,a=t.originalHeight,c=t.playRange,o=t.blobUrl,s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=s.current;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height,l=r*i/a,u=Math.ceil(n/l);!function(e,t,n,i,r,a,c){Tn.apply(this,arguments)}(e,o,l,r,u,c.start,c.end)}}),[o,c.end,c.start,a,i,n.duration]),Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(f.jsx)("canvas",{ref:s,width:yt(n.duration),height:56})})})},Un=s.b.div(Rn||(Rn=Object(i.a)(["\n  /* background-color: #22a5df; */\n  border-radius: 4px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  overflow: hidden;\n  display: flex;\n  border: 2px solid transparent;\n  transition: border-color 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    z-index: 3;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    border-style: solid;\n    border-color: #fff;\n    border-width: 0;\n    transition: border-width 0.05s;\n    pointer-events: none;\n  }\n  &:hover::after {\n    border-width: 2px;\n  }\n  &.active::after {\n    border-width: 2px;\n    border-color: #5754ff;\n  }\n"]))),Fn=(s.b.div(_n||(_n=Object(i.a)(["\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  left: 0;\n  top: 0;\n  bottom: 0;\n"]))),s.b.div(An||(An=Object(i.a)(["\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n"]))),s.b.div(En||(En=Object(i.a)(["\n  color: #fff;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"])))),Mn=s.b.div(zn||(zn=Object(i.a)(["\n  background: #5754ff;\n  width: 12px;\n  cursor: ew-resize;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 3;\n\n  &::before, &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 3px;\n    transform: translateY(-50%);\n    width: 2px;\n    height: 15px;\n    background: #2524A7;\n    border-radius: 1px;\n    pointer-events: none;\n  }\n  &::after {\n    left: 7px;\n  }\n"]))),Ln={zIndex:999,border:"2px solid #fff"};function Vn(e){switch(e.type){case se.VIDEO:return Object(f.jsx)(Sn,{clip:e});case se.GIF:return Object(f.jsx)(kn,{clip:e});case se.AUDIO:return Object(f.jsx)(gn,{clip:e});case se.IMAGE:return Object(f.jsx)(Cn,{clip:e});default:return Object(f.jsx)(Fn,{children:e.name})}}var Dn,Nn,Gn,Hn,Pn,Bn,Wn,Yn,Xn,qn,Jn,Zn,Qn=function(e){var t=e.clip,n=e.onUpdate,i=e.trackIndex,a=t.positionInTimeline,c=t.id,o=t.type,s=Object(r.useContext)(Cr),h=s.setHoverTrack,d=s.tracks,p=s.setTracks,v=s.setNewTrackIndex,b=s.newTrackIndex,j=s.activeClip,x=s.setActiveClip,m=Object(r.useCallback)((function(e){if(0!==e.stepLeft||0!==e.stepTop){var t=gt(d,c),n=t.trackIndex,i=t.clipIndex;_t(d,c)?(d[n].splice(i+1,1),p(Object(W.a)(d))):At(d,c)&&(d[n].splice(i-1,1),p(Object(W.a)(d)))}}),[c,p,d]),g=Object(r.useCallback)((function(e){if(e.belowElement){m(e);var t=mt(e.belowElement,e.cursorLeft,e.cursorTop),n=t.trackElement,i=t.index,r=t.isTop,a=t.isBottom;if(n&&i>=0){var c=Ot(d);v(r&&c?i:a&&c?i+1:-1)}h(n)}}),[m,h,v,d]),O=Object(r.useCallback)((function(e){if(e.belowElement){if(e.isMoved){var t=mt(e.belowElement,e.cursorLeft,e.cursorTop),i=t.trackElement,r=t.index,o=jt({x:e.cursorLeft,y:e.cursorTop}),s=wt(Math.max(0,o.x-(e.cursorLeft-e.left))),f=!1;if(b>-1)f=!0,null===n||void 0===n||n({positionInTimeline:Object(u.a)(Object(u.a)({},a),{},{start:s,end:s+a.duration})},b,0,!0);else if(i){var p=gt(d,c).trackIndex,j=d[r];if(r===p&&(j=j.filter((function(e){return e.id!==c}))),r>-1&&j){var x=kt(wt(o.x),j);if(x>-1){var m=Ct(x,j);if(m.start||m.end){var g=It([m.start,m.end],[s,s+a.duration]),O=Object(l.a)(g,2),y=O[0],w=O[1];f=!0,null===n||void 0===n||n({positionInTimeline:{start:y,end:w,duration:w-y}},r,x,!1)}}}}if(!f){var k=gt(d,c),C=k.trackIndex,I=k.clipIndex,T=d[C][I-1],R=d[C][I+1];if(T&&T.positionInTimeline.end>a.start||R&&R.positionInTimeline.start<a.end){var _,A,E=It([(null===T||void 0===T||null===(_=T.positionInTimeline)||void 0===_?void 0:_.end)||0,(null===R||void 0===R||null===(A=R.positionInTimeline)||void 0===A?void 0:A.start)||1e10],[a.start,a.end]);null===n||void 0===n||n({positionInTimeline:{start:E[0],end:E[1],duration:E[1]-E[0]}},C,I,!1)}}}v(-1),h(null)}}),[c,b,n,a,h,v,d]),y=Object(r.useCallback)((function(e){var t=a.start+wt(e.stepLeft);if(a.end-t>=500){var i,r,o=gt(d,c),s=o.trackIndex,l=o.clipIndex,f=(null===(i=d[s][l-1])||void 0===i||null===(r=i.positionInTimeline)||void 0===r?void 0:r.end)||0;null===n||void 0===n||n({positionInTimeline:Object(u.a)(Object(u.a)({},a),{},{start:Math.max(t,f),duration:a.end-Math.max(t,f)})},s,l,!1)}}),[c,n,a,d]),w=Object(r.useCallback)((function(e){var t=a.end+wt(e.stepLeft);if(t-a.start>=500){var i,r,o=gt(d,c),s=o.trackIndex,l=o.clipIndex,f=(null===(i=d[s][l+1])||void 0===i||null===(r=i.positionInTimeline)||void 0===r?void 0:r.start)||1e10;null===n||void 0===n||n({positionInTimeline:Object(u.a)(Object(u.a)({},a),{},{end:Math.min(t,f),duration:Math.min(t,f)-a.start})},s,l,!1)}}),[a,d,c,n]),k=Object(r.useCallback)((function(){var e=gt(d,c),t=e.trackIndex,i=e.clipIndex;null===n||void 0===n||n({positionInTimeline:Object(u.a)(Object(u.a)({},a),{},{duration:a.end-a.start})},t,i,!1)}),[c,n,a,d]),C=Object(r.useCallback)((function(e){var t;e.stopPropagation();var n=gt(d,c),i=n.trackIndex,r=n.clipIndex;x(null===d||void 0===d||null===(t=d[i])||void 0===t?void 0:t[r])}),[c,x,d]),I=o===se.TRANSITION,T=(null===j||void 0===j?void 0:j.id)===c;return Object(f.jsx)(le,{scrollContainerSelector:".tracks-wrapper",autoGrow:!0,slow:2,onMove:g,onEnd:O,enable:!I,children:Object(f.jsxs)(Un,{className:"track-element ".concat(T?"active":""),onClick:C,style:Object(u.a)({top:"calc(50% - ".concat(70*d.length/2,"px + 5px + ").concat(70*i,"px)"),width:yt(a.end-a.start),height:60,left:yt(a.start)},o===se.TRANSITION?Ln:null),children:[I||At(d,c)||!T?null:Object(f.jsx)(Mn,{children:Object(f.jsx)(le,{direction:z.EW,onMove:y,onEnd:k,children:Object(f.jsx)("div",{style:{width:"100%",height:"100%"}})})}),Vn(t),I||_t(d,c)||!T?null:Object(f.jsx)(Mn,{children:Object(f.jsx)(le,{direction:z.EW,onMove:w,onEnd:k,children:Object(f.jsx)("div",{style:{width:"100%",height:"100%"}})})})]})})},Kn=Object(r.memo)(Qn),$n=s.b.div(Dn||(Dn=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 10px 20px;\n  position: relative;\n  overflow-y: auto;\n  overscroll-behavior: unset;\n  background: #000;\n"]))),ei=s.b.div(Nn||(Nn=Object(i.a)(["\n  flex: 1 1 0%;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-pack: center;\n  justify-content: center;\n  position: relative;\n  /* top: 50%; */\n  /* transform: translateY(-50%); */\n"]))),ti=s.b.div(Gn||(Gn=Object(i.a)(["\n  width: 0;\n  top: 40px;\n  bottom: 4px;\n  position: absolute;\n  /* cursor: move; */\n  z-index: 1000;\n  pointer-events: none;\n\n  &::before {\n    content: '';\n    width: 2px;\n    background-color: #3A36E4;\n    opacity: 0.8;\n    left: -1px;\n    top: -26px;\n    bottom: 0;\n    border-radius: 2px;\n    position: absolute;\n  }\n\n  .indicator-bar {\n    position: absolute;\n    top: -40px;\n    left: -10px;\n  }\n"]))),ni=function(e){var t=e.onCurrentTimeChange,n=Object(r.useContext)(Cr),i=n.tracks,c=n.currentTime,o=n.draggingClip,s=n.setTracks,l=1===i.length&&0===i[0].length?{height:90}:{},u=Object(r.useCallback)((function(e,n,r){var a=Tt(i),c=jt({x:e,y:n}),o=wt(Math.max(0,c.x-r));t(Math.min(o,a))}),[t,i]),h=Object(r.useCallback)((function(e){u(e.pageX,e.pageY,0)}),[u]),d=Object(r.useCallback)((function(e,t,n,r,a){var c=gt(i,e.id),o=c.trackIndex,l=c.clipIndex;if(o>-1&&l>-1){var u=i[o].splice(l,1)[0];Object.assign(u,t),a?i.splice(n,0,[u]):i[n].splice(r,0,u),s(Object(W.a)(i))}}),[s,i]),p=(null===o||void 0===o?void 0:o.type)===se.TRANSITION,v=i.flat(1);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)($n,{className:"tracks-wrapper",onClick:h,children:Object(f.jsxs)(ei,{children:[i.map((function(e,t){return Object(f.jsx)(bn,{index:t,clips:e,style:l},t)})),v.map((function(e,t){var n,r,c=gt(i,e.id).trackIndex,s=v[t+1],l=!1;return p&&(r=s,(n=e)&&r&&Math.abs(n.positionInTimeline.end-r.positionInTimeline.start)<=1e-5)&&Rt(null===e||void 0===e?void 0:e.type)&&Rt(null===s||void 0===s?void 0:s.type)&&(l=!0),Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)(Kn,{trackIndex:c,clip:e,onUpdate:function(t,n,i,r){d(e,t,n,i,r)}}),l&&o?Object(f.jsx)(Un,{className:"transition-insert","data-from":e.id,"data-to":s.id,style:{width:yt(o.positionInTimeline.duration),left:yt(e.positionInTimeline.end-o.positionInTimeline.duration/2),zIndex:999,opacity:.5,border:"2px solid #fff"}}):null]},e.id)}))]})}),Object(f.jsx)(ti,{style:{left:yt(c)+20},children:Object(f.jsx)(hn,{className:"indicator-bar"})})]})},ii=s.b.div(Hn||(Hn=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  overflow: hidden;\n"]))),ri=s.b.div(Pn||(Pn=Object(i.a)(["\n  display: flex;\n  height: 55%;\n  flex-shrink: 0;\n"]))),ai=s.b.div(Bn||(Bn=Object(i.a)(["\n  display: flex;\n  flex-shrink: 0;\n  height: 100%;\n  width: 740px;\n  position: relative;\n  z-index: 2000;\n  background: #1A212A;\n  border-right: 1px solid #232A35;\n\n  @media (max-width: 1650px) {\n    width: 500px\n  }\n\n  @media (max-width: 1280px) {\n    width: 261px;\n  }\n"]))),ci=s.b.div(Wn||(Wn=Object(i.a)(["\n  background-color: #14181D;\n  overflow: hidden;\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  position: relative;\n"]))),oi=s.b.div(Yn||(Yn=Object(i.a)(["\n  overflow-x: overlay;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  position: relative;\n  padding-top: 10px;\n  background: #1C2430;\n"]))),si=s.b.div(Xn||(Xn=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 0 45px;\n  position: relative;\n"]))),li=s.b.div(qn||(qn=Object(i.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  bottom: 65px;\n  background-color: #000;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ui=s.b.div(Jn||(Jn=Object(i.a)(["\n  padding: 0 20px;\n  height: 30px;\n  display: flex;\n  overflow: hidden;\n  flex-grow: 0;\n  flex-shrink: 0;\n  background: #1C2430;\n  border-top: 1px solid #14171B;\n  border-bottom: 1px solid #232A35;\n  /* box-shadow: 0px 12px 16px rgba(0, 0, 0, 0.14); */\n"]))),fi=s.b.div(Zn||(Zn=Object(i.a)(["\n  position: relative;\n  height: 20px;\n  padding: 14px 5px;\n  font-size: 12px;\n  line-height: 12px;\n  font-family: 'DIN Alternate';\n  color: #7185A6;\n  flex-grow: 0;\n  flex-shrink: 0;\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    height: 10px;\n    background-color: #39485f;\n  }\n  &::after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    height: 6px;\n    background: #2d394c;\n  }\n"]))),hi=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){var e=document.querySelector(".tracks-wrapper");if(e){i(e.clientWidth);var t=new ResizeObserver((function(){e.clientWidth!==n&&i(e.clientWidth)}));return t.observe(e),function(){t.disconnect()}}}),[n]),Object(f.jsx)(ui,{style:{width:n},children:Array.from(Array(Math.ceil(n/pt))).map((function(e,t){return Object(f.jsx)(fi,{style:{width:pt},children:$(1e3*t,!1,!1)},t)}))})},di=n(203),pi=function(e,t){!function(e){Object(di.a)("Backspace",(function(){Et(e)}))}(e),function(e){Object(di.a)("ctrl.c",(function(){Ut(e)}))}(e),function(e,t){Object(di.a)(" ",(function(){var n=e.isPlaying;t.handleIsPlayingChange(!n)}))}(e,t)},vi=n(208),bi=n(207),ji=function(){function e(t,n){Object(ue.a)(this,e),this.scene=void 0,this.camera=void 0,this.renderer=void 0,this.maxAnisotropy=void 0,this.scene=new Ie.Scene,this.camera=new Ie.OrthographicCamera(t/-2,t/2,n/2,n/-2,-1e3,1e3),this.renderer=new Ie.WebGLRenderer({preserveDrawingBuffer:!0,antialias:!0}),this.renderer.setPixelRatio(2),this.renderer.setSize(t,n),this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy()}return Object(fe.a)(e,[{key:"updateSize",value:function(e,t){this.renderer.setSize(e,t),this.camera=new Ie.OrthographicCamera(e/-2,e/2,t/2,t/-2,-1e3,1e3)}},{key:"add",value:function(e,t){e.name=t,this.scene.add(e)}},{key:"remove",value:function(e){var t=this.scene.getObjectByName(e);t&&this.scene.remove(t)}},{key:"getRealSize",value:function(){var e=new Ie.Vector2;return this.renderer.getDrawingBufferSize(e),e}},{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"render",value:function(){var e=this.renderer,t=this.scene,n=this.camera;e.render(t,n)}}]),e}(),xi=function(){function e(t){var n=t.width,i=t.height,r=t.onCurrentTimeChange,a=t.onEnd;Object(ue.a)(this,e),this.tickTime=0,this.rafId=0,this.tickFunc=void 0,this.onCurrentTimeChangeCallback=void 0,this.onEnd=void 0,this.painter=void 0,this.clips=[],this.currentTime=0,this.duration=0,this.isPlaying=!1,this.width=0,this.height=0,this.width=n,this.height=i,this.painter=new ji(n,i),this.onCurrentTimeChangeCallback=r,this.onEnd=a,this.tickFunc=this.tick.bind(this),this.rafId=requestAnimationFrame(this.tickFunc)}return Object(fe.a)(e,[{key:"tick",value:function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.render(t);case 2:this.rafId=requestAnimationFrame(this.tickFunc);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isInRange",value:function(e){var t=e.config.positionInTimeline,n=t.start,i=t.end;return n<=this.currentTime&&i>=this.currentTime}},{key:"updateResolution",value:function(e,t){return(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.painter.updateSize(e,t),!0)}},{key:"updateDuration",value:function(){var e=this;this.duration=0,this.clips.forEach((function(t){var n=t.config;n.positionInTimeline.end>e.duration&&(e.duration=n.positionInTimeline.end)})),0===this.duration&&(this.currentTime=0)}},{key:"getClipById",value:function(e){return this.clips.find((function(t){return t.config.id===e}))}},{key:"addClip",value:function(){var e=Object(J.a)(q.a.mark((function e(t){var n,i=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rt(t,this),e.next=3,n.init();case 3:return this.clips.push(n),e.next=6,this.onCurrentTimeChange();case 6:this.updateDuration(),xe(n.config,"positionInTimeline",function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.updatePlaybackRate(),!i.isInRange(n)){e.next=13;break}if(!n.isEntered){e.next=7;break}return e.next=5,n.onUpdate(!0);case 5:e.next=11;break;case 7:return n.isEntered=!0,n.addToPainter(),e.next=11,n.onEnter(!0);case 11:e.next=18;break;case 13:if(!n.isEntered){e.next=18;break}return n.isEntered=!1,n.removeFromPainter(),e.next=18,n.onLeave(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeClip",value:function(){var e=Object(J.a)(q.a.mark((function e(t){var n,i,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getClipById(t))){e.next=7;break}return e.next=4,n.destroy();case 4:n.config.type===se.TRANSITION&&(i=this.getClipById(n.config.fromId),r=this.getClipById(n.config.toId),null===i||void 0===i||i.show(),null===r||void 0===r||r.show()),this.clips.splice(this.clips.indexOf(n),1),this.updateDuration();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(J.a)(q.a.mark((function e(t){var n,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Math.floor(t),!this.isPlaying){e.next=7;break}return this.currentTime+=n-this.tickTime,this.currentTime=Math.min(this.currentTime,this.duration),e.next=6,this.onCurrentTimeChange();case 6:this.currentTime>=this.duration&&(this.pause(),null===(i=this.onEnd)||void 0===i||i.call(this));case 7:this.painter.render(),this.tickTime=n;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isPlaying||(this.isPlaying=!0,this.clips.forEach((function(e){t.isInRange(e)&&e.play()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){var e=Object(J.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isPlaying&&(this.isPlaying=!1,this.clips.forEach((function(e){e.pause()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCurrentTime",value:function(){var e=Object(J.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentTime=Math.max(0,Math.min(t,this.duration)),e.next=3,this.onCurrentTimeChange(!0);case 3:this.currentTime>=this.duration&&(this.pause(),null===(n=this.onEnd)||void 0===n||n.call(this));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onCurrentTimeChange",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i,r=this,a=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],i=[],this.clips.forEach((function(e){r.isInRange(e)?e.isEntered?i.push(e.onUpdate(n)):(e.isEntered=!0,e.addToPainter(),i.push(e.onEnter(n))):e.isEntered&&(e.isEntered=!1,e.removeFromPainter(),i.push(e.onLeave(n)))})),e.next=5,Promise.all(i).catch((function(e){alert(e.message)}));case 5:i=[],null===(t=this.onCurrentTimeChangeCallback)||void 0===t||t.call(this,this.currentTime);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"attachTo",value:function(e){null===e||void 0===e||e.appendChild(this.painter.getDomElement())}},{key:"destroy",value:function(){var e=Object(J.a)(q.a.mark((function e(){var t,n,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cancelAnimationFrame(this.rafId),t=[],this.clips.forEach((function(e){t.push(e.destroy())})),e.next=5,Promise.all(t).catch((function(e){alert(e.message)}));case 5:t=[],this.clips.length=0,this.clips=[],(n=this.painter.getDomElement())&&(null===(i=n.parentNode)||void 0===i||i.removeChild(n));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mi=function(){var e=Object(J.a)(q.a.mark((function e(t,n,i){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return r=[],n.forEach((function(e){r.push(null===t||void 0===t?void 0:t.addClip(e))})),i.forEach((function(e){r.push(t.removeClip(e))})),e.next=6,Promise.all(r).catch((function(e){alert(e.message)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();var gi,Oi=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({width:19,height:27,fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),{},{children:[Object(f.jsx)("path",{fill:"url(#prefix__pattern0)",d:"M0 0h19v27H0z"}),Object(f.jsxs)("defs",{children:[Object(f.jsx)("pattern",{id:"prefix__pattern0",patternContentUnits:"objectBoundingBox",width:1,height:1,children:Object(f.jsx)("use",{xlinkHref:"#prefix__image0_348:26",transform:"matrix(.01923 0 0 .01351 -.635 -.297)"})}),Object(f.jsx)("image",{id:"prefix__image0_348:26",width:120,height:120,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAKy0lEQVR4Xu2de3BVxR3H95x78yAJuQEMj5AHDZYiICjtCIqWEcXKIHWww6sUxmY6oLU4yjgFYaBVOtZBnME+bMf6Rwn1gW2TquOMHaA4wnS0vIJIQgfEAHlCSEKAvO5j+/udnGuvQMi99+ye/G7ub2d2bh5nf2f38z2/3T27v3OuEJyYABNgAkyACTABJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgAkwASbABJjAgCdgJHoLpZRmL22Q+HfDMKzPyARlsN2Yw2XxGCtf7/hEZpRQArc9XPQzIeUiAF5o55jYZxbeKczUzJjKfO3gtHQhVv8i28gdcSl+I+6WTBiB275fWAZoiiBPjReRY4HDJzZNYWx5PSHY9da9xctQSzkQ90MwPM+JuEorFgoJubpEyg/+tk6pXQ3GyF+FIO5FaHe2irYr8+DIytx2xzvG8sdw2CCZyHowCLsYMk58lIirjX7FfxbKfbsf0mbfoWGvw/JaioOwW8HwMi3GdRgte+N9MEuyNyTnwSDuboA1A/JQHVrosilfXH9Bl20ndil6cA6ZyVQsZM/Vk7wgSXnwpZLpvwGmcLOZmEnu3fUAtZqTElg21U0EQBOoQYq6PuVv/jPqY106kJTA0OZUl9qdNKehJrAvaci71FBqAg9zqd1JcxpqAg9KGvIuNZSawO0utTtpTkNKYCM370hCk3948bep1Z+UwBkbtz1BDVAs9TFmPnAoluPdOJaUwJ6ib1VDo8+60XDl58gr2KbcpgKDpATG9mS+umemgna5baLGeOa5R90+aTTnIyewJ3/sl57Jd5VGU3kix5wWP/jRZCJ1uaYa5ATGGmZseutRIyvnBFVoEfU6KG67Y6UxY1YL1bqSFBgjG7PeODLezB97kCi4eqjXHnHvnOUQzUFu/TmSGclN6nAFMbw1cGDPwo5NP367J6rVUZIQstMEUZUhsBK+sPEzDXJWFJbxHv0Y5HZhmhKC7u6Noky/H0Ja4AihUwOV++d3rFvwFoTNxlvnGhD4LAiMVwra8NhC42c4ThpPiaLjkmlehDrn4edqkZbeJlZvXGbkjkQPTogULyxXG2cHt2cHu8WY8yfFomPvi7WNVULA77GkmnmbxbM5+QLHS4xr7oQcgDweMi6RnoF8sbFLpJY3yo076sTsE1eE8KUIMWuYqFo1xrj/5gzRahqiE4YQ7AUSIlGM6LgGXP1RMetfL4l3QwGR4YBqpS3sZyCQda8NFw5GYWD33Lj2uHxxe614EH5us4Vvhs+hrX7RWdYgUsoaJIYShfLTxV74fMxBPVwtSl7gt38iv9j1a1EAVMCXHCXsrZrQS21xMYje+LhZ5PzwsNwJ/TZ2u42Q8yFjtx1OGGFys/1LQ02n8OXtCr03cbBYt3Oa+bmjGrlQmOQsGtvdeUl6SpfItu4roliBuGgSn1nBiZIfPDcXPlufPS7XLzksfwfiNsDvoyGj6JHiXi3BSPjDYsg5xy6Jp0fvCj3vgkaOTkFW4HdWCOwiBztq3dcL4zhbgwJDblpdKTeX1orZ8DOOp/isUyy92T1w/Gy4MMaBN7+isI7KTZEUePtSid2o6uC79iEFxnkYfwP/bhHDd9QLDJDDbhu9Np6Ew8ZcyMVT94Y2xWPAjTLkBP74FblFhqxZrtMx92p+X+01Lzgk99sei57rJOEEbVxDl7jLiRGdZckJXP2JWAANxtmy6ls4a6XktdOh5TbQEYrAjsOLBcZjvFcml0gJfGC7nA+E0HuHKCYFd7Q9EZu/PCH+AB84kVLZQ0yxJ2qKq+3cHCmBT+wRaxSDDxPCiZSn5azE8RZ7B5xFq0xWNOjCQ6G/qDSqwlYsM0cV57uhDX+HNZvN0XAivEUKvtsgH7dtq/TecHV9+5rFdA11d2SSlAfbXafq2TMCwnZ6yhu1PrGIF2bQkRoaCpPyYGhfbKvLsQGZdKYDxnYdl09PPXRMDGNr4XWOpubBuAihK9XepPfBGNy8UD3zd8yCmsDYIMcbv71QGfJgrvjEMbHeDXSwwH3QNb3WWIkbAjpSXkmBgTtButLlgnRrs4JUIuXBoyYJfBWCtdujIWH3qauTxqHF8+ndJr6ZgFQiJfB9a4xVdheNG/E6Uubc4TrMWr2OHssOq0tKYGzLIJ/lZbreJOd9dZKx1CGzq4t3wR+CPy8WKxTbVWKOnMCP/Fbg2i7eT+oIiynyGqJ1zVjxVyX0eiaETemmaHuq2CQZy01OYE+K4Z/zvPgugNNRN9z96XxyjLFyVJq1+e/kvhsvwjrI7admmfjqCZJJB0THDc39plF19yqx0LGhaw3gRAvC9UT6wXvMzKEpVgAeihRr4DpeHJa4dfeb2OOQTSQFRlrfuFN8MH+r8rVdHN/xlcH1ELbj+3ymOXLRKFGOQkGutYW+0X043uuehlwD3XIXdXGRI7mVl0hXABGKYJSbtr9U7Diu4PkBCJs9DGGzc0Bg634V7ONSLfxq+It2h875pRVKi2M/ZoyNDi/lorA48cPZfdZrtxpTHxphJERsNGmBbRF+Cp/rIQ9tOS3S9/4e3A3eKRcAKWSMa14g8HsgcAkI2utb6V4+FVrxZq14vNkvvF0hkeoxhD/bK7rHZYrq8u+Yj5Dti3upWCIIjFBLLge7h62t2zl924UKcK8YlbUbf2D8ytJb0nOfAIEvJ5pQ8daX2m7SV+2wu09fUIYqio9tndsUUPL6jqNwAicz53g591s5kpMsEBdDajx/vnD4qewjL3yhSFyEjDPf+Ny/3yRydmJyHmx/YYZnWfXfPy1rrZrirHnXlMbHUpIqUfRgc3Pjvg0axEVhcSasY4WM7EVDSmDsmluDnb7n6j96RhMxfIKQBdYENxqzsvDoy3gLo0WECYOGfznQvhepL6hkxmD03m4ZTA0KidNlHVGPfbEYkP+n1EWb047/CcXF1SIdAifdBAuvWEoCh052WQtMN3p804mX6Qzoc1IvrWUpCQzPnFm3qE6e4r8RLBZY66XUt3HdCxBaJm59N6t/j6DkwbrXxWVlxzkH30zZv0LFe/akEniQmYLvxEqqRFFgHV0pzsyDN3kzkmYXKXwVUxLYk+u15ldKto2uclPcsPcO9qQl1U4Stdsk86XR38PQUx3f23BxdvbYfyRV32w3VvfEJmqm9v6vN7PiV+htuCih6ltH0dbF9ts3FOJOVbItVZLpovHtNyCE/GPhvKdtcVXcNqHN8xPSc61XEyebuFabo3YxFw60N/pTRh/d0gG7SjghwtsaJ3U8BeWzwHtVvXDFBQpqT+EEntqa2NZAZFyHlhDJ4YdwnXi7avT+altcks8MaYF3HaPkBMY62uOxzDnyQsAvQ/jsD946RTv5wjfqNEHDMq/cvkH1y1bc0kXZeciMwZEtssdjs3XKupQlQ2790BYXvRnjlntL+D/02itwuxVgcXswkfTgsILhwHT4PTDjv68HKzoawvXF8RmfDQpPxPBC9RSl+s5UTXwycb+eVpnf/t8QaYEjhA6/lT2IM+Gylsr7TnY13xKU0ixM9X22dNjkjzSwGRAmE0LgSNL229/RY9F7LQ9OpDewD4irhhvBBJgAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkxgIBL4HwOVtfNqeFzIAAAAAElFTkSuQmCC"})]})]}))},yi=s.b.div(gi||(gi=Object(i.a)(["\n  width: 100%;\n  height: 50px;\n  user-select: none;\n  overflow: hidden;\n  background: #1A2028;\n  border-bottom: 1px solid #232A35;\n  position: relative;\n  z-index: 10000;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  padding-left: 20px;\n"]))),wi=function(){return Object(f.jsx)(yi,{children:Object(f.jsx)(Oi,{})})};var ki=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:12,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M12.898.317a.667.667 0 01-.212.918l-4.42 2.762 2.677 1.672h.035a3.167 3.167 0 11-1.803.466L7.009 4.783 4.834 6.14a3.167 3.167 0 11-1.759-.474l2.676-1.67-4.419-2.762a.667.667 0 01-.25-.85L1.12.317a.667.667 0 01.919-.212l4.97 3.106 4.97-3.106a.667.667 0 01.919.212zM3.167 7a1.833 1.833 0 100 3.667 1.833 1.833 0 000-3.667zm7.666 0a1.833 1.833 0 100 3.667 1.833 1.833 0 000-3.667z",fill:"#7185A6"})}))};var Ci=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M12.667 2.467a.667.667 0 010 1.333h-.69l-.281 8.509a1.407 1.407 0 01-1.304 1.354l-.102.004H3.704a1.407 1.407 0 01-1.407-1.36L2.021 3.8h-.688a.667.667 0 110-1.332h11.334zm-2.024 1.332H3.357l.273 8.463c.001.03.02.055.046.066l.028.005h6.586c.04 0 .072-.031.073-.071l.28-8.463zM7 5.333A.667.667 0 017.667 6v4a.667.667 0 01-1.334 0V6A.667.667 0 017 5.333zm2.667-5a.667.667 0 110 1.334H4.333a.667.667 0 110-1.334h5.334z",fill:"#7185A6"})}))};var Ii=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:13,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M9.18.877a.667.667 0 01.943-.03l3.333 3.13.056.06a.667.667 0 01-.055.912l-3.333 3.143-.065.053a.667.667 0 01-.878-.081l-.053-.065a.667.667 0 01.08-.878l2.255-2.124H4.827a3.163 3.163 0 00-3.16 3.166 3.164 3.164 0 003.015 3.164l.145.004h7.84a.667.667 0 01.078 1.328l-.079.005h-7.84a4.497 4.497 0 01-4.493-4.5A4.497 4.497 0 014.67 3.667l.158-.003h6.345L9.21 1.818l-.057-.061a.667.667 0 01.027-.88z",fill:"#7185A6"})}))};var Ti,Ri,_i,Ai,Ei,zi=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:13,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M4.82.877a.667.667 0 00-.943-.03L.544 3.977l-.056.06a.667.667 0 00.055.912l3.333 3.143.065.053a.667.667 0 00.878-.081l.053-.065a.667.667 0 00-.08-.878L2.536 4.997h6.636a3.163 3.163 0 013.16 3.166 3.164 3.164 0 01-3.015 3.164l-.145.004h-7.84a.667.667 0 00-.078 1.328l.078.005h7.84a4.497 4.497 0 004.494-4.5A4.496 4.496 0 009.33 3.667l-.158-.003H2.827L4.79 1.818l.057-.061a.667.667 0 00-.027-.88z",fill:"#7185A6"})}))},Si=s.b.div(Ti||(Ti=Object(i.a)(["\n  height: 50px;\n  background: #1C2430;\n  border-top: 1px solid #232A35;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n  padding: 0 24px;\n"]))),Ui=s.b.div(Ri||(Ri=Object(i.a)(["\n  font-family: 'DIN Alternate';\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n"]))),Fi=s.b.div(_i||(_i=Object(i.a)(["\n  display: flex;\n  >div {\n    margin-right: 10px;\n  }\n"]))),Mi=s.b.div(Ai||(Ai=Object(i.a)(["\n  width: 200px;\n  flex-shrink: 0;\n"]))),Li=function(e){e.playerContext;var t=Object(r.useContext)(Cr),n=t.totalDuration,i=t.currentTime,a=t.activeClip,c=t.tracks,o=Object(r.useCallback)((function(){Et(t)}),[t]),s=Object(r.useCallback)((function(){Ut(t)}),[t]);return Object(f.jsxs)(Si,{children:[Object(f.jsxs)(Fi,{children:[Object(f.jsx)(F,{className:"disabled",children:Object(f.jsx)(zi,{})}),Object(f.jsx)(F,{className:"disabled",children:Object(f.jsx)(Ii,{})}),Object(f.jsx)(F,{onClick:s,className:zt(c,i,null===a||void 0===a?void 0:a.id)?"":"disabled",children:Object(f.jsx)(ki,{})}),Object(f.jsx)(F,{onClick:o,className:"warn ".concat(a?"":"disabled"),children:Object(f.jsx)(Ci,{})})]}),Object(f.jsxs)(Ui,{children:[$(i,!0),Object(f.jsxs)("span",{style:{color:"#455570"},children:[" / ",$(n,!0)]})]}),Object(f.jsx)(Mi,{})]})},Vi=n(113),Di=n(110),Ni=n.n(Di),Gi=function(e){var t=e.clip,n=t.positionInRender,i=n.width,a=n.height,c=Object(r.useRef)(t.value),o=Object(r.useRef)(null),s=Object(r.useCallback)((function(e){c.current=e.target.value,Object.assign(t,{value:c.current});var n=re(t);Object.assign(t,{positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{width:n.width,height:n.height})})}),[t]),l=Object(r.useCallback)((function(){console.log(c.current)}),[]);return Object(f.jsx)("div",{style:{width:i,height:a,overflow:"hidden"},children:Object(f.jsx)(Ni.a,{innerRef:o,html:c.current,disabled:!1,onChange:s,onBlur:l})})},Hi=s.b.div(Ei||(Ei=Object(i.a)(["\n  position: fixed;\n  z-index: 200000;\n"]))),Pi=["nw","ne","sw","se"],Bi=function(){var e=Object(r.useContext)(Cr),t=e.activeClip,n=e.tracks,i=e.setTracks,a=Object(r.useState)(null),c=Object(l.a)(a,2),o=c[0],s=c[1],h=Object(r.useState)(),d=Object(l.a)(h,2),p=d[0],v=d[1],b=Object(r.useRef)(null),x=Object(r.useCallback)((function(e){s(e)}),[]);Object(r.useEffect)((function(){if(t){var e=Ft(),n=e.left,i=e.top,r=e.height,a=t.positionInRender,c=a.width,o=a.height,s=a.left,l=a.bottom;v({width:c,height:o,transform:"translate(".concat(n+s,"px, ").concat(i+r-l-o,"px)")})}else v({width:0,height:0})}),[t,null===t||void 0===t?void 0:t.positionInRender]);var m=Object(vi.a)(o),g=m.width,O=m.height;Object(r.useEffect)((function(){var e;null===(e=b.current)||void 0===e||e.updateTarget()}),[g,O]);var y=Object(r.useCallback)((function(){t&&t.positionInRender.fitType!==j.CUSTOM&&(Object.assign(t,{positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{fitType:j.CUSTOM})}),i(Object(W.a)(n)))}),[t,i,n]),w=Object(r.useCallback)((function(e){var n=e.target,i=e.delta,r=e.transform;n.style.transform=r,t&&Object.assign(t,{positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),{},{left:t.positionInRender.left+i[0],bottom:t.positionInRender.bottom-i[1]})})}),[t]),k=Object(r.useCallback)((function(e){var n=e.target,i=e.width,r=e.height,a=e.delta,c=e.drag,o=e.direction,s=1===o[1],l=-1===o[0],f=c.beforeTranslate;t&&Object.assign(t,{positionInRender:Object(u.a)(Object(u.a)(Object(u.a)({},t.positionInRender),{},{fitType:j.CUSTOM,width:i,height:r},l?{left:t.positionInRender.left-a[0]}:null),s?{bottom:t.positionInRender.bottom-a[1]}:null)}),a[0]&&(n.style.width="".concat(i,"px")),a[1]&&(n.style.height="".concat(r,"px")),n.style.transform="translate(".concat(f[0],"px, ").concat(f[1],"px)")}),[t]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Hi,{className:"resize-rotate",style:p,ref:x,children:(null===t||void 0===t?void 0:t.type)===se.TEXT?Object(f.jsx)(Gi,{clip:t}):null}),Object(f.jsx)(Vi.a,{ref:b,target:o,container:null,origin:!1,keepRatio:!0,renderDirections:Pi,edge:!1,draggable:!0,throttleDrag:2,onDragStart:y,onDrag:w,resizable:!0,throttleResize:2,onResizeStart:y,onResize:k})]})},Wi=n(209),Yi=function(e){var t=e.data,n=e.value,i=e.onChange,a=Object(r.useCallback)((function(){i(t.value)}),[t.value,i]);return Object(f.jsx)(N,{onClick:a,className:n===t.value?"active":"",children:t.label})},Xi=function(e){var t=e.data,n=e.value,i=e.onChange,a=Object(r.useCallback)((function(e){i(e)}),[i]);return Object(f.jsx)("div",{children:t.map((function(e){return Object(f.jsx)(Yi,{onChange:a,data:e,value:n,children:e.label},e.value)}),[])})},qi=[{value:E.RATIO_16_9,label:"16:9"},{value:E.RATIO_9_16,label:"9:16"},{value:E.RATIO_4_3,label:"4:3"},{value:E.RATIO_3_4,label:"3:4"},{value:E.RATIO_21_9,label:"21:9"},{value:E.RATIO_1_1,label:"1:1"}],Ji=function(e){var t,n=e.value,i=e.onChange;return Object(f.jsx)("div",{children:Object(f.jsx)(Wi.a,{trigger:"click",color:"#1F2836",overlayStyle:{width:150},zIndex:999999999,content:Object(f.jsx)(Xi,{data:qi,value:n,onChange:i}),children:Object(f.jsx)(M,{children:null===(t=qi.find((function(e){return e.value===n})))||void 0===t?void 0:t.label})})})};var Zi=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0H0v12h3V0zm9 0L5 6l7 6V0z",fill:"#7B9FD6"})}))};var Qi=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12l7-6-7-6v12zm9 0h3V0H9v12z",fill:"#7B9FD6"})}))};var Ki=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:10,height:12,fill:"none"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0H0v12h3V0zm7 0H7v12h3V0z",fill:"#7B9FD6"})}))};var $i,er,tr,nr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({width:10,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{d:"M10 6L0 12V0l10 6z",fill:"#7B9FD6"})}))},ir=s.b.div($i||($i=Object(i.a)(["\n  height: 65px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n  position: absolute;\n  bottom: 0;\n"]))),rr=s.b.div(er||(er=Object(i.a)(["\n  display: flex;\n  >div {\n    margin-right: 10px;\n  }\n"]))),ar=s.b.div(tr||(tr=Object(i.a)(["\n  display: flex;\n  width: 80px;\n"]))),cr={background:"#1F2836",borderColor:"#222B3A"},or=function(e){var t=e.playerContext,n=Object(r.useContext)(Cr),i=n.isPlaying,a=n.totalDuration,c=n.ratio,o=n.setRatio,s=Object(r.useCallback)((function(){t.handleIsPlayingChange(!i)}),[t,i]),l=Object(r.useCallback)((function(){t.handleCurrentTimeChange(0)}),[t]),h=Object(r.useCallback)((function(){t.handleCurrentTimeChange(a)}),[t,a]);return Object(f.jsxs)(ir,{children:[Object(f.jsx)(ar,{children:Object(f.jsx)(Ji,{value:c,onChange:o})}),Object(f.jsxs)(rr,{children:[Object(f.jsx)(F,{onClick:l,style:cr,children:Object(f.jsx)(Zi,{})}),Object(f.jsx)(F,{style:Object(u.a)({width:60},cr),onClick:s,children:i?Object(f.jsx)(Ki,{}):Object(f.jsx)(nr,{})}),Object(f.jsx)(F,{onClick:h,style:cr,children:Object(f.jsx)(Qi,{})})]}),Object(f.jsx)(F,{style:{width:100},className:"disabled",children:"\u5168\u5c4f\u64ad\u653e"})]})};var sr=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:[Object(f.jsx)("path",{d:"M2 5v9.5h3V5H2z",fill:"url(#prefix__paint0_linear_441_1815)"}),Object(f.jsx)("path",{d:"M12 5H2v3h10V5z",fill:"url(#prefix__paint1_linear_441_1815)"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.019a1 1 0 00-1-.998H3c-1.657 0-3 1.34-3 2.995v6.989A2.998 2.998 0 003 16h10c1.657 0 3-1.341 3-2.995v-3.52a1 1 0 00-2 0v3.52a1 1 0 01-1 .998H3a1 1 0 01-1-.998v-6.99a1 1 0 011-.998h12a1 1 0 001-.998z",fill:"#fff"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.197.403a.997.997 0 00.206 1.397l2.93 2.175-2.936 2.218a.997.997 0 00-.195 1.398c.334.44.96.527 1.401.194l4-3.02a.998.998 0 00-.006-1.597l-4-2.97a1.001 1.001 0 00-1.4.205z",fill:"#fff"}),Object(f.jsx)("path",{d:"M6.22 7.692a.5.5 0 01.77-.421l2.886 1.843a.5.5 0 010 .843L6.99 11.8a.5.5 0 01-.77-.421V7.692z",fill:"#fff"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_441_1815",x1:2,y1:9.5,x2:4.5,y2:9.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#0C09AB"}),Object(f.jsx)("stop",{offset:1,stopColor:"#0C09AB",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_441_1815",x1:7,y1:5,x2:7,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#0C09AB"}),Object(f.jsx)("stop",{offset:1,stopColor:"#0C09AB",stopOpacity:0})]})]})]}))};var lr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M13.368 10.417l.711 2.037 1.921.754-1.92.755L13.367 16l-.71-2.037-1.92-.755 1.92-.754.71-2.037zM13.989 1.383l-.47 1.085.47 1.085-1.023-.499-1.023.5.47-1.086-.47-1.085 1.023.5 1.023-.5zM2.382 13.81l-.428.987.428.987-.93-.454-.93.454.427-.987-.428-.987.93.454.931-.454zM.741 0l1.213 1.068L3.508.786 2.501 2.073l.266 1.649-1.213-1.068L0 2.935l1.007-1.287L.74 0zM7.09 1.509a.146.146 0 01.276 0l1.726 4.982c.014.04.045.073.085.088l4.72 1.84a.146.146 0 010 .272l-4.72 1.84a.146.146 0 00-.085.088l-1.726 4.982a.146.146 0 01-.276 0L5.365 10.62a.146.146 0 00-.085-.088L.56 8.691a.146.146 0 010-.272l4.72-1.84a.146.146 0 00.085-.088L7.09 1.509z",fill:"#81ACF0"})}))},ur=[{value:x.NO_EFFECT,label:"\u65e0\u7279\u6548"},{value:x.GRAY,label:"\u7070\u5ea6"},{value:x.BLUR,label:"\u9ad8\u65af\u6a21\u7cca"}],fr=function(e){var t=e.value,n=e.onChange;return Object(f.jsx)("div",{children:Object(f.jsx)(Wi.a,{trigger:"click",color:"#1F2836",overlayStyle:{width:150},zIndex:999999999,content:Object(f.jsx)(Xi,{data:ur,value:t,onChange:n}),children:Object(f.jsx)(F,{children:Object(f.jsx)(lr,{})})})})};var hr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.56 1.156a.988.988 0 01-1.123.835l-3.046.038L6.58 5.217a.991.991 0 01-1.402 1.401L2.016 3.456 1.96 6.475a.988.988 0 01-.843 1.116A.992.992 0 010 6.746l.014-5.62A.989.989 0 011.138.01l5.585.02c.541.08.916.584.837 1.125zm7.284 7.284a.988.988 0 00-.835 1.123l-.038 3.046-2.487-2.487a.99.99 0 10-1.401 1.401l2.46 2.461-3.018.055a.988.988 0 00-1.116.843A.992.992 0 009.254 16l5.62-.014a.99.99 0 001.115-1.124l-.02-5.585a.992.992 0 00-1.125-.837z",fill:"#81ACF0"})}))},dr=[{value:j.CUSTOM,label:"\u81ea\u5b9a\u4e49"},{value:j.CONTAIN,label:"\u5305\u542b"},{value:j.COVER,label:"\u8986\u76d6"},{value:j.FILL,label:"\u586b\u5145"}],pr=function(e){var t=e.clip,n=e.onChange,i=Object(r.useCallback)((function(e){t.positionInRender.fitType=e;var i=Ft(),r=i.height,a=i.width,c=ht(t,a,r);n(Object(u.a)(Object(u.a)({},t.positionInRender),c))}),[t,n]);return Object(f.jsx)("div",{children:Object(f.jsx)(Wi.a,{trigger:"click",color:"#1F2836",overlayStyle:{width:150},zIndex:999999999,content:Object(f.jsx)(Xi,{data:dr,value:t.positionInRender.fitType,onChange:i}),children:Object(f.jsx)(F,{children:Object(f.jsx)(hr,{})})})})},vr=function(e){var t=e.data,n=e.onChange,i=Object(r.useCallback)((function(e){n({effect:e})}),[n]),a=Object(r.useCallback)((function(e){n({positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),e)})}),[t.positionInRender,n]);return Object(f.jsxs)(B,{children:[Object(f.jsx)(fr,{value:t.effect,onChange:i}),Object(f.jsx)(pr,{clip:t,onChange:a})]})},br=function(e){var t=e.data,n=e.onChange,i=Object(r.useCallback)((function(e){n({effect:e})}),[n]),a=Object(r.useCallback)((function(e){n({positionInRender:Object(u.a)(Object(u.a)({},t.positionInRender),e)})}),[t.positionInRender,n]);return Object(f.jsxs)(B,{children:[Object(f.jsx)(fr,{value:t.effect,onChange:i}),Object(f.jsx)(pr,{clip:t,onChange:a})]})};function jr(e,t){switch(null===e||void 0===e?void 0:e.type){case se.VIDEO:return Object(f.jsx)(br,{data:e,onChange:t});case se.IMAGE:return Object(f.jsx)(vr,{data:e,onChange:t});default:return null}}var xr,mr,gr,Or=function(){var e=Object(r.useContext)(Cr),t=e.activeClip,n=e.tracks,i=e.setTracks,a=Object(r.useCallback)((function(e){t&&(Object.assign(t,e),i(Object(W.a)(n)))}),[t,i,n]),c=Object(r.useCallback)((function(e){e.stopPropagation()}),[]);return Object(f.jsx)("div",{onClick:c,children:jr(t,a)})},yr=s.b.div(xr||(xr=Object(i.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 50px;\n  top: -50px;\n  display: flex;\n  align-items: center;\n  z-index: 99999;\n  justify-content: space-between;\n"]))),wr=s.b.div(mr||(mr=Object(i.a)(["\n  height: 30px;\n  padding: 0 20px;\n  background: #3A36E4;\n  border-radius: 99px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #fff;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background: #302DD3;\n  }\n\n  svg {\n    margin-right: 8px;\n  }\n"]))),kr=function(e){var t=e.playerContext,n=Object(r.useCallback)((function(){t.player&&function(e){ft.apply(this,arguments)}(t.player)}),[t.player]);return Object(f.jsxs)(yr,{children:[Object(f.jsx)("div",{children:Object(f.jsx)(Or,{})}),Object(f.jsx)("div",{children:"\u672a\u547d\u540d"}),Object(f.jsxs)(wr,{onClick:n,children:[Object(f.jsx)(sr,{}),"\u5bfc\u51fa\u89c6\u9891"]})]})},Cr=a.a.createContext(vt),Ir=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)([[]]),c=Object(l.a)(a,2),o=c[0],s=c[1],h=Object(r.useState)(-1),d=Object(l.a)(h,2),p=d[0],v=d[1],b=Object(r.useState)(0),j=Object(l.a)(b,2),x=j[0],m=j[1],g=Object(r.useState)(),O=Object(l.a)(g,2),y=O[0],w=O[1],k=Object(r.useState)(0),C=Object(l.a)(k,2),I=C[0],T=C[1],R=Object(r.useState)(!1),_=Object(l.a)(R,2),A=_[0],z=_[1],S=Object(r.useState)(),U=Object(l.a)(S,2),F=U[0],M=U[1],L=Object(r.useState)(E.RATIO_16_9),V=Object(l.a)(L,2),D=V[0],N=V[1],G=Object(r.useRef)(null),H=Object(r.useCallback)((function(e){var t=e.filter((function(e){return e.length})),n=Tt(t);n!==x&&(m(n),I>n&&T(n)),t.flat(1).forEach((function(e,t){e.zIndex=t})),s(t.length?t:[[]])}),[I,T,x]);Object(r.useEffect)((function(){if(x){var e=document.querySelector(".tracks-wrapper");if(e){var t=e.clientWidth,n=yt(x);t<n&&(e.style.width="".concat(n+100,"px"))}}}),[x]);var P={hoverTrack:n,setHoverTrack:i,tracks:o,setTracks:H,newTrackIndex:p,setNewTrackIndex:v,activeClip:y,setActiveClip:w,currentTime:I,setCurrentTime:T,totalDuration:x,setTotalDuration:m,isPlaying:A,setIsPlaying:z,draggingClip:F,setDraggingClip:M,ratio:D,setRatio:N},B=function(e,t){var n=Object(r.useRef)(),i=e.tracks,a=e.totalDuration,c=e.setCurrentTime,o=e.isPlaying,s=e.setIsPlaying,l=e.ratio,f=e.setActiveClip,h=Object(vi.a)(t),d=h.width,p=h.height;Object(bi.a)((function(){var e=n.current;if(e&&d&&p){var t=Mt(l,d,p),r=t.width,a=t.height;e.updateResolution(r,a)&&(f(void 0),i.forEach((function(t){t.forEach((function(t){e.removeClip(t.id)}))})),i.forEach((function(t){t.forEach((function(t){var n=ht(t,r,a);Object.assign(t.positionInRender,Object(u.a)(Object(u.a)({},t.positionInRender),n)),e.addClip(t)}))})))}}),[p,d,l,i],{wait:100}),Object(r.useEffect)((function(){if(!n.current&&t.current&&d&&p){var e=Mt(l,d,p),i=e.width,r=e.height;n.current=new xi({width:i,height:r,onCurrentTimeChange:function(e){c(e)},onEnd:function(){s(!1)}}),n.current.attachTo(t.current.querySelector(".player"))}}),[p,t,d,l,c,s,i]),Object(r.useEffect)((function(){if(n.current&&i.length){var e=function(e,t){var n=[],i=[],r=t.flat(1);return e.forEach((function(e){!r.find((function(t){return t.id===e.config.id}))&&e.config.id&&i.push(e.config.id)})),r.forEach((function(t){e.find((function(e){return e.config.id===t.id}))||n.push(t)})),{newClips:n,deleteClips:i}}(n.current.clips,i),t=e.newClips,r=e.deleteClips;mi(n.current,t,r)}}),[i]);var v=Object(r.useCallback)(function(){var e=Object(J.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=10;break}if(t){e.next=7;break}return e.next=4,n.current.pause();case 4:s(!1),e.next=10;break;case 7:return e.next=9,n.current.play();case 9:s(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),b=Object(r.useCallback)(function(){var e=Object(J.a)(q.a.mark((function e(t){var i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=n.current)){e.next=7;break}return i.pause(),e.next=5,i.setCurrentTime(t);case 5:s(!1),c(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,s]);return Object(r.useEffect)((function(){n.current&&a>=0&&n.current.updateDuration()}),[a]),{player:n.current,isPlaying:o,setIsPlaying:s,handleIsPlayingChange:v,handleCurrentTimeChange:b}}(P,G);pi(P,B);var W=Object(r.useCallback)((function(){y&&w(void 0)}),[y]);return Object(r.useEffect)((function(){return document.removeEventListener("click",W,!1),document.addEventListener("click",W,!1),function(){document.removeEventListener("click",W,!1)}}),[W]),Object(f.jsxs)(Cr.Provider,{value:P,children:[Object(f.jsx)(Bi,{}),Object(f.jsxs)(ii,{children:[Object(f.jsx)(wi,{player:B.player}),Object(f.jsxs)(ri,{children:[Object(f.jsx)(ai,{children:Object(f.jsx)(on,{})}),Object(f.jsxs)(si,{children:[Object(f.jsx)(kr,{playerContext:B}),Object(f.jsx)(li,{ref:G,children:Object(f.jsx)("div",{className:"player"})}),Object(f.jsx)(or,{playerContext:B})]})]}),Object(f.jsxs)(ci,{children:[Object(f.jsx)(Li,{playerContext:B}),Object(f.jsxs)(oi,{children:[Object(f.jsx)(hi,{}),Object(f.jsx)(ni,{onCurrentTimeChange:B.handleCurrentTimeChange})]})]})]})]})},Tr=n(111),Rr=(n(200),Object(s.a)(gr||(gr=Object(i.a)(["\n  ::-webkit-scrollbar {\n    width: 7px;\n    height: 7px;\n  }\n\n  ::-webkit-scrollbar-thumb\n  {\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 6px;\n  }\n"]))));o.a.render(Object(f.jsxs)(a.a.StrictMode,{children:[Tr.isWindows?Object(f.jsx)(Rr,{}):null,Object(f.jsx)(Ir,{})]}),document.getElementById("root"))},98:function(e,t){e.exports=FFmpeg}},[[201,1,2]]]);
//# sourceMappingURL=main.c280251b.chunk.js.map