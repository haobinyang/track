(this["webpackJsonpgo-think"]=this["webpackJsonpgo-think"]||[]).push([[0],{32:function(e,t){e.exports=FFmpeg},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),a=n(28),o=n.n(a),c=n(8),s=n(2),l=n(0);var u=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(l.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_126)"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 9h-4v8.5a2.5 2.5 0 00-.95 1.5H8v3h3v-.05A2.5 2.5 0 0013.95 20H14V9z",fill:"url(#prefix__paint1_linear_440_126)"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 11l-4-2v8h-2v5h3v-.05A2.5 2.5 0 0023.95 20H24v-9z",fill:"url(#prefix__paint2_linear_440_126)"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 14h-8v6H9v-9a3 3 0 013-3h6a3 3 0 013 3v9h-2v-6zm0-2v-1a1 1 0 00-1-1h-6a1 1 0 00-1 1v1h8z",fill:"url(#prefix__paint3_linear_440_126)"}),Object(l.jsx)("circle",{cx:8.5,cy:19.5,r:2.5,fill:"#fff"}),Object(l.jsx)("circle",{cx:18.5,cy:19.5,r:2.5,fill:"#fff"}),Object(l.jsxs)("defs",{children:[Object(l.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_126",x1:15,y1:0,x2:30,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#F126DD"}),Object(l.jsx)("stop",{offset:1,stopColor:"#ED1998"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_126",x1:11,y1:11.4,x2:14,y2:11.4,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#D6008E"}),Object(l.jsx)("stop",{offset:1,stopColor:"#D6008E",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_126",x1:21,y1:11.4,x2:24,y2:11.4,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#D6008E"}),Object(l.jsx)("stop",{offset:1,stopColor:"#D6008E",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_126",x1:14.5,y1:14.5,x2:14.5,y2:19.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff"}),Object(l.jsx)("stop",{offset:1,stopColor:"#D71AA2"})]})]})]}))};var f=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(l.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_172)"}),Object(l.jsx)("path",{d:"M8 8h8l1 4H8V8z",fill:"url(#prefix__paint1_linear_440_172)"}),Object(l.jsx)("path",{d:"M22 21l-2.4-3.2a1 1 0 00-1.4-.2l-.506.38a1 1 0 01-1.307-.093L13.58 15.08a1 1 0 00-1.262-.125L7 18.5",stroke:"url(#prefix__paint2_linear_440_172)",strokeWidth:2,strokeLinecap:"round"}),Object(l.jsx)("path",{d:"M8 8h2.5v13.5H8V8z",fill:"url(#prefix__paint3_linear_440_172)"}),Object(l.jsx)("path",{d:"M23 14h3v11l-3-3v-8z",fill:"url(#prefix__paint4_linear_440_172)"}),Object(l.jsx)("path",{d:"M23 22H7.752L11 25h15l-3-3z",fill:"url(#prefix__paint5_linear_440_172)"}),Object(l.jsx)("circle",{cx:20.5,cy:9.5,r:2.5,fill:"#E2400D",stroke:"#fff",strokeWidth:2}),Object(l.jsx)("path",{d:"M15 9a1 1 0 100-2v2zm9 6a1 1 0 10-2 0h2zm-3 6H9v2h12v-2zM8 20V10H6v10h2zM9 9h6V7H9v2zm15 11v-5h-2v5h2zM9 21a1 1 0 01-1-1H6a3 3 0 003 3v-2zm12 2a3 3 0 003-3h-2a1 1 0 01-1 1v2zM8 10a1 1 0 011-1V7a3 3 0 00-3 3h2z",fill:"#fff"}),Object(l.jsxs)("defs",{children:[Object(l.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_172",x1:15,y1:0,x2:15,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#FF8328"}),Object(l.jsx)("stop",{offset:1,stopColor:"#EA5F11"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_172",x1:13,y1:9,x2:13,y2:12,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#E2400D"}),Object(l.jsx)("stop",{offset:1,stopColor:"#CE5720",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_172",x1:15,y1:17,x2:15,y2:22,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff"}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_172",x1:8,y1:12,x2:10.5,y2:12,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#E2400D"}),Object(l.jsx)("stop",{offset:1,stopColor:"#CE5720",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_172",x1:24,y1:17.259,x2:26,y2:17.259,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#E2400D"}),Object(l.jsx)("stop",{offset:1,stopColor:"#CE5720",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_172",x1:16.876,y1:23.5,x2:16.876,y2:25,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#E2400D"}),Object(l.jsx)("stop",{offset:1,stopColor:"#CE5720",stopOpacity:0})]})]})]}))};var d=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(l.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_141)"}),Object(l.jsx)("ellipse",{cx:15,cy:21.75,rx:7,ry:1.75,fill:"url(#prefix__paint1_linear_440_141)"}),Object(l.jsx)("path",{d:"M13.25 10c0-.633.203-1.06.504-1.332.304-.276.738-.418 1.246-.418s.942.142 1.247.418c.3.271.503.699.503 1.332 0 .61-.338 1.307-.762 1.867-.209.276-.43.506-.623.665-.097.08-.183.138-.252.175a.524.524 0 01-.084.036c-.02.007-.03.007-.03.007H15s0 0 0 0-.009 0-.03-.007a.524.524 0 01-.083-.036 1.567 1.567 0 01-.252-.175 4.037 4.037 0 01-.623-.665c-.424-.56-.762-1.256-.762-1.867z",fill:"url(#prefix__paint2_linear_440_141)",stroke:"url(#prefix__paint3_linear_440_141)",strokeWidth:.5}),Object(l.jsx)("path",{d:"M13 20c0 1.38.896 2 2 2 1.105 0 2-.62 2-2s-1.5-3-2-3-2 1.62-2 3z",fill:"url(#prefix__paint4_linear_440_141)"}),Object(l.jsx)("path",{d:"M18.33 10.768c1.196-.69 2.18-.225 2.732.732s.464 2.042-.732 2.732c-1.196.69-3.348.2-3.598-.232-.25-.433.402-2.542 1.598-3.232z",fill:"url(#prefix__paint5_linear_440_141)"}),Object(l.jsx)("path",{d:"M9.795 15.984c-.549.317-.817.707-.902 1.103-.086.4.008.848.261 1.288.254.44.595.745.985.87.386.125.857.087 1.406-.23.529-.305.963-.946 1.236-1.593.134-.319.223-.625.264-.872a1.57 1.57 0 00.025-.306.51.51 0 00-.01-.09c-.004-.021-.008-.03-.008-.03s0 0 0 0v.001s-.005-.008-.02-.022a.53.53 0 00-.074-.054 1.566 1.566 0 00-.277-.131 4.035 4.035 0 00-.888-.207c-.697-.088-1.469-.032-1.998.273z",fill:"url(#prefix__paint6_linear_440_141)",stroke:"url(#prefix__paint7_linear_440_141)",strokeWidth:.5}),Object(l.jsx)("path",{d:"M20.205 15.984c.549.317.817.707.902 1.103.087.4-.008.848-.261 1.288-.254.44-.595.745-.985.87-.386.125-.857.087-1.406-.23-.529-.305-.963-.946-1.236-1.593a4.035 4.035 0 01-.264-.872 1.57 1.57 0 01-.025-.306.51.51 0 01.01-.09c.004-.021.009-.03.008-.03 0 0 0 0 0 0v.001s.005-.008.021-.022a.53.53 0 01.073-.054c.067-.042.16-.087.277-.131.235-.088.545-.164.889-.207.696-.088 1.468-.032 1.997.273z",fill:"url(#prefix__paint8_linear_440_141)",stroke:"url(#prefix__paint9_linear_440_141)",strokeWidth:.5}),Object(l.jsx)("path",{d:"M11.67 10.768c-1.196-.69-2.18-.225-2.732.732s-.464 2.042.732 2.732c1.196.69 3.348.2 3.598-.232.25-.433-.402-2.542-1.598-3.232z",fill:"url(#prefix__paint10_linear_440_141)"}),Object(l.jsxs)("defs",{children:[Object(l.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_141",x1:0,y1:0,x2:27.5,y2:27.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#F3CE4C"}),Object(l.jsx)("stop",{offset:1,stopColor:"#E8A912"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_141",x1:17.5,y1:22.625,x2:17.5,y2:20,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#E29800"}),Object(l.jsx)("stop",{offset:1,stopColor:"#E29800",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_141",x1:15,y1:13,x2:15,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_141",x1:15,y1:13,x2:15,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_141",x1:15,y1:17,x2:14.835,y2:19.714,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_141",x1:16.732,y1:14,x2:19,y2:12.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint6_linear_440_141",x1:13.268,y1:16,x2:8.938,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint7_linear_440_141",x1:13.268,y1:16,x2:8.938,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint8_linear_440_141",x1:16.732,y1:16,x2:21.062,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint9_linear_440_141",x1:16.732,y1:16,x2:21.062,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint10_linear_440_141",x1:13.268,y1:14,x2:11,y2:12.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff"})]})]})]}))};var p=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:Object(l.jsx)("rect",{x:1,y:1,width:28,height:28,rx:9,stroke:"#C9AE4D",strokeWidth:2})}))};var h=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(l.jsx)("rect",{width:30,height:30,rx:8,fill:"url(#prefix__paint0_linear_440_718)"}),Object(l.jsx)("path",{fill:"url(#prefix__paint1_linear_440_718)",d:"M10 12h10v5H10z"}),Object(l.jsx)("path",{d:"M12 19.5h6V22h-6v-2.5z",fill:"url(#prefix__paint2_linear_440_718)"}),Object(l.jsx)("path",{d:"M8 8h3v3H8V8z",fill:"url(#prefix__paint3_linear_440_718)"}),Object(l.jsx)("path",{d:"M19 8h3v3h-3V8z",fill:"url(#prefix__paint4_linear_440_718)"}),Object(l.jsx)("path",{d:"M8 19h3v4H8v-4z",fill:"url(#prefix__paint5_linear_440_718)"}),Object(l.jsx)("path",{d:"M22 19h-3v4h3v-4z",fill:"url(#prefix__paint6_linear_440_718)"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.272 11.184a1 1 0 01.949-.684h7.559a1 1 0 01.948.684l.564 1.692a.474.474 0 11-.9.3l-.225-.676H16.5a.5.5 0 00-.5.5v5.5a.5.5 0 00.5.5h1.3c.11 0 .2.09.2.2v.6a.2.2 0 01-.2.2h-5.6a.2.2 0 01-.2-.2v-.6c0-.11.09-.2.2-.2h1.3a.5.5 0 00.5-.5V13a.5.5 0 00-.5-.5h-2.667l-.225.676a.474.474 0 01-.9-.3l.564-1.692zM11 7H7v4h1.5V8.5H11V7zM11 23H7v-4h1.5v2.5H11V23zM19 7h4v4h-1.5V8.5H19V7zM19 23h4v-4h-1.5v2.5H19V23z",fill:"#fff"}),Object(l.jsxs)("defs",{children:[Object(l.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_718",x1:15,y1:0,x2:27,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#285DE7"}),Object(l.jsx)("stop",{offset:1,stopColor:"#0F48D7"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_718",x1:15,y1:12.5,x2:15,y2:17,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(l.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_718",x1:15,y1:20.333,x2:15,y2:22,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(l.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_718",x1:9.5,y1:8.5,x2:9.5,y2:11,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(l.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_718",x1:20.5,y1:8.5,x2:20.5,y2:11,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(l.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_718",x1:8,y1:23,x2:11,y2:23,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(l.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint6_linear_440_718",x1:22,y1:23,x2:19,y2:23,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(l.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]})]})]}))};var b=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(l.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_114)"}),Object(l.jsx)("path",{d:"M15.5 24l-8-2 8-1.5 8 1.5-8 2z",fill:"url(#prefix__paint1_linear_440_114)"}),Object(l.jsx)("path",{opacity:.9,d:"M7.5 11.239a1 1 0 01.706-.956l4.5-1.385A1 1 0 0114 9.854v10.292a1 1 0 01-1.294.956l-4.5-1.385a1 1 0 01-.706-.956V11.24z",fill:"#fff"}),Object(l.jsx)("path",{d:"M23.4 11.239a.9.9 0 00-.635-.86l-4.5-1.385a.9.9 0 00-1.165.86v10.292a.9.9 0 001.165.86l4.5-1.384a.9.9 0 00.635-.86v-7.523z",fill:"url(#prefix__paint2_linear_440_114)",stroke:"url(#prefix__paint3_linear_440_114)",strokeWidth:.2}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.75 7h-.5v2h.5V7zm0 3h-.5v2h.5v-2zm-.5 3h.5v2h-.5v-2zm.5 3h-.5v2h.5v-2zm-.5 3h.5v2h-.5v-2zm.5 3h-.5v2h.5v-2z",fill:"#fff"}),Object(l.jsxs)("defs",{children:[Object(l.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_114",x1:15,y1:0,x2:28,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#B04CFF"}),Object(l.jsx)("stop",{offset:1,stopColor:"#864CFF"})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_114",x1:15.5,y1:24.5,x2:15.5,y2:20.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{offset:.258,stopColor:"#632AD9"}),Object(l.jsx)("stop",{offset:1,stopColor:"#632AD9",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_114",x1:17,y1:14.5,x2:24,y2:14.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.56}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.03})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_114",x1:17,y1:16,x2:19,y2:16,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#fff",stopOpacity:.34}),Object(l.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:0})]})]})]}))};var j,v=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:Object(l.jsx)("rect",{x:1,y:1,width:28,height:28,rx:9,stroke:"#367CE4",strokeWidth:2})}))};!function(e){e[e.VIDEO=0]="VIDEO",e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.TRANSITION=3]="TRANSITION",e[e.GIF=4]="GIF",e[e.TEXT=5]="TEXT"}(j||(j={}));var x,g,O,m;!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.FILL=1]="FILL",e[e.CONTAIN=2]="CONTAIN",e[e.COVER=3]="COVER"}(x||(x={})),function(e){e[e.NO_EFFECT=0]="NO_EFFECT",e[e.BLUR=1]="BLUR",e[e.GRAY=2]="GRAY"}(g||(g={})),function(e){e[e.MORPH=0]="MORPH",e[e.DREAMY=1]="DREAMY",e[e.FADE=2]="FADE"}(O||(O={})),function(e){e[e.PLUNGING=0]="PLUNGING"}(m||(m={}));var y,w,k,C,I,_,T,R=[{name:"dreamy",transition:O.DREAMY},{name:"fade",transition:O.FADE}],E={videos:[{name:"leaf",url:"1.mp4"},{name:"sunflower",url:"https://adsmind.gdtimg.com/ads_svp_video__0b5356bikoyameao6cufayabuqaee7xqhbibaaaab3yk..mp4?dis_k=00336127182714ebee73d007e9ebd394&dis_t=1631259090&m=78f766034a7339a822b3a1881bf122b6"},{name:"cartoon",url:"3.webm"},{name:"leaf-2",url:"1.mp4"}].map((function(e){return Object(s.a)({type:j.VIDEO},e)})),images:[{name:"dawn",url:"https://images.unsplash.com/photo-1634322474954-d69e93a8480b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2370&q=80"}].map((function(e){return Object(s.a)({type:j.IMAGE},e)})),audios:[{name:"sky",url:"1.mp3"},{name:"jay",url:"2.mp3"}].map((function(e){return Object(s.a)({type:j.AUDIO},e)})),transitions:R.map((function(e){return Object(s.a)({type:j.TRANSITION},e)})),gifs:[{name:"horses",url:"horses.gif"}].map((function(e){return Object(s.a)({type:j.GIF},e)})),texts:[{name:"\u6587\u672c",value:"\u6dfb\u52a0\u6587\u672c"}].map((function(e){return Object(s.a)({type:j.TEXT},e)}))},A=n(5),U=n(6),S=U.a.div(y||(y=Object(A.a)(["\n  width: 30px;\n  height: 30px;\n  background: #26384E;\n  border: 1px solid #2A3F5F;\n  box-sizing: border-box;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg path {\n    fill: #7B9FD6;\n    transition: fill 0.3s;\n  }\n\n  &:hover {\n    background: #3A36E4 !important;\n    color: #fff;\n    border-color: #3648E0 !important;\n\n    svg path {\n      fill: #fff;\n    }\n  }\n\n  &.disabled {\n    pointer-events: none;\n    background: #1F2836;\n    color: #475d80;\n    border-color: #222B3A !important;\n\n    svg path {\n      fill: #475d80;\n    }\n  }\n\n  &.warn:hover {\n    background: #E62519;\n    border-color: #EF3327;\n  }\n"]))),F=U.a.div(w||(w=Object(A.a)(["\n  height: 24px;\n  padding: 0 14px;\n  background: #1F2836;\n  box-sizing: border-box;\n  border-radius: 99px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg path {\n    fill: #7B9FD6;\n    transition: fill 0.3s;\n  }\n\n  &:hover {\n    background: #3A36E4;\n    color: #fff;\n    border-color: #3648E0;\n\n    svg path {\n      fill: #fff;\n    }\n  }\n\n  &.disabled {\n    pointer-events: none;\n    background: #1b1f25;\n    color: #475d80;\n    border-color: #101214;\n\n    svg path {\n      fill: #475d80;\n    }\n  }\n\n  &.warn:hover {\n    background: #E62519;\n  }\n"]))),M=U.a.div(k||(k=Object(A.a)(["\n  width: 80px;\n  height: 76px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 4px 26px 0 0;\n  cursor: pointer;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  position: relative;\n\n  &.active::before {\n    content: '';\n    position: absolute;\n    width: 20px;\n    height: 3px;\n    border-radius: 2px;\n    top: -3px;\n  }\n\n  &.active {\n    background-color: #1A212A;\n\n    &:nth-child(1)::before {\n      background: #EFCC4F;\n    }\n    &:nth-child(2)::before {\n      background: #B04CFF;\n    }\n    &:nth-child(3)::before {\n      background: #2057E2;\n    }\n    &:nth-child(4)::before {\n      background: #F6731E;\n    }\n    &:nth-child(5)::before {\n      background: #EF1DAE;\n    }\n    &:nth-child(6)::before {\n      background: #2057E2;\n    }\n    &:nth-child(7)::before {\n      background: #EFCC4F;\n    }\n  }\n\n  &:hover {\n    background-color: #1C2530;\n  }\n\n  .icon {\n    width: 30px;\n    height: 30px;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-size: 14px;\n    line-height: 16px;\n    color: #516482;\n  }\n"]))),D=U.a.div(C||(C=Object(A.a)(["\n  margin-bottom: 40px;\n  .asset-title {\n    color: #7185A6;\n    font-size: 14px;\n    line-height: 14px;\n  }\n  &:hover {\n    .asset-title {\n      color: #fff;\n    }\n  }\n"]))),z=U.a.div(I||(I=Object(A.a)(["\n  width: 200px;\n  height: 112px;\n  margin: 0 36px 20px 0;\n"]))),G=U.a.div(_||(_=Object(A.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  cursor: move;\n  overflow: hidden;\n  position: relative;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    vertical-align: unset;\n  }\n\n  video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .title {\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    color: #D5D5D5;\n    font-size: 12px;\n    height: 12px;\n    line-height: 12px;\n  }\n"]))),L=n(16),N=n(56);function V(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="",r=e%1e3;(r||t)&&(i=".".concat(String(r).padStart(3,"0")));var a=(e-r)/1e3,o=a%60;i="".concat(String(o).padStart(2,"0")).concat(i);var c=(a-o)/60,s=c%60;i="".concat(String(s).padStart(2,"0"),":").concat(i);var l=(c-s)/60;return(n||l)&&(i="".concat(String(l).padStart(2,"0"),":").concat(i)),i}function P(e,t,n){return new Promise((function(i,r){var a=t.width,o=t.height,c=new Image;c.width=a,c.height=o,c.onload=function(){n&&(n.clearRect(0,0,a,o),n.drawImage(c,0,0)),i(!0)},c.onerror=function(e){r(e)},c.src="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.trim()))))}))}function H(e){return new Promise((function(t){window.setTimeout(t,e)}))}function B(e,t){var n=document.createElement("a");if(n.href=e,n.target="_blank",n.download=t,navigator.userAgent.toLowerCase().match(/(ipad|iphone|safari)/)&&navigator.userAgent.search("Chrome")<0)document.location=n.href;else{var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(i),(window.URL||window.webkitURL).revokeObjectURL(n.href)}}function W(e){var t=e.props,n=t.fontColor,i=t.fontSize,r=t.fontFamily;return["color:".concat(n),"font-size:".concat(i,"px"),"font-family:".concat(r),"font-weight:200","display:inline-block","transform-origin:left top","transform:scale(".concat(2,")")].join(";")}function Y(e){var t=document.querySelector(".div-for-text-size-calc");t||((t=document.createElement("div")).setAttribute("class","div-for-text-size-calc"),document.body.appendChild(t)),t.innerText=e.value,t.style.cssText=W(e);var n=t.getBoundingClientRect();return{width:Math.ceil(n.width),height:Math.ceil(n.height)}}!function(e){e[e.ALL=0]="ALL",e[e.EW=1]="EW",e[e.NS=2]="NS"}(T||(T={}));var X,J=function(e){var t=e.children,n=e.direction,a=void 0===n?T.ALL:n,o=e.scrollContainerSelector,s=e.autoGrow,u=e.enable,f=void 0===u||u,d=e.attachData,p=e.slow,h=void 0===p?1:p,b=e.onStart,j=e.onMove,v=e.onEnd,x=Object(i.useRef)(null),g=Object(i.useRef)(0),O=Object(i.useRef)(0),m=Object(i.useRef)(0),y=Object(i.useRef)(""),w=Object(i.useRef)(0),k=Object(i.useRef)(0),C=Object(i.useRef)(0),I=Object(i.useRef)(0),_=Object(i.useRef)(!1),R=Object(i.useRef)(0),E=Object(i.useRef)(!1),A=Object(i.useRef)(!1),U=Object(i.useState)(),S=Object(c.a)(U,2),F=S[0],M=S[1];Object(i.useEffect)((function(){F&&(_.current?(R.current=0,null===v||void 0===v||v(F)):(R.current=R.current+1,R.current%h===0&&(null===j||void 0===j||j(F))),M(void 0))}),[F,v,j,h]);var D=Object(i.useCallback)((function(e,t,n){var i="";T.ALL===a&&(i="translate(".concat(t-g.current,"px, ").concat(n-O.current,"px)")),T.EW===a&&(i="translate(".concat(t-g.current,"px, ").concat(k.current,"px)")),T.NS===a&&(i="translate(".concat(w.current,"px, ").concat(n-O.current,"px)")),e.style.transform=i}),[a]),z=Object(i.useCallback)((function(e,t,n){m.current=window.setInterval((function(){var i=t.getBoundingClientRect();e>0&&s&&t.scrollLeft+i.width>n.clientWidth-100&&(n.style.width="".concat(n.clientWidth+100,"px")),t.scrollLeft+=2*e}),1e3/60)}),[s]),G=Object(i.useCallback)((function(e,t,n){if(m&&(window.clearInterval(m.current),m.current=0),o){var i=100,r=document.querySelector(o);if(!A.current){if(!(null===e||void 0===e?void 0:e.closest(o)))return;A.current=!0}if(null===r||void 0===r?void 0:r.parentElement){var a=r.parentElement,c=a.getBoundingClientRect(),l=0;t>c.right-i?(s&&a.scrollLeft+c.width>r.clientWidth-100&&(r.style.width="".concat(r.clientWidth+100,"px")),l=5*(1+Math.min((t-c.right+i)/i,1))):t<c.left+i&&(l=-5*(1+Math.min((c.left+i-t)/i,1))),0!==l&&(a.scrollLeft+=l,z(l,a,r))}}}),[s,z,o]),L=Object(i.useCallback)((function(e){var t=x.current;if(t){t.hidden=!0;var n=document.elementFromPoint(e.clientX,e.clientY);D(t,e.pageX,e.pageY),G(n,e.pageX,e.pageY);var i=e.pageX-g.current,r=e.pageY-O.current,a=i-C.current,o=r-I.current;0===a&&0===o||(E.current=!0,M({element:t,belowElement:n,left:i,top:r,originalLeft:w.current,originalTop:k.current,stepLeft:i-C.current,stepTop:r-I.current,cursorLeft:e.pageX,cursorTop:e.pageY,attachData:d,isMoved:E.current}),C.current=i,I.current=r),t.hidden=!1}}),[D,G,d]),N=Object(i.useCallback)((function(e){var t=e.pageX,n=e.pageY,i=x.current;if(i){i.hidden=!0;var r=document.elementFromPoint(e.clientX,e.clientY);i.hidden=!1,i.classList.remove("dragged"),i.setAttribute("style",y.current),_.current=!0,M({element:i,belowElement:r,left:t-g.current,top:n-O.current,originalLeft:w.current,originalTop:k.current,stepLeft:0,stepTop:0,cursorLeft:t,cursorTop:n,attachData:d,isMoved:E.current})}window.clearInterval(m.current),window.removeEventListener("mousemove",L,!1),window.removeEventListener("mouseup",N,!1)}),[d,L]),V=Object(i.useCallback)((function(e){if(e.stopPropagation(),x.current){_.current=!1;var t=x.current,n=t.getBoundingClientRect(),i=n.left,r=n.top,a=n.width,o=n.height;g.current=e.clientX-i,O.current=e.clientY-r,y.current=t.getAttribute("style")||"",w.current=i,k.current=r,C.current=i,I.current=r,A.current=!1,E.current=!1,function(e,t){Object.keys(t).forEach((function(n){e.style.setProperty(n.replace(/([A-Z])/g,"-$1").toLowerCase(),t[n])}))}(t,{transform:"translate(".concat(i,"px, ").concat(r,"px)"),width:"".concat(a,"px"),height:"".concat(o,"px")}),t.classList.add("dragged"),null===b||void 0===b||b(),D(t,e.pageX,e.pageY),window.addEventListener("mousemove",L,!1),window.addEventListener("mouseup",N,!1)}}),[L,N,D,b]);return Object(i.useEffect)((function(){var e=x.current;if(e&&f)return e.addEventListener("mousedown",V,!1),function(){e.removeEventListener("mousedown",V,!1)}}),[x,f,V]),Object(l.jsx)(l.Fragment,{children:r.a.cloneElement(t,{ref:function(e){return x.current=e}})})};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VIDEO=1]="VIDEO",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.TRANSITION=4]="TRANSITION",e[e.SVG=5]="SVG",e[e.LOTTIE=6]="LOTTIE",e[e.TEXT=7]="TEXT",e[e.GIF=8]="GIF"}(X||(X={}));var q,Z,Q,K,$=n(3),ee=n.n($),te=n(4),ne=n(9),ie=n(10),re=n(14),ae=n(11),oe=n(15),ce=n(13),se=function(){function e(t,n){Object(ne.a)(this,e),this.isAttachToPainter=!1,this.isEntered=!1,this.player=void 0,this.painter=void 0,this.sprite=void 0,this.config=void 0,this.texture=void 0,this.config=t,this.player=n,this.painter=n.painter}return Object(ie.a)(e,[{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"show",value:function(){this.sprite&&(this.sprite.visible=!0)}},{key:"hide",value:function(){this.sprite&&(this.sprite.visible=!1)}},{key:"updatePlaybackRate",value:function(){}},{key:"getOriginalDuration",value:function(){return this.config.playRange.end-this.config.playRange.start}},{key:"addToPainter",value:function(){!this.isAttachToPainter&&this.sprite&&this.config.id&&(this.isAttachToPainter=!0,this.player.painter.add(this.sprite,this.config.id))}},{key:"removeFromPainter",value:function(){this.isAttachToPainter&&this.config.id&&(this.isAttachToPainter=!1,this.player.painter.remove(this.config.id))}},{key:"onEnter",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.removeFromPainter();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),le=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).context=new AudioContext,e.audioBuffer=void 0,e.source=void 0,e.playbackRate=1,e.isPlaying=!1,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAudioBuffer();case 3:this.audioBuffer=e.sent,this.updatePlaybackRate(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioBuffer",value:function(){var e=this;return new Promise((function(t,n){e.context.decodeAudioData(e.config.buffer.slice(0),(function(e){e?t(e):n(!1)}),(function(e){n(e)}))}))}},{key:"play",value:function(){if(this.audioBuffer){var e=this.context.createBufferSource();e.buffer=this.audioBuffer,e.loop=!1,e.start(0,(this.config.playRange.start+(this.player.currentTime-this.config.positionInTimeline.start)*this.playbackRate)/1e3),this.isPlaying=!0,this.source=e,this.source.connect(this.context.destination)}}},{key:"pause",value:function(){this.source&&(this.source.stop(),this.isPlaying=!1)}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.positionInTimeline.duration}},{key:"onEnter",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.play();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.pause();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.pause(),this.player.isPlaying&&this.play());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.source)||void 0===t||t.stop();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),ue=n(12),fe=n(7);function de(e,t,n,i,r,a,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new fe.Vector2(0,0),s=i,l=r,u=c.clone();if(e===x.CONTAIN){var f=t/n,d=a/o;f/d>1?(l=n,s=a*(n/o),u.set(.5*(t-s),0)):(s=t,l=o*(t/a),u.set(0,.5*(n-l)))}else if(e===x.COVER){var p=t/n,h=a/o;p/h>1?(s=t,l=o*(t/a),u.set(0,.5*(n-l))):(l=n,s=a*(n/o),u.set(.5*(t-s),0))}else e===x.FILL&&(s=t,l=n,u.set(0,0));var b=new fe.Vector2(-u.x/s+0,(t-u.x)/s),j=new fe.Vector2(-u.y/l+0,(n-u.y)/l);return[b,j]}var pe,he,be,je,ve=function(){function e(){Object(ne.a)(this,e)}return Object(ie.a)(e,null,[{key:"GetVertex",value:function(){return Object(ue.glsl)(q||(q=Object(A.a)(["\n      varying vec2 texCoords;\n      void main() {\n        texCoords = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    "])))}},{key:"GetFragment",value:function(){return Object(ue.glsl)(Z||(Z=Object(A.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D tex;\n      void main() {\n        gl_FragColor = texture2D(tex, texCoords);\n      }\n    "])))}},{key:"GetEffectFragment",value:function(e){var t=e.effect;return Object(ue.glsl)(Q||(Q=Object(A.a)(["\n      varying vec2 texCoords;\n      uniform vec2 uRange;\n      uniform vec2 vRange;\n      uniform sampler2D tex;\n      ","\n      vec4 getColor(vec2 uv) {\n        vec2 newUV = vec2(uRange.x + uv.x * (uRange.y - uRange.x), vRange.x + uv.y * (vRange.y - vRange.x));\n        vec4 color = effect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      void main() {\n        gl_FragColor = getColor(texCoords);\n      }\n    "])),t)}},{key:"GetTransitionFragment",value:function(e){var t=e.fromEffect,n=e.toEffect,i=e.transition;return Object(ue.glsl)(K||(K=Object(A.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D from, to;\n      uniform vec2 fromURange, fromVRange;\n      uniform vec2 toURange, toVRange;\n      uniform float fromRatio, toRatio;\n      uniform float progress;\n      ","\n      ","\n      vec4 getFromColor(vec2 uv) {\n        vec2 newUV = vec2(fromURange.x + uv.x * (fromURange.y - fromURange.x), fromVRange.x + uv.y * (fromVRange.y - fromVRange.x));\n        vec4 color = fromEffect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      vec4 getToColor(vec2 uv) {\n        vec2 newUV = vec2(toURange.x + uv.x * (toURange.y - toURange.x), toVRange.x + uv.y * (toVRange.y - toVRange.x));\n        vec4 color = toEffect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      ","\n      void main() {\n        gl_FragColor = transition(texCoords);\n      }\n    "])),t,n,i)}}]),e}(),xe=n(17);var ge=(je={},Object(xe.a)(je,g.NO_EFFECT,(function(){return{uniforms:{},fragment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tex",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"effect";return Object(ue.glsl)(pe||(pe=Object(A.a)(["\n      vec4 ","(vec2 uv) {\n        return texture2D(",", uv);\n      }\n    "])),t,e)}}})),Object(xe.a)(je,g.GRAY,(function(){return{uniforms:{},fragment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tex",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"effect";return Object(ue.glsl)(he||(he=Object(A.a)(["\n      vec4 ","(vec2 uv) {\n        vec4 color = texture2D(",", uv);\n        float gray = (color.r+color.g+color.b)/3.;\n        return vec4(gray,gray,gray,color.a);\n      }\n    "])),t,e)}}})),Object(xe.a)(je,g.BLUR,(function(e){return{uniforms:{blurSize:{value:10},horizontalPass:{value:1},sigma:{value:3},texOffset:{value:new fe.Vector2(1,1)}},fragment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tex",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"effect";return Object(ue.glsl)(be||(be=Object(A.a)(["\n      const float PI = 3.14159265;\n      vec4 ","(vec2 uv) {\n        float numBlurPixelsPerSide = float(blurSize / 2);\n\n        vec3 incrementalGaussian;\n        incrementalGaussian.x = 1.0 / (sqrt(2.0 * PI) * sigma);\n        incrementalGaussian.y = exp(-0.5 / (sigma * sigma));\n        incrementalGaussian.z = incrementalGaussian.y * incrementalGaussian.y;\n\n        vec4 avgValue = vec4(0.0, 0.0, 0.0, 0.0);\n        float coefficientSum = 0.0;\n        avgValue += texture2D(",", uv) * incrementalGaussian.x;\n        coefficientSum += incrementalGaussian.x;\n        incrementalGaussian.xy *= incrementalGaussian.yz;\n\n        for (float i = 1.0; i <= numBlurPixelsPerSide; i++) { \n          avgValue += texture2D(",", uv - i * texOffset) * incrementalGaussian.x;         \n          avgValue += texture2D(",", uv + i * texOffset) * incrementalGaussian.x;         \n          coefficientSum += 2.0 * incrementalGaussian.x;\n          incrementalGaussian.xy *= incrementalGaussian.yz;\n        }\n\n        return avgValue / coefficientSum;\n      }\n    "])),t,e,e,e)}}})),je);function Oe(e){return ge[e||g.NO_EFFECT]}var me=new Map;function ye(e,t,n){var i;if(!me.has(e)){var r=new Set;me.set(e,Object(xe.a)({},t,r))}var a=me.get(e);a&&!a[t]&&(a[t]=new Set),null===(i=me.get(e))||void 0===i||i[t].add(n);var o=e[t];Object.defineProperty(e,t,{get:function(){return o},set:function(n){var i,r=o;(o=n,n!==r)&&(null===(i=me.get(e))||void 0===i||i[t].forEach((function(e){e(n,r)})))}})}var we,ke,Ce,Ie,_e=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.texture=void 0,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ye(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),ye(this.config,"effect",(function(t){if(e.material){var n=Oe(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(s.a)(Object(s.a)({},e.material.uniforms),i),e.material.fragmentShader=ve.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),ye(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,o=n.bottom,s=e.player,l=e.config,u=de(t.fitType,s.width,s.height,i,r,l.originalWidth,l.originalHeight,new fe.Vector2(a,o)),f=Object(c.a)(u,2),d=f[0],p=f[1];e.material.uniforms.uRange.value=d,e.material.uniforms.vRange.value=p,e.material.uniformsNeedUpdate=!0}}))}},{key:"createTexture",value:function(){var e=this;return new Promise((function(t){(new fe.TextureLoader).load(e.config.blobUrl,(function(e){t(e)}))}))}},{key:"initRender",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r,a,o,l,u,f,d,p,h,b,j,v,x,g,O;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.positionInRender,i=n.width,r=n.height,a=n.fitType,o=n.left,l=n.bottom,u=t.effect,f=t.originalWidth,d=t.originalHeight,p=this.player,h=Oe(u)(this),b=h.uniforms,j=h.fragment,v=de(a,p.width,p.height,i,r,f,d,new fe.Vector2(o,l)),x=Object(c.a)(v,2),g=x[0],O=x[1],e.next=6,this.createTexture();case 6:this.texture=e.sent,this.geometry=new fe.PlaneGeometry(p.width,p.height),this.material=new fe.ShaderMaterial({uniforms:Object(s.a)({tex:{value:this.texture},uRange:{value:g},vRange:{value:O}},b),vertexShader:ve.GetVertex(),fragmentShader:ve.GetEffectFragment({effect:j()})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new fe.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Te=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initRender(),this.watchChange();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ye(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)}))}},{key:"initRender",value:function(){var e=this.player,t=e.width,n=e.height;this.geometry=new fe.PlaneGeometry(t,n),this.material=new fe.MeshBasicMaterial;var i=new fe.CanvasTexture(document.createElement("canvas"));this.material.map=i,this.material.transparent=!0,this.sprite=new fe.Mesh(this.geometry,this.material)}},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(t=this.material)||void 0===t?void 0:t.map)&&(n=this.player.currentTime,this.config.lottie.goToAndStop(n-this.config.positionInTimeline.start),this.material.map.needsUpdate=!0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.geometry)||void 0===t||t.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Re=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).canvas=document.createElement("canvas"),e.context=void 0,e.geometry=void 0,e.material=void 0,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initCanvas(),this.initRender(),this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ye(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)}))}},{key:"initCanvas",value:function(){var e=this.painter.getRealSize(),t=e.width,n=e.height;this.canvas.width=t,this.canvas.height=n,this.context=this.canvas.getContext("2d")}},{key:"initRender",value:function(){var e=this.player,t=e.width,n=e.height;this.geometry=new fe.PlaneGeometry(t,n),this.material=new fe.MeshBasicMaterial,this.material.map=new fe.CanvasTexture(this.canvas),this.material.transparent=!0,this.sprite=new fe.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r,a,o,c,s,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=this.material)||void 0===t?void 0:t.map)){e.next=8;break}return n=this.config.positionInTimeline,i=n.start,r=n.end,a=this.player.currentTime,o=this.painter.getRealSize(),c=o.width,s=o.height,l=this.config.func({start:i,end:r,currentTime:a,width:c,height:s}),e.next=7,P(l,this.canvas,this.context);case 7:this.material.map.needsUpdate=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.geometry)||void 0===t||t.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Ee=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).canvas=document.createElement("canvas"),e.context=void 0,e.geometry=void 0,e.material=void 0,e.texture=void 0,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initTexture();case 2:this.initRender(),this.watchChange();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ye(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),ye(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,o=n.bottom,s=e.player,l=e.config,u=de(t.fitType,s.width,s.height,i,r,l.originalWidth,l.originalHeight,new fe.Vector2(a,o)),f=Object(c.a)(u,2),d=f[0],p=f[1];e.material.uniforms.uRange.value=d,e.material.uniforms.vRange.value=p,e.material.uniformsNeedUpdate=!0}}))}},{key:"initTexture",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.originalWidth,i=t.originalHeight,this.canvas.width=n,this.canvas.height=i,this.context=this.canvas.getContext("2d"),a=this.config,r='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">\n    <foreignObject width="100%" height="100%">\n      <div xmlns="http://www.w3.org/1999/xhtml">\n        <div style="'.concat(W(a),'">\n          ').concat(a.value,"\n        </div>\n      </div>\n    </foreignObject>\n  </svg>"),e.next=7,P(r,this.canvas,this.context);case 7:this.texture=new fe.CanvasTexture(this.canvas);case 8:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initRender",value:function(){var e=this.config,t=e.positionInRender,n=t.width,i=t.height,r=t.fitType,a=t.left,o=t.bottom,l=e.effect,u=e.originalWidth,f=e.originalHeight,d=this.player,p=Oe(l)(this),h=p.uniforms,b=p.fragment;this.geometry=new fe.PlaneGeometry(d.width,d.height);var j=de(r,d.width,d.height,n,i,u,f,new fe.Vector2(a,o)),v=Object(c.a)(j,2),x=v[0],g=v[1];this.material=new fe.ShaderMaterial({uniforms:Object(s.a)({tex:{value:this.texture},uRange:{value:x},vRange:{value:g}},h),vertexShader:ve.GetVertex(),fragmentShader:ve.GetEffectFragment({effect:b()})}),this.material.transparent=!0,this.sprite=new fe.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se);var Ae=Object.freeze((Ie={},Object(xe.a)(Ie,O.MORPH,(function(){return{uniforms:{strength:{value:.1}},fragment:Object(ue.glsl)(we||(we=Object(A.a)(["\n      uniform float strength; // = 0.1\n      vec4 transition(vec2 p) {\n        vec4 ca = getFromColor(p);\n        vec4 cb = getToColor(p);\n        \n        vec2 oa = (((ca.rg+ca.b)*0.5)*2.0-1.0);\n        vec2 ob = (((cb.rg+cb.b)*0.5)*2.0-1.0);\n        vec2 oc = mix(oa,ob,0.5)*strength;\n        \n        float w0 = progress;\n        float w1 = 1.0-w0;\n        return mix(getFromColor(p+oc*w0), getToColor(p-oc*w1), progress);\n      }\n    "])))}})),Object(xe.a)(Ie,O.DREAMY,(function(){return{uniforms:{},fragment:Object(ue.glsl)(ke||(ke=Object(A.a)(["\n      vec2 offset(float progress, float x, float theta) {\n        float phase = progress*progress + progress + theta;\n        float shifty = 0.03*progress*cos(10.0*(progress+x));\n        return vec2(0, shifty);\n      }\n      vec4 transition(vec2 p) {\n        return mix(getFromColor(p + offset(progress, p.x, 0.0)), getToColor(p + offset(1.0-progress, p.x, 3.14)), progress);\n      }\n    "])))}})),Object(xe.a)(Ie,O.FADE,(function(){return{uniforms:{},fragment:Object(ue.glsl)(Ce||(Ce=Object(A.a)(["\n      vec4 transition(vec2 uv) {\n        return mix(\n          getFromColor(uv),\n          getToColor(uv),\n          progress\n        );\n      }\n    "])))}})),Ie));function Ue(e){return Ae[e]()}var Se=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.fromClip=void 0,e.toClip=void 0,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;this.fromClip&&this.toClip&&(ye(this.fromClip.config,"effect",(function(){e.updateShader()})),ye(this.fromClip.config,"positionInRender",(function(){e.updateUniforms()})),ye(this.toClip.config,"effect",(function(){e.updateShader()})),ye(this.toClip.config,"positionInRender",(function(){e.updateUniforms()})))}},{key:"updateUniforms",value:function(){if(this.fromClip&&this.toClip&&this.material){var e=this.fromClip.config,t=e.originalWidth,n=e.originalHeight,i=e.positionInRender,r=i.width,a=i.height,o=i.fitType,s=this.toClip.config,l=s.originalWidth,u=s.originalHeight,f=s.positionInRender,d=f.width,p=f.height,h=f.fitType,b=this.player,j=de(o,b.width,b.height,r,a,t,n),v=Object(c.a)(j,2),x=v[0],g=v[1],O=de(h,b.width,b.height,d,p,l,u),m=Object(c.a)(O,2),y=m[0],w=m[1];this.material.uniforms.fromURange.value=x,this.material.uniforms.fromVRange.value=g,this.material.uniforms.toURange.value=y,this.material.uniforms.toVRange.value=w,this.material.uniformsNeedUpdate=!0}}},{key:"updateShader",value:function(){if(this.fromClip&&this.toClip&&this.material){var e=this.config.transition,t=this.fromClip.config.effect,n=this.toClip.config.effect,i=Oe(t)(),r=i.uniforms,a=i.fragment,o=Oe(n)(),c=o.uniforms,l=o.fragment,u=Ue(e),f=u.uniforms,d=u.fragment;this.material.uniforms=Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},this.material.uniforms),r),c),f),this.material.fragmentShader=ve.GetTransitionFragment({fromEffect:a("from","fromEffect"),toEffect:l("to","toEffect"),transition:d}),this.material.needsUpdate=!0}}},{key:"initRender",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r,a,o,l,u,f,d,p,h,b,j,v,x,g,O,m,y,w,k,C,I,_,T,R,E,A,U,S,F,M,D,z,G,L,N,V,P;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player,n=this.config,i=n.fromId,r=n.toId,a=n.transition,o=this.fromClip=t.getClipById(i),l=this.toClip=t.getClipById(r),o&&l&&(u=o.config,f=u.originalWidth,d=u.originalHeight,p=u.positionInRender,h=p.width,b=p.height,j=p.fitType,v=u.effect,x=l.config,g=x.originalWidth,O=x.originalHeight,m=x.positionInRender,y=m.width,w=m.height,k=m.fitType,C=x.effect,I=Oe(v)(),_=I.uniforms,T=I.fragment,R=Oe(C)(),E=R.uniforms,A=R.fragment,U=Ue(a),S=U.uniforms,F=U.fragment,M=de(j,t.width,t.height,h,b,f,d),D=Object(c.a)(M,2),z=D[0],G=D[1],L=de(k,t.width,t.height,y,w,g,O),N=Object(c.a)(L,2),V=N[0],P=N[1],this.geometry=new fe.PlaneGeometry(t.width,t.height),this.material=new fe.ShaderMaterial({uniforms:Object(s.a)(Object(s.a)(Object(s.a)({from:{value:o.texture},to:{value:l.texture},progress:{value:0},fromURange:{value:z},fromVRange:{value:G},toURange:{value:V},toVRange:{value:P}},_),E),S),vertexShader:ve.GetVertex(),fragmentShader:ve.GetTransitionFragment({fromEffect:T("from","fromEffect"),toEffect:A("to","toEffect"),transition:F})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new fe.Mesh(this.geometry,this.material),this.sprite.position.z=l.config.zIndex);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEnter",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fromClip&&this.toClip&&(this.fromClip.hide(),this.toClip.hide(),this.render());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fromClip&&this.toClip&&(this.fromClip.show(),this.toClip.show());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.render();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(t=this.material)||void 0===t?void 0:t.uniforms)&&(n=this.config.positionInTimeline,i=n.start,r=n.end,a=(this.player.currentTime-i)/(r-i),this.material.uniforms.progress.value=a);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Fe=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.texture=void 0,e.video=void 0,e.playbackRate=1,e.isPlaying=!1,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.updatePlaybackRate(),this.watchChange();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ye(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),ye(this.config,"effect",(function(t){if(e.material){var n=Oe(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(s.a)(Object(s.a)({},e.material.uniforms),i),e.material.fragmentShader=ve.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),ye(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,o=n.bottom,s=e.player,l=e.config,u=de(t.fitType,s.width,s.height,i,r,l.originalWidth,l.originalHeight,new fe.Vector2(a,o)),f=Object(c.a)(u,2),d=f[0],p=f[1];e.material.uniforms.uRange.value=d,e.material.uniforms.vRange.value=p,e.material.uniformsNeedUpdate=!0}}))}},{key:"createTexture",value:function(){var e=this;return new Promise(function(){var t=Object(te.a)(ee.a.mark((function t(n,i){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.video=document.createElement("video"),e.video.loop=!1,e.video.autoplay=!1,e.video.addEventListener("loadedmetadata",Object(te.a)(ee.a.mark((function t(){var i;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.video){t.next=5;break}return i=new fe.VideoTexture(e.video),t.next=4,i.setCurrentTime(e.config.playRange.start);case 4:n(i);case 5:case"end":return t.stop()}}),t)})))),e.video.src=e.config.blobUrl;case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"initRender",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r,a,o,l,u,f,d,p,h,b,j,v,x,g,O;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.effect,i=t.positionInRender,r=i.width,a=i.height,o=i.fitType,l=i.left,u=i.bottom,f=t.originalWidth,d=t.originalHeight,p=this.player,h=Oe(n)(this),b=h.uniforms,j=h.fragment,v=de(o,p.width,p.height,r,a,f,d,new fe.Vector2(l,u)),x=Object(c.a)(v,2),g=x[0],O=x[1],e.next=6,this.createTexture();case 6:this.texture=e.sent,this.geometry=new fe.PlaneGeometry(p.width,p.height),this.material=new fe.ShaderMaterial({uniforms:Object(s.a)({tex:{value:this.texture},uRange:{value:g},vRange:{value:O}},b),vertexShader:ve.GetVertex(),fragmentShader:ve.GetEffectFragment({effect:j()})}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new fe.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e;null===(e=this.video)||void 0===e||e.play(),this.isPlaying=!0}},{key:"pause",value:function(){var e;null===(e=this.video)||void 0===e||e.pause(),this.isPlaying=!1}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.positionInTimeline.duration}},{key:"correctVideoCurrentTime",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.currentTime,this.video&&Math.abs(this.video.playbackRate-this.playbackRate)>=1e-5&&(this.video.playbackRate=this.playbackRate),n=this.config.playRange.start+(t-this.config.positionInTimeline.start)*this.playbackRate,e.next=5,this.texture.setCurrentTime(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEnter",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.play();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pause(),!this.texture){e.next=4;break}return e.next=4,this.texture.setCurrentTime(this.config.playRange.start);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,this.correctVideoCurrentTime();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),this.video&&(this.video=void 0),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se),Me=n(32),De=function(){function e(){Object(ne.a)(this,e),this.items=[],this.pendingPromise=!1}return Object(ie.a)(e,[{key:"enqueue",value:function(e){var t=this;return new Promise((function(n,i){t.items.push({action:e,resolve:n,reject:i}),t.pendingPromise||t.dequeue()})).then((function(e){return e})).catch((function(e){throw new Error(e)})).finally((function(){t.pendingPromise=!1,t.dequeue()}))}},{key:"dequeue",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.items.shift()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,this.pendingPromise=!0,e.next=7,t.action();case 7:n=e.sent,t.resolve(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.reject(e.t0);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ze(e){try{return e.split(",")[0].replace("Duration:","").trim()}catch(t){return""}}function Ge(e){try{var t=e.split("Video:")[1].replace(/\(.*?\)/gi,"").split(","),n=t[2].split("x");return{codec:t[0].trim(),colorSpace:t[1].trim(),resolution:{width:parseInt(n[0].trim()),height:parseInt(n[1].trim())},fps:parseInt(t[4].replace("fps","").trim())}}catch(i){return{}}}function Le(e){try{var t=e.split("Audio:")[1].replace(/\(.*?\)/gi,"").split(",");return{codec:t[0].trim(),Hz:parseInt(t[1].replace("Hz","").trim())}}catch(n){return{}}}function Ne(e){if(Math.abs(e-1)<=1e-5)return"";if(e>=.5&&e<=2)return",atempo=".concat(e);if(e>0&&e<.5){for(var t=.5,n=",atempo=0.5";t>e;)t*=.5,n+=",atempo=0.5";return Math.abs(t-e)>1e-5&&(n+=",atempo=".concat((e/t).toFixed(2))),n}if(e>2){for(var i=2,r=",atempo=2.0";i<e;)i*=2,r+=",atempo=2.0";return Math.abs(i-e)>1e-5&&(r+=",atempo=".concat((i/e).toFixed(2))),r}return""}var Ve=function(){function e(){Object(ne.a)(this,e)}return Object(ie.a)(e,null,[{key:"Load",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He.ffmpeg.isLoaded()){e.next=3;break}return e.next=3,He.ffmpeg.load();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"GetVersion",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.ffmpeg.run("-version");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"VideoTranscode",value:function(){var t=Object(te.a)(ee.a.mark((function t(n){var i,r,a,o,c,s=arguments;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>1&&void 0!==s[1]?s[1]:"h264",r=e.ffmpeg,a="".concat(Object(N.a)()),o="".concat(Object(N.a)(),".mp4"),r.FS("writeFile",a,new Uint8Array(n)),t.next=7,r.run("-i",a,"-c:v",i,"-c:a","aac",o);case 7:return c=r.FS("readFile",o),r.FS("unlink",a),r.FS("unlink",o),t.abrupt("return",c.buffer);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"GetMediaInfo",value:function(){var t=Object(te.a)(ee.a.mark((function t(n){var i,r,a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.ffmpeg,r="".concat(Object(N.a)()),a={},i.setLogger((function(e){var t=e.type,n=e.message;"fferr"===t&&(n.includes("Duration")?a.duration=ze(n):n.includes("Stream #0")&&(n.includes("Video:")?a.video=Ge(n):n.includes("Audio:")&&(a.audio=Le(n))))})),i.FS("writeFile",r,new Uint8Array(n)),t.next=7,i.run("-i",r);case 7:return i.FS("unlink",r),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"MergeAudios",value:function(){var t=Object(te.a)(ee.a.mark((function t(n){var i,r,a,o,c,s,l;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.ffmpeg,r="".concat(Object(N.a)(),".aac"),a=Object(N.a)(),o=n.map((function(e,t){return["-i","".concat(a,"_").concat(t),"-ss","".concat(e.from/1e3),"-to","".concat((e.to-e.from)/1e3)]})).flat(1),c=n.map((function(e,t){var n=e.delay/1e3;return"[".concat(t,":a]adelay=").concat(n,"|").concat(n,"|").concat(n,"|").concat(n).concat(Ne(e.tempo),"[a").concat(t,"];")})).join(""),s=n.map((function(e,t){return"[a".concat(t,"]")})).join(""),n.forEach((function(e,t){i.FS("writeFile","".concat(a,"_").concat(t),new Uint8Array(e.buffer))})),t.next=9,i.run.apply(i,Object(L.a)(o).concat(["-filter_complex","".concat(c).concat(s,"amix=inputs=").concat(n.length,"[aout]"),"-map","[aout]",r]));case 9:return l=i.FS("readFile",r),n.forEach((function(e,t){i.FS("unlink","".concat(a,"_").concat(t))})),i.FS("unlink",r),t.abrupt("return",l.buffer);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"ImagesToVideo",value:function(){var t=Object(te.a)(ee.a.mark((function t(n){var i,r,a,o,c=arguments;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:30,r=e.ffmpeg,a="".concat(Object(N.a)(),".mp4"),n.forEach((function(e,t){r.FS("writeFile","export_".concat(t.toString().padStart(4,"0"),".jpg"),new Uint8Array(e))})),t.next=6,r.run("-framerate","".concat(i),"-i","export_%04d.jpg","-c:v","libx264","-pix_fmt","yuv420p","-preset","ultrafast","-crf","1",a);case 6:return o=r.FS("readFile",a),n.forEach((function(e,t){r.FS("unlink","export_".concat(t.toString().padStart(4,"0"),".jpg"))})),r.FS("unlink",a),t.abrupt("return",o.buffer);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"MergeVideoAudio",value:function(){var t=Object(te.a)(ee.a.mark((function t(n,i){var r,a,o,c,s;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ffmpeg,a="".concat(Object(N.a)(),".mp4"),o="".concat(Object(N.a)(),".aac"),c="".concat(Object(N.a)(),".mp4"),r.FS("writeFile",a,new Uint8Array(n)),r.FS("writeFile",o,new Uint8Array(i)),t.next=8,r.run("-i",a,"-i",o,"-c","copy",c);case 8:return s=r.FS("readFile",c),r.FS("unlink",a),r.FS("unlink",o),r.FS("unlink",c),t.abrupt("return",s.buffer);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();Ve.ffmpeg=void 0,Ve.ffmpeg=Object(Me.createFFmpeg)({log:!1});var Pe=new De,He=new Proxy(Ve,{get:function(e,t){var n=t in e?e[t]:void 0;return"function"===typeof n?Object(te.a)(ee.a.mark((function t(){var i,r,a,o=arguments;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=o.length,r=new Array(i),a=0;a<i;a++)r[a]=o[a];return t.abrupt("return",Pe.enqueue(Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve.Load();case 2:return t.next=4,n.apply(e,r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))):n}}),Be=He,We=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(){var e;Object(ne.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).geometry=void 0,e.material=void 0,e.playbackRate=1,e.textureData=void 0,e.currentFrame=0,e.texture=void 0,e}return Object(ie.a)(n,[{key:"init",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initRender(),this.watchChange();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ye(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)})),ye(this.config,"effect",(function(t){if(e.material){var n=Oe(t)(e),i=n.uniforms,r=n.fragment;e.material.uniforms=Object(s.a)(Object(s.a)({},e.material.uniforms),i),e.material.fragmentShader=ve.GetEffectFragment({effect:r()}),e.material.uniformsNeedUpdate=!0,e.material.needsUpdate=!0}})),ye(this.config,"positionInRender",(function(t){if(e.material){var n=e.config.positionInRender,i=n.width,r=n.height,a=n.left,o=n.bottom,s=e.player,l=e.config,u=de(t.fitType,s.width,s.height,i,r,l.originalWidth,l.originalHeight,new fe.Vector2(a,o)),f=Object(c.a)(u,2),d=f[0],p=f[1];e.material.uniforms.uRange.value=d,e.material.uniforms.vRange.value=p,e.material.uniformsNeedUpdate=!0}}))}},{key:"createTexture",value:function(e,t,n){this.textureData=new Uint8ClampedArray(e);var i=new fe.DataTexture(this.textureData,t,n,fe.RGBAFormat);return i.flipY=!0,i}},{key:"initRender",value:function(){var e=this.config,t=e.positionInRender,n=t.fitType,i=t.width,r=t.height,a=t.left,o=t.bottom,l=e.originalWidth,u=e.originalHeight,f=e.effect,d=e.frames,p=this.player,h=Oe(f)(this),b=h.uniforms,j=h.fragment,v=de(n,p.width,p.height,i,r,l,u,new fe.Vector2(a,o)),x=Object(c.a)(v,2),g=x[0],O=x[1];this.texture=this.createTexture(d[0].patch,l,u),this.geometry=new fe.PlaneGeometry(p.width,p.height),this.material=new fe.ShaderMaterial({uniforms:Object(s.a)(Object(s.a)({},b),{},{tex:{value:this.texture},uRange:{value:g},vRange:{value:O}}),vertexShader:ve.GetVertex(),fragmentShader:ve.GetEffectFragment({effect:j()})}),this.material.transparent=!0,this.material.uniformsNeedUpdate=!0,this.sprite=new fe.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex}},{key:"getFrame",value:function(){for(var e=this.config.playRange.start+(this.player.currentTime-this.config.positionInTimeline.start)*this.playbackRate,t=0,n=0;n<this.config.frames.length;n++){var i=this.config.frames[n];if(e<=(t+=i.delay)&&this.currentFrame!==n)return this.currentFrame=n,i}}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.positionInTimeline.duration}},{key:"onUpdate",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.getFrame())&&this.texture&&this.textureData&&(this.textureData.set(t.patch),this.texture.needsUpdate=!0);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(re.a)(Object(ae.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(i=this.geometry)||void 0===i||i.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(se);function Ye(e,t){switch(e.type){case X.VIDEO:return new Fe(e,t);case X.IMAGE:return new _e(e,t);case X.TRANSITION:return new Se(e,t);case X.TEXT:return new Ee(e,t);case X.AUDIO:return new le(e,t);case X.SVG:return new Re(e,t);case X.LOTTIE:return new Te(e,t);case X.GIF:return new We(e,t)}}function Xe(e){return new Promise((function(t){e.toBlob(function(){var e=Object(te.a)(ee.a.mark((function e(n){var i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,n.arrayBuffer();case 3:i=e.sent,t(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"image/jpeg",1)}))}function Je(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(te.a)(ee.a.mark((function e(t,n){var i,r,a,o,c,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Math.round(1e3/n),r=[],a=0;case 3:if(!(a<t.duration)){e.next=15;break}return e.next=6,t.setCurrentTime(a);case 6:return e.next=8,Xe(t.painter.getDomElement());case 8:return o=e.sent,r.push(o),e.next=12,H(10);case 12:a+=i,e.next=3;break;case 15:if(!(a>t.duration)){e.next=21;break}return t.setCurrentTime(t.duration),e.next=19,Xe(t.painter.getDomElement());case 19:c=e.sent,r.push(c);case 21:return e.next=23,Be.ImagesToVideo(r,n);case 23:return s=e.sent,r.length=0,e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){var t=[];return e.clips.forEach((function(e){[X.AUDIO,X.VIDEO].includes(e.config.type)&&t.push({delay:e.config.positionInTimeline.start,from:0,to:e.getOriginalDuration(),tempo:e.playbackRate,type:e.config.type,buffer:e.config.buffer.slice(0)})})),t}function Qe(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze(t),e.next=3,Be.MergeAudios(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return $e=Object(te.a)(ee.a.mark((function e(t){var n,i,r=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:"export.mp4",i=r.length>2&&void 0!==r[2]?r[2]:30,Promise.all([Je(t,i),Qe(t)]).then(function(){var e=Object(te.a)(ee.a.mark((function e(t){var i,r,a,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(c.a)(t,2),r=i[0],a=i[1],e.next=3,Be.MergeVideoAudio(r,a);case 3:o=e.sent,B(URL.createObjectURL(new Blob([o],{type:"video/mp4"})),n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e)}));case 3:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}function et(e,t,n){var i=e.originalWidth,r=e.originalHeight,a=e.positionInRender,o=a.fitType,c=a.width,s=a.height,l=a.left,u=a.bottom;if(o===x.CONTAIN)t/n/(i/r)>1?(s=n,l=.5*(t-(c=i*(n/r))),u=0):(c=t,l=0,u=.5*(n-(s=r*(t/i))));else if(o===x.COVER){t/n/(i/r)>1?(c=t,l=0,u=.5*(n-(s=r*(t/i)))):(s=n,l=.5*(t-(c=i*(n/r))),u=0)}else o===x.FILL&&(c=t,s=n,l=0,u=0);return{width:c,height:s,left:l,bottom:u}}var tt="track-wrapper",nt=100,it={hoverTrack:null,setHoverTrack:function(){},tracks:[],setTracks:function(){},newTrackIndex:-1,setNewTrackIndex:function(){},activeClipId:"",setActiveClipId:function(){},currentTime:0,setCurrentTime:function(){},totalDuration:0,setTotalDuration:function(){},isPlaying:!1,setIsPlaying:function(){},setDraggingClip:function(){}},rt=".".concat(tt);function at(e,t){if(e&&t){var n=t.getBoundingClientRect();return{x:Math.max(0,e.x-n.x),y:Math.max(0,e.y-n.y)}}return{x:0,y:0}}function ot(e){var t=document.querySelector(".tracks-wrapper");if(e&&t){var n=t.getBoundingClientRect(),i=parseInt(getComputedStyle(t).paddingLeft,10);return{x:Math.max(0,e.x-n.x-i),y:Math.max(0,e.y-n.y)}}return{x:0,y:0}}function ct(e){var t;return e?Array.prototype.slice.call(null===(t=e.parentElement)||void 0===t?void 0:t.querySelectorAll(rt)).indexOf(e):-1}function st(e){for(var t=null===e||void 0===e?void 0:e.parentElement;t;){if(t.classList.contains(tt))return t;t=t.parentElement}return null}function lt(e,t){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)if(e[n][i].id===t)return{trackIndex:n,clipIndex:i};return{trackIndex:-1,clipIndex:-1}}function ut(e){return!(0===e.length||1===e.length&&0===e[0].length)}function ft(e){return(e||0)/1e3*nt}function dt(e){return Math.round(e/nt*1e3)}function pt(e,t){if(t.length){for(var n=0;n<t.length;n++){var i=t[n].positionInTimeline,r=i.start,a=i.end;if(e>=r&&e<=a)return-1;if(e<r)return n}if(e>t[t.length-1].positionInTimeline.end)return t.length}return 0}function ht(e,t){var n=t[e-1],i=t[e];return n||i?!n&&i?{start:0,end:i.positionInTimeline.start}:n&&i?{start:n.positionInTimeline.end,end:i.positionInTimeline.start}:n&&!i?{start:n.positionInTimeline.end,end:1e10}:{start:0,end:0}:{start:0,end:1e10}}function bt(e,t){if(t[0]>=e[0]&&t[1]<=e[1])return t;if(t[0]>=e[0]&&t[1]>e[1]){var n=t[1]-e[1];return[Math.max(t[0]-n,e[0]),Math.min(t[1]-n,e[1])]}if(t[0]<e[0]&&t[1]<=e[1]){var i=e[0]-t[0];return[Math.max(t[0]+i,e[0]),Math.min(t[1]+i,e[1])]}return t[0]<=e[0]&&t[1]>=e[1]?e:t}function jt(e){var t=0;return e.forEach((function(e){if(null===e||void 0===e?void 0:e.length){var n=e[e.length-1];t=Math.max(t,n.positionInTimeline.end)}})),t}function vt(e){return[X.VIDEO,X.IMAGE,X.GIF].includes(e)}function xt(e,t){return e.flat(1).filter((function(e){return e.type===X.TRANSITION})).findIndex((function(e){return e.fromId===t}))>-1}function gt(e,t){return e.flat(1).filter((function(e){return e.type===X.TRANSITION})).findIndex((function(e){return e.toId===t}))>-1}function Ot(e){var t=e.tracks,n=e.activeClipId,i=e.setTracks,r=e.setActiveClipId,a=lt(t,n),o=a.trackIndex,c=a.clipIndex;if(o>-1&&c>-1){var s=t[o][c];if(s.type===X.TRANSITION){var l,u,f=t[o][c-1],d=t[o][c+1],p=t[o][c+2],h=bt([(null===f||void 0===f||null===(l=f.positionInTimeline)||void 0===l?void 0:l.end)||0,(null===p||void 0===p||null===(u=p.positionInTimeline)||void 0===u?void 0:u.start)||1e10],[d.positionInTimeline.start+s.positionInTimeline.duration/2,d.positionInTimeline.end+s.positionInTimeline.duration/2]);Object.assign(d,{positionInTimeline:{start:h[0],end:h[1],duration:h[1]-h[0]}}),t[o].splice(c,1)}else xt(t,n)?(t[o].splice(c,1),t[o].splice(c,1)):gt(t,n)?(t[o].splice(c,1),t[o].splice(c-1,1)):t[o].splice(c,1);r(""),i(Object(L.a)(t))}}function mt(e,t,n){var i=lt(e,n),r=i.trackIndex,a=i.clipIndex;if(r>-1&&a>-1){var o=e[r][a],c=yt(o.type),s=o.positionInTimeline,l=s.start,u=s.end;return c&&l<t&&u>t}return!1}function yt(e){return[X.AUDIO,X.GIF,X.IMAGE,X.VIDEO].includes(e)}function wt(e){var t=e.tracks,n=e.activeClipId,i=e.setTracks,r=e.currentTime,a=lt(t,n),o=a.trackIndex,c=a.clipIndex;if(o>-1&&c>-1){var l=t[o][c],u=yt(l.type),f=l.positionInTimeline,d=f.start,p=f.end;if(u&&d<r&&p>r){var h=(r-d)/(p-d),b=Math.round((l.playRange.end-l.playRange.start)*h);t[o].splice(c+1,0,Object(s.a)(Object(s.a)({},l),{},{id:Object(N.a)(),playRange:{start:b,end:l.playRange.end},positionInTimeline:{start:r,end:p,duration:p-r}})),Object.assign(l,{playRange:{start:l.playRange.start,end:b},positionInTimeline:{start:d,end:r,duration:r-d}}),i(Object(L.a)(t))}}}function kt(){var e=document.querySelector(".player-container");return e?e.getBoundingClientRect():{width:0,height:0,x:0,y:0,left:0,right:0,top:0,bottom:0,toJSON:function(){}}}var Ct,It=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){t.buffer||fetch(t.url).then((function(e){return e.blob()})).then((function(e){var i=URL.createObjectURL(e),r=document.createElement("audio");r.loop=!1,r.addEventListener("loadedmetadata",(function(){e.arrayBuffer().then((function(e){var i=Math.round(1e3*r.duration);n(Object(s.a)(Object(s.a)({},t),{},{positionInTimeline:Object(s.a)(Object(s.a)({},t.positionInTimeline),{},{duration:i}),playRange:{start:0,end:i},buffer:e}))})).catch((function(e){alert(e.message)}))})),r.src=i})).catch((function(e){alert(e.message)}))}),[t,n]),Object(l.jsxs)(G,{children:[Object(l.jsx)("audio",{src:t.url}),Object(l.jsx)("div",{className:"title",children:t.name})]})},_t=n(23),Tt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){var e;(null===t||void 0===t||null===(e=t.frames)||void 0===e?void 0:e.length)||fetch(t.url).then((function(e){return e.arrayBuffer()})).then((function(e){var i=Object(_t.parseGIF)(e),r=Object(_t.decompressFrames)(i,!0),a=0;r.forEach((function(e){a+=e.delay})),n(Object(s.a)(Object(s.a)({},t),{},{positionInTimeline:Object(s.a)(Object(s.a)({},t.positionInTimeline),{},{duration:a}),positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{width:i.lsd.width,height:i.lsd.height}),playRange:{start:0,end:a},frames:r,originalWidth:i.lsd.width,originalHeight:i.lsd.height}))})).catch((function(e){alert(e.message)}))}),[t,n]),Object(l.jsxs)(G,{children:[Object(l.jsx)("img",{src:t.url,alt:"",draggable:"false"}),Object(l.jsx)("div",{className:"title",children:t.name})]})},Rt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){t.blobUrl||fetch(t.url).then((function(e){return e.blob()})).then((function(e){var i=URL.createObjectURL(e),r=document.createElement("img");r.addEventListener("load",(function(){n(Object(s.a)(Object(s.a)({},t),{},{positionInTimeline:Object(s.a)(Object(s.a)({},t.positionInTimeline),{},{duration:2e3}),positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{width:r.naturalWidth,height:r.naturalHeight}),originalWidth:r.naturalWidth,originalHeight:r.naturalHeight,blobUrl:i}))})),r.src=i})).catch((function(e){alert(e.message)}))}),[t,n]),Object(l.jsxs)(G,{children:[Object(l.jsx)("img",{src:t.url,alt:"",draggable:"false"}),Object(l.jsx)("div",{className:"title",children:t.name})]})},Et=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){var e=Y(t),i=e.width,r=e.height;n(Object(s.a)(Object(s.a)({},t),{},{positionInTimeline:Object(s.a)(Object(s.a)({},t.positionInTimeline),{},{duration:2e3}),positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{width:i/2,height:r/2}),originalWidth:i,originalHeight:r}))}),[]),Object(l.jsx)(G,{children:Object(l.jsx)("div",{className:"title",children:t.name})})},At=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){n(Object(s.a)(Object(s.a)({},t),{},{positionInTimeline:Object(s.a)(Object(s.a)({},t.positionInTimeline),{},{duration:1e3})}))}),[]),Object(l.jsx)(G,{children:Object(l.jsx)("div",{className:"title",children:t.name})})},Ut=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){t.blobUrl||fetch(t.url).then((function(e){return e.blob()})).then(function(){var e=Object(te.a)(ee.a.mark((function e(i){var r,a,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.arrayBuffer();case 2:r=e.sent,a=URL.createObjectURL(i),(o=document.createElement("video")).loop=!1,o.addEventListener("loadedmetadata",(function(){var e=Math.round(1e3*o.duration);n(Object(s.a)(Object(s.a)({},t),{},{positionInTimeline:Object(s.a)(Object(s.a)({},t.positionInTimeline),{},{duration:e}),positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{width:o.videoWidth,height:o.videoHeight}),playRange:{start:0,end:e},originalWidth:o.videoWidth,originalHeight:o.videoHeight,blobUrl:a,buffer:r}))})),o.src=a;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e.message)}))}),[t,n]),Object(l.jsxs)(G,{children:[Object(l.jsx)("video",{src:t.blobUrl}),Object(l.jsx)("div",{className:"title",children:t.name})]})},St=U.a.div(Ct||(Ct=Object(A.a)(["\n  width: 200px;\n  height: 112px;\n  line-height: 112px;\n  text-align: center;\n  border-radius: 4px;\n  background-color: #000;\n  cursor: pointer;\n"])));function Ft(e,t){switch(null===e||void 0===e?void 0:e.type){case X.VIDEO:return Object(l.jsx)(Ut,{data:e,onLoaded:t});case X.IMAGE:return Object(l.jsx)(Rt,{data:e,onLoaded:t});case X.AUDIO:return Object(l.jsx)(It,{data:e,onLoaded:t});case X.TRANSITION:return Object(l.jsx)(At,{data:e,onLoaded:t});case X.GIF:return Object(l.jsx)(Tt,{data:e,onLoaded:t});case X.TEXT:return Object(l.jsx)(Et,{data:e,onLoaded:t});default:return null}}var Mt,Dt,zt=function(e){var t=e.data,n=Object(i.useContext)(rr),r=n.setHoverTrack,a=n.tracks,o=n.setTracks,u=n.setNewTrackIndex,f=n.newTrackIndex,d=n.setDraggingClip,p=Object(i.useState)(!1),h=Object(c.a)(p,2),b=h[0],v=h[1],O=Object(i.useState)(function(e,t,n){var i={name:e.name,positionInTimeline:{start:t,end:n,duration:0},positionInRender:{fitType:x.CONTAIN,rotate:0,left:0,bottom:0,width:0,height:0},playRange:{start:0,end:0},effect:g.NO_EFFECT};switch(e.type){case j.VIDEO:return Object(s.a)(Object(s.a)({},i),{},{type:X.VIDEO,url:e.url});case j.IMAGE:return Object(s.a)(Object(s.a)({},i),{},{type:X.IMAGE,url:e.url});case j.AUDIO:return Object(s.a)(Object(s.a)({},i),{},{type:X.AUDIO,url:e.url});case j.TRANSITION:return Object(s.a)(Object(s.a)({},i),{},{type:X.TRANSITION,transition:e.transition});case j.GIF:return Object(s.a)(Object(s.a)({},i),{},{positionInRender:Object(s.a)(Object(s.a)({},i.positionInRender),{},{fitType:x.CUSTOM}),type:X.GIF,url:e.url,frames:[],originalWidth:0,originalHeight:0,zIndex:0});case j.TEXT:return Object(s.a)(Object(s.a)({},i),{},{positionInRender:Object(s.a)(Object(s.a)({},i.positionInRender),{},{fitType:x.CUSTOM,left:50,bottom:50}),props:{fontColor:"#fff",fontSize:16,fontFamily:"Helvetica"},value:e.value,type:X.TEXT,originalWidth:0,originalHeight:0,zIndex:0});default:return{}}}(t)),m=Object(c.a)(O,2),y=m[0],w=m[1],k=Object(i.useCallback)((function(){d(y)}),[y,d]),C=Object(i.useCallback)((function(e){if((null===y||void 0===y?void 0:y.type)!==X.TRANSITION){var t=st(e.belowElement);if(t){var n=at({x:e.cursorLeft,y:e.cursorTop},t),i=ut(a),o=ct(t);n.y<=12&&i?u(o):n.y>=t.clientHeight-12&&i?u(o+1):u(-1)}r(t)}}),[null===y||void 0===y?void 0:y.type,r,u,a]),I=Object(i.useCallback)((function(e){var t=e.belowElement;if(t.classList.contains("transition-insert")&&y){var n=t.dataset.from,i=t.dataset.to,c=lt(a,n),l=c.trackIndex,f=c.clipIndex,p=a[l][f],h=a[l][f+1],b=y.positionInTimeline.duration/2,j=Object(s.a)(Object(s.a)({},y),{},{id:Object(N.a)(),positionInTimeline:Object(s.a)(Object(s.a)({},y.positionInTimeline),{},{start:p.positionInTimeline.end-b,end:p.positionInTimeline.end+b}),fromId:n,toId:i});Object.assign(h,{positionInTimeline:Object(s.a)(Object(s.a)({},h.positionInTimeline),{},{start:h.positionInTimeline.start-b,end:h.positionInTimeline.end-b})}),a[l].splice(f+1,0,j),o(Object(L.a)(a))}d(void 0),u(-1),r(null)}),[y,d,r,u,o,a]),_=Object(i.useCallback)((function(e){if((null===y||void 0===y?void 0:y.type)!==X.TRANSITION){var t=st(e.belowElement),n=ot({x:e.cursorLeft,y:e.cursorTop}),i=-1;f>-1?(i=f,a.splice(i,0,[])):t&&(i=ct(t));var l=a[i];if(i>-1&&l){var p=pt(dt(n.x),l);if(p>-1){var h=ht(p,l);if(h.start||h.end){var b,j=(null===y||void 0===y||null===(b=y.positionInTimeline)||void 0===b?void 0:b.duration)||0,v=ft(j),x=e.element.clientWidth,g=e.cursorLeft-e.left,O=dt(Math.max(0,n.x-g/x*v)),m=bt([h.start,h.end],[O,O+j]),w=Object(c.a)(m,2),k=w[0],C=w[1],_=kt(),T=_.height,R=_.width,E=et(y,R,T),A=E.width,U=E.height,S=E.left,F=E.bottom,M=Object(s.a)(Object(s.a)({},y),{},{id:Object(N.a)(),positionInTimeline:{start:k,end:C,duration:C-k},positionInRender:Object(s.a)(Object(s.a)({},y.positionInRender),{},{width:A,height:U,left:S,bottom:F})});l.splice(p,0,M),o(Object(L.a)(a))}}}d(void 0),u(-1),r(null)}else I(e)}),[y,I,f,d,r,u,o,a]),R=Object(i.useCallback)((function(e){w(Object(s.a)(Object(s.a)({},y),e)),v(!0)}),[y]);return Object(l.jsx)(J,{direction:T.ALL,scrollContainerSelector:".tracks-wrapper",autoGrow:!0,enable:b,slow:2,onStart:k,onMove:C,onEnd:_,children:Object(l.jsx)(St,{children:Ft(y,R)})})},Gt=function(){return Object(l.jsx)(l.Fragment,{children:E.audios.map((function(e){return Object(l.jsxs)(D,{children:[Object(l.jsx)(z,{children:Object(l.jsx)(zt,{data:e})}),Object(l.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},Lt=function(){return Object(l.jsxs)(l.Fragment,{children:[E.images.map((function(e){return Object(l.jsxs)(D,{children:[Object(l.jsx)(z,{children:Object(l.jsx)(zt,{data:e})}),Object(l.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),E.gifs.map((function(e){return Object(l.jsxs)(D,{children:[Object(l.jsx)(z,{children:Object(l.jsx)(zt,{data:e})}),Object(l.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))]})},Nt=function(e){var t=e.icon,n=e.title,r=e.isActive,a=e.onClick,o=Object(i.useCallback)((function(){a(n)}),[a,n]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(M,{className:r?"active":"",onClick:o,children:[Object(l.jsx)("div",{className:"icon",children:t}),Object(l.jsx)("div",{className:"title",children:n})]})})},Vt=U.a.div(Mt||(Mt=Object(A.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 80px;\n  bottom: 0;\n  overflow: overlay;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  padding: 24px 0 24px 24px;\n"]))),Pt=function(){return Object(l.jsx)(l.Fragment,{})},Ht=function(){return Object(l.jsx)(l.Fragment,{})},Bt=function(){return Object(l.jsx)(l.Fragment,{children:E.texts.map((function(e){return Object(l.jsxs)(D,{children:[Object(l.jsx)(z,{children:Object(l.jsx)(zt,{data:e})}),Object(l.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},Wt=function(){return Object(l.jsx)(l.Fragment,{children:E.transitions.map((function(e){return Object(l.jsxs)(D,{children:[Object(l.jsx)(z,{children:Object(l.jsx)(zt,{data:e})}),Object(l.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},Yt=function(){return Object(l.jsx)(l.Fragment,{children:E.videos.map((function(e){return Object(l.jsxs)(D,{children:[Object(l.jsx)(z,{children:Object(l.jsx)(zt,{data:e})}),Object(l.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},Xt=U.a.div(Dt||(Dt=Object(A.a)(["\n  display: flex;\n  background: #060C15;\n  width: 100%;\n  height: 80px;\n  padding-left: 10px;\n"]))),Jt=[{title:"\u6211\u7684\u7d20\u6750",icon:Object(l.jsx)(d,{}),resourcePanel:Object(l.jsx)(Pt,{})},{title:"\u8f6c\u573a",icon:Object(l.jsx)(b,{}),resourcePanel:Object(l.jsx)(Wt,{})},{title:"\u6587\u5b57",icon:Object(l.jsx)(h,{}),resourcePanel:Object(l.jsx)(Bt,{})},{title:"\u56fe\u7247",icon:Object(l.jsx)(f,{}),resourcePanel:Object(l.jsx)(Lt,{})},{title:"\u58f0\u97f3",icon:Object(l.jsx)(u,{}),resourcePanel:Object(l.jsx)(Gt,{})},{title:"\u89c6\u9891",icon:Object(l.jsx)(v,{}),resourcePanel:Object(l.jsx)(Yt,{})},{title:"\u5f62\u72b6",icon:Object(l.jsx)(p,{}),resourcePanel:Object(l.jsx)(Ht,{})}],qt=function(){var e=Object(i.useState)("\u89c6\u9891"),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(i.useCallback)((function(e){n!==e&&r(e)}),[n]);return Object(l.jsxs)(Xt,{children:[Jt.map((function(e){return Object(l.jsx)(Nt,{title:e.title,icon:e.icon,resourcePanel:e.resourcePanel,isActive:n===e.title,onClick:a},e.title)})),Jt.map((function(e){return Object(l.jsx)(Vt,{style:Object(s.a)({},n!==e.title?{display:"none"}:null),children:e.resourcePanel},e.title)}))]})};var Zt,Qt=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),{},{children:[Object(l.jsx)("g",{filter:"url(#prefix__filter0_d_437_2164)",children:Object(l.jsx)("circle",{cx:10,cy:8,r:8,fill:"#3647E4"})}),Object(l.jsx)("circle",{cx:10,cy:8,r:5,fill:"#2524A7"}),Object(l.jsx)("circle",{cx:10,cy:8,r:2,fill:"#3647E4"}),Object(l.jsx)("defs",{children:Object(l.jsxs)("filter",{id:"prefix__filter0_d_437_2164",x:0,y:0,width:20,height:20,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(l.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),Object(l.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(l.jsx)("feOffset",{dy:2}),Object(l.jsx)("feGaussianBlur",{stdDeviation:1}),Object(l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(l.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),Object(l.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_437_2164"}),Object(l.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_437_2164",result:"shape"})]})})]}))},Kt=n(33),$t=n.n(Kt),en=U.a.div(Zt||(Zt=Object(A.a)(["\n  width: 100%;\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: #B61DA6;\n    opacity: 0.8;\n    z-index: 2;\n  }\n  >div {\n    position: absolute;\n    inset: 0;\n  }\n"]))),tn=function(e){var t=e.clip,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=n.current;if(e){var i=$t.a.create({container:e,waveColor:"#fff",progressColor:"purple",fillParent:!0,partialRender:!0,interact:!1,height:60,barWidth:1});return i.load(t.url),function(){i.destroy()}}}),[t.url]),Object(l.jsx)(en,{children:Object(l.jsx)("div",{ref:n})})};function nn(){return new Worker(n.p+"static/js/gifToCanvas.worker.e6946d48.worker.js")}function rn(){return(rn=Object(te.a)(ee.a.mark((function e(t,n,i,r,a){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage({snapCount:n,from:i,to:r,frames:a});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var an=function(e){var t=e.clip,n=t.positionInTimeline,r=t.originalWidth,a=t.originalHeight,o=t.frames,c=Math.ceil(ft(n.duration)/60),s=Object(i.useRef)(null),u=Object(i.useRef)(new nn);return Object(i.useEffect)((function(){var e=s.current,t=u.current;if(e&&t){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])}}),[]),Object(i.useEffect)((function(){var e=s.current,n=u.current;e&&n&&function(e,t,n,i,r){rn.apply(this,arguments)}(n,c,t.playRange.start,t.playRange.end,o)}),[o,t.playRange.end,t.playRange.start,c]),Object(l.jsx)("div",{style:{width:"100%"},children:Object(l.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(l.jsx)("canvas",{ref:s,style:{transformOrigin:"left top",transform:"scale(".concat(60/a,")")},width:c*r,height:a})})})},on=Object(i.memo)(an);function cn(){return(cn=Object(te.a)(ee.a.mark((function e(t,n,i,r,a){var o,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.getContext("2d"),(c=new Image).onload=function(){for(var e=0;e<a;)null===o||void 0===o||o.drawImage(c,i*e,0,i,r),e+=1},c.src=n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sn=function(e){var t=e.clip,n=t.positionInTimeline,r=t.originalWidth,a=t.originalHeight,o=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=o.current;if(e){var n=e.getBoundingClientRect(),i=n.width,c=n.height,s=c*r/a,l=Math.ceil(i/s);!function(e,t,n,i,r){cn.apply(this,arguments)}(e,t.blobUrl,s,c,l)}}),[t.blobUrl,a,r,n.duration]),Object(l.jsx)("div",{style:{width:"100%"},children:Object(l.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(l.jsx)("canvas",{ref:o,width:ft(n.duration),height:60})})})};function ln(e,t){return new Promise((function(n){e.addEventListener("seeked",(function t(){e.removeEventListener("seeked",t),n(!0)})),e.currentTime=t/1e3}))}function un(){return(un=Object(te.a)(ee.a.mark((function e(t,n,i,r,a,o,c){var s,l,u,f;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(c-o)/a,l=t.getContext("2d"),(u=document.createElement("video")).src=n,f=0;case 5:if(!(f<a)){e.next=12;break}return e.next=8,ln(u,o+s*f+1);case 8:null===l||void 0===l||l.drawImage(u,i*f,0,i,r),f+=1,e.next=5;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fn,dn,pn,hn,bn,jn=function(e){var t=e.clip,n=t.positionInTimeline,r=t.originalWidth,a=t.originalHeight,o=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=o.current;if(e){var n=e.getBoundingClientRect(),i=n.width,c=n.height,s=c*r/a,l=Math.ceil(i/s);!function(e,t,n,i,r,a,o){un.apply(this,arguments)}(e,t.blobUrl,s,c,l,t.playRange.start,t.playRange.end)}}),[t.blobUrl,t.playRange.end,t.playRange.start,a,r,n.duration]),Object(l.jsx)("div",{style:{width:"100%"},children:Object(l.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(l.jsx)("canvas",{ref:o,width:ft(n.duration),height:60})})})},vn=U.a.div(fn||(fn=Object(A.a)(["\n  /* background-color: #22a5df; */\n  border-radius: 4px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  overflow: hidden;\n  display: flex;\n  border: 2px solid transparent;\n  transition: border-color 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    z-index: 3;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    border-style: solid;\n    border-color: #fff;\n    border-width: 0;\n    transition: border-width 0.05s;\n    pointer-events: none;\n  }\n  &:hover::after {\n    border-width: 2px;\n  }\n  &.active::after {\n    border-width: 2px;\n    border-color: #5754ff;\n  }\n"]))),xn=(U.a.div(dn||(dn=Object(A.a)(["\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  left: 0;\n  top: 0;\n  bottom: 0;\n"]))),U.a.div(pn||(pn=Object(A.a)(["\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n"]))),U.a.div(hn||(hn=Object(A.a)(["\n  color: #fff;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"])))),gn=U.a.div(bn||(bn=Object(A.a)(["\n  background: #5754ff;\n  width: 12px;\n  cursor: ew-resize;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 3;\n\n  &::before, &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 3px;\n    transform: translateY(-50%);\n    width: 2px;\n    height: 15px;\n    background: #2524A7;\n    border-radius: 1px;\n    pointer-events: none;\n  }\n  &::after {\n    left: 7px;\n  }\n"]))),On={zIndex:999,border:"2px solid #fff"};function mn(e){switch(e.type){case X.VIDEO:return Object(l.jsx)(jn,{clip:e});case X.GIF:return Object(l.jsx)(on,{clip:e});case X.AUDIO:return Object(l.jsx)(tn,{clip:e});case X.IMAGE:return Object(l.jsx)(sn,{clip:e});default:return Object(l.jsx)(xn,{children:e.name})}}var yn,wn,kn,Cn,In,_n,Tn,Rn,En,An,Un,Sn,Fn,Mn,Dn,zn=function(e){var t=e.clip,n=e.onUpdate,r=t.positionInTimeline,a=t.id,o=t.type,u=Object(i.useContext)(rr),f=u.setHoverTrack,d=u.tracks,p=u.setTracks,h=u.setNewTrackIndex,b=u.newTrackIndex,j=u.activeClipId,v=u.setActiveClipId,x=Object(i.useCallback)((function(e){if(0!==e.stepLeft||0!==e.stepTop){var t=lt(d,a),n=t.trackIndex,i=t.clipIndex;xt(d,a)?(d[n].splice(i+1,1),p(Object(L.a)(d))):gt(d,a)&&(d[n].splice(i-1,1),p(Object(L.a)(d)))}}),[a,p,d]),g=Object(i.useCallback)((function(e){x(e);var t=st(e.belowElement);if(t){var n=at({x:e.cursorLeft,y:e.cursorTop},t),i=ut(d),r=ct(t);n.y<=12&&i?h(r):n.y>=t.clientHeight-12&&i?h(r+1):h(-1)}f(t)}),[x,f,h,d]),O=Object(i.useCallback)((function(e){if(e.isMoved){var t=st(e.belowElement),i=ot({x:e.cursorLeft,y:e.cursorTop}),o=dt(Math.max(0,i.x-(e.cursorLeft-e.left))),l=!1;if(b>-1)l=!0,null===n||void 0===n||n({positionInTimeline:Object(s.a)(Object(s.a)({},r),{},{start:o,end:o+r.duration})},b,0,!0);else if(t){var u=ct(t),p=lt(d,a).trackIndex,j=d[u];if(u===p&&(j=j.filter((function(e){return e.id!==a}))),u>-1&&j){var v=pt(dt(i.x),j);if(v>-1){var x=ht(v,j);if(x.start||x.end){var g=bt([x.start,x.end],[o,o+r.duration]),O=Object(c.a)(g,2),m=O[0],y=O[1];l=!0,null===n||void 0===n||n({positionInTimeline:{start:m,end:y,duration:y-m}},u,v,!1)}}}}if(!l){var w=lt(d,a),k=w.trackIndex,C=w.clipIndex,I=d[k][C-1],_=d[k][C+1];if(I&&I.positionInTimeline.end>r.start||_&&_.positionInTimeline.start<r.end){var T,R,E=bt([(null===I||void 0===I||null===(T=I.positionInTimeline)||void 0===T?void 0:T.end)||0,(null===_||void 0===_||null===(R=_.positionInTimeline)||void 0===R?void 0:R.start)||1e10],[r.start,r.end]);null===n||void 0===n||n({positionInTimeline:{start:E[0],end:E[1],duration:E[1]-E[0]}},k,C,!1)}}}h(-1),f(null)}),[a,b,n,r,f,h,d]),m=Object(i.useCallback)((function(e){var t=r.start+dt(e.stepLeft);if(r.end-t>=500){var i,o,c=lt(d,a),l=c.trackIndex,u=c.clipIndex,f=(null===(i=d[l][u-1])||void 0===i||null===(o=i.positionInTimeline)||void 0===o?void 0:o.end)||0;null===n||void 0===n||n({positionInTimeline:Object(s.a)(Object(s.a)({},r),{},{start:Math.max(t,f),duration:r.end-Math.max(t,f)})},l,u,!1)}}),[a,n,r,d]),y=Object(i.useCallback)((function(e){var t=r.end+dt(e.stepLeft);if(t-r.start>=500){var i,o,c=lt(d,a),l=c.trackIndex,u=c.clipIndex,f=(null===(i=d[l][u+1])||void 0===i||null===(o=i.positionInTimeline)||void 0===o?void 0:o.start)||1e10;null===n||void 0===n||n({positionInTimeline:Object(s.a)(Object(s.a)({},r),{},{end:Math.min(t,f),duration:Math.min(t,f)-r.start})},l,u,!1)}}),[r,d,a,n]),w=Object(i.useCallback)((function(){var e=lt(d,a),t=e.trackIndex,i=e.clipIndex;null===n||void 0===n||n({positionInTimeline:Object(s.a)(Object(s.a)({},r),{},{duration:r.end-r.start})},t,i,!1)}),[a,n,r,d]),k=Object(i.useCallback)((function(e){e.stopPropagation(),v(a||"")}),[a,v]),C=o===X.TRANSITION,I=j===a;return Object(l.jsx)(J,{scrollContainerSelector:".tracks-wrapper",autoGrow:!0,slow:2,onMove:g,onEnd:O,enable:!C,children:Object(l.jsxs)(vn,{className:"track-element ".concat(I?"active":""),onClick:k,style:Object(s.a)({width:ft(r.end-r.start),left:ft(r.start)},o===X.TRANSITION?On:null),children:[C||gt(d,a)||!I?null:Object(l.jsx)(gn,{children:Object(l.jsx)(J,{direction:T.EW,onMove:m,onEnd:w,children:Object(l.jsx)("div",{style:{width:"100%",height:"100%"}})})}),mn(t),C||xt(d,a)||!I?null:Object(l.jsx)(gn,{children:Object(l.jsx)(J,{direction:T.EW,onMove:y,onEnd:w,children:Object(l.jsx)("div",{style:{width:"100%",height:"100%"}})})})]})})},Gn=Object(i.memo)(zn),Ln=U.a.div(yn||(yn=Object(A.a)(["\n  width: 100%;\n  height: 70px;\n  padding: 5px 0px;\n  flex-shrink: 0;\n"]))),Nn=U.a.div(wn||(wn=Object(A.a)(["\n  width: 100%;\n  height: 100%;\n  /* border: 2px dashed #203351; */\n  /* border-radius: 8px; */\n  position: relative;\n  background: #13161c;\n"]))),Vn=U.a.div(kn||(kn=Object(A.a)(["\n  height: 0;\n  position: relative;\n  pointer-events: none;\n  &::after {\n    content: '';\n    position: absolute;\n    background: #38AA26;\n    width: 100%;\n    height: 2px;\n    border-radius: 2px;\n    left: 0;\n    right: 0;\n    top: -1px;\n  }\n"]))),Pn=function(e){var t=e.clips,n=e.style,a=e.index,o=Object(i.useContext)(rr),c=o.hoverTrack,u=o.tracks,f=o.setTracks,d=o.newTrackIndex,p=o.draggingClip,h=ct(c),b=Object(i.useCallback)((function(e,t,n,i,r){var a=lt(u,e.id),o=a.trackIndex,c=a.clipIndex;if(o>-1&&c>-1){var s=u[o].splice(c,1)[0];Object.assign(s,t),r?u.splice(n,0,[s]):u[n].splice(i,0,s),f(Object(L.a)(u))}}),[f,u]),j=ut(u),v=(null===p||void 0===p?void 0:p.type)===X.TRANSITION;return Object(l.jsxs)(l.Fragment,{children:[j&&d===a?Object(l.jsx)(Vn,{}):null,Object(l.jsx)(Ln,{style:n,className:tt,children:Object(l.jsx)(Nn,{style:Object(s.a)({},h===a&&-1===d?{background:"rgb(18 19 20 / 50%)"}:null),children:t.map((function(e,n){var i,a,o=t[n+1],c=!1;return v&&(a=o,(i=e)&&a&&Math.abs(i.positionInTimeline.end-a.positionInTimeline.start)<=1e-5)&&vt(null===e||void 0===e?void 0:e.type)&&vt(null===o||void 0===o?void 0:o.type)&&(c=!0),Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsx)(Gn,{clip:e,onUpdate:function(t,n,i,r){b(e,t,n,i,r)}}),c&&p?Object(l.jsx)(vn,{className:"transition-insert","data-from":e.id,"data-to":o.id,style:{width:ft(p.positionInTimeline.duration),left:ft(e.positionInTimeline.end-p.positionInTimeline.duration/2),zIndex:999,opacity:.5,border:"2px solid #fff"}}):null]},e.id)}))})}),j&&d===a+1?Object(l.jsx)(Vn,{}):null]})},Hn=U.a.div(Cn||(Cn=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 10px 20px;\n  position: relative;\n  overflow-y: auto;\n  overscroll-behavior: unset;\n  background: #000;\n"]))),Bn=U.a.div(In||(In=Object(A.a)(["\n  flex: 1 1 0%;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-pack: center;\n  justify-content: center;\n"]))),Wn=U.a.div(_n||(_n=Object(A.a)(["\n  width: 0;\n  top: 40px;\n  bottom: 4px;\n  position: absolute;\n  /* cursor: move; */\n  z-index: 1000;\n  pointer-events: none;\n\n  &::before {\n    content: '';\n    width: 2px;\n    background-color: #3A36E4;\n    opacity: 0.8;\n    left: -1px;\n    top: -26px;\n    bottom: 0;\n    border-radius: 2px;\n    position: absolute;\n  }\n\n  .indicator-bar {\n    position: absolute;\n    top: -40px;\n    left: -10px;\n  }\n"]))),Yn=function(e){var t=e.onCurrentTimeChange,n=Object(i.useContext)(rr),r=n.tracks,a=n.currentTime,o=1===r.length&&0===r[0].length?{height:90}:{},c=Object(i.useCallback)((function(e,n,i){var a=jt(r),o=ot({x:e,y:n}),c=dt(Math.max(0,o.x-i));t(Math.min(c,a))}),[t,r]),s=Object(i.useCallback)((function(e){c(e.pageX,e.pageY,0)}),[c]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Hn,{className:"tracks-wrapper",onClick:s,children:Object(l.jsx)(Bn,{children:r.map((function(e,t){return Object(l.jsx)(Pn,{index:t,clips:e,style:o},t)}))})}),Object(l.jsx)(Wn,{style:{left:ft(a)+20},children:Object(l.jsx)(Qt,{className:"indicator-bar"})})]})},Xn=U.a.div(Tn||(Tn=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  overflow: hidden;\n"]))),Jn=U.a.div(Rn||(Rn=Object(A.a)(["\n  display: flex;\n  height: 55%;\n"]))),qn=U.a.div(En||(En=Object(A.a)(["\n  display: flex;\n  flex-shrink: 0;\n  height: 100%;\n  width: 740px;\n  position: relative;\n  z-index: 2000;\n  background: #1A212A;\n  border-right: 1px solid #232A35;\n"]))),Zn=U.a.div(An||(An=Object(A.a)(["\n  background-color: #14181D;\n  overflow: hidden;\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  position: relative;\n"]))),Qn=U.a.div(Un||(Un=Object(A.a)(["\n  overflow-x: auto;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  position: relative;\n  padding-top: 10px;\n  background: #1C2430;\n"]))),Kn=U.a.div(Sn||(Sn=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 0 45px;\n  position: relative;\n"]))),$n=U.a.div(Fn||(Fn=Object(A.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  bottom: 65px;\n  background-color: #000;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ei=U.a.div(Mn||(Mn=Object(A.a)(["\n  padding: 0 20px;\n  height: 30px;\n  display: flex;\n  overflow: hidden;\n  flex-grow: 0;\n  flex-shrink: 0;\n  background: #1C2430;\n  border-top: 1px solid #14171B;\n  border-bottom: 1px solid #232A35;\n  /* box-shadow: 0px 12px 16px rgba(0, 0, 0, 0.14); */\n"]))),ti=U.a.div(Dn||(Dn=Object(A.a)(["\n  position: relative;\n  height: 20px;\n  padding: 14px 5px;\n  font-size: 12px;\n  line-height: 12px;\n  font-family: 'DIN Alternate';\n  color: #7185A6;\n  flex-grow: 0;\n  flex-shrink: 0;\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    height: 10px;\n    background-color: #39485f;\n  }\n  &::after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    height: 6px;\n    background: #2d394c;\n  }\n"]))),ni=function(){var e=Object(i.useState)(0),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){var e=document.querySelector(".tracks-wrapper");if(e){r(e.clientWidth);var t=new ResizeObserver((function(){e.clientWidth!==n&&r(e.clientWidth)}));return t.observe(e),function(){t.disconnect()}}}),[n]),Object(l.jsx)(ei,{style:{width:n},children:Array.from(Array(Math.ceil(n/nt))).map((function(e,t){return Object(l.jsx)(ti,{style:{width:nt},children:V(1e3*t,!1,!1)},t)}))})},ii=n(57),ri=function(e,t){!function(e){Object(ii.a)("Backspace",(function(){Ot(e)}))}(e),function(e){Object(ii.a)("ctrl.c",(function(){wt(e)}))}(e),function(e,t){Object(ii.a)(" ",(function(){var n=e.isPlaying;t.handleIsPlayingChange(!n)}))}(e,t)},ai=function(){function e(t,n){Object(ne.a)(this,e),this.scene=void 0,this.camera=void 0,this.renderer=void 0,this.maxAnisotropy=void 0,this.scene=new fe.Scene,this.camera=new fe.OrthographicCamera(t/-2,t/2,n/2,n/-2,-1e3,1e3),this.renderer=new fe.WebGLRenderer({preserveDrawingBuffer:!0,antialias:!0}),this.renderer.setPixelRatio(2),this.renderer.setSize(t,n),this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy()}return Object(ie.a)(e,[{key:"add",value:function(e,t){e.name=t,this.scene.add(e)}},{key:"remove",value:function(e){var t=this.scene.getObjectByName(e);t&&this.scene.remove(t)}},{key:"getRealSize",value:function(){var e=new fe.Vector2;return this.renderer.getDrawingBufferSize(e),e}},{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"render",value:function(){var e=this.renderer,t=this.scene,n=this.camera;e.render(t,n)}}]),e}(),oi=function(){function e(t){var n=t.width,i=t.height,r=t.onCurrentTimeChange,a=t.onEnd;Object(ne.a)(this,e),this.tickTime=0,this.rafId=0,this.tickFunc=void 0,this.onCurrentTimeChangeCallback=void 0,this.onEnd=void 0,this.painter=void 0,this.clips=[],this.currentTime=0,this.duration=0,this.isPlaying=!1,this.width=0,this.height=0,this.width=n,this.height=i,this.painter=new ai(n,i),this.onCurrentTimeChangeCallback=r,this.onEnd=a,this.tickFunc=this.tick.bind(this),this.rafId=requestAnimationFrame(this.tickFunc)}return Object(ie.a)(e,[{key:"tick",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.render(t);case 2:this.rafId=requestAnimationFrame(this.tickFunc);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isInRange",value:function(e){var t=e.config.positionInTimeline,n=t.start,i=t.end;return n<=this.currentTime&&i>=this.currentTime}},{key:"updateDuration",value:function(){var e=this;this.duration=0,this.clips.forEach((function(t){var n=t.config;n.positionInTimeline.end>e.duration&&(e.duration=n.positionInTimeline.end)}))}},{key:"getClipById",value:function(e){return this.clips.find((function(t){return t.config.id===e}))}},{key:"addClip",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,i=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ye(t,this),e.next=3,n.init();case 3:return this.clips.push(n),e.next=6,this.onCurrentTimeChange();case 6:this.updateDuration(),ye(n.config,"positionInTimeline",function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.updatePlaybackRate(),!i.isInRange(n)){e.next=13;break}if(!n.isEntered){e.next=7;break}return e.next=5,n.onUpdate(!0);case 5:e.next=11;break;case 7:return n.isEntered=!0,n.addToPainter(),e.next=11,n.onEnter(!0);case 11:e.next=18;break;case 13:if(!n.isEntered){e.next=18;break}return n.isEntered=!1,n.removeFromPainter(),e.next=18,n.onLeave(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeClip",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,i,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getClipById(t))){e.next=7;break}return e.next=4,n.destroy();case 4:n.config.type===X.TRANSITION&&(i=this.getClipById(n.config.fromId),r=this.getClipById(n.config.toId),null===i||void 0===i||i.show(),null===r||void 0===r||r.show()),this.clips.splice(this.clips.indexOf(n),1),this.updateDuration();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Math.floor(t),!this.isPlaying){e.next=7;break}return this.currentTime+=n-this.tickTime,this.currentTime=Math.min(this.currentTime,this.duration),e.next=6,this.onCurrentTimeChange();case 6:this.currentTime>=this.duration&&(this.pause(),null===(i=this.onEnd)||void 0===i||i.call(this));case 7:this.painter.render(),this.tickTime=n;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t=this;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isPlaying||(this.isPlaying=!0,this.clips.forEach((function(e){t.isInRange(e)&&e.play()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){var e=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isPlaying&&(this.isPlaying=!1,this.clips.forEach((function(e){e.pause()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCurrentTime",value:function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentTime=Math.max(0,Math.min(t,this.duration)),e.next=3,this.onCurrentTimeChange(!0);case 3:this.currentTime>=this.duration&&(this.pause(),null===(n=this.onEnd)||void 0===n||n.call(this));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onCurrentTimeChange",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i,r=this,a=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],i=[],this.clips.forEach((function(e){r.isInRange(e)?e.isEntered?i.push(e.onUpdate(n)):(e.isEntered=!0,e.addToPainter(),i.push(e.onEnter(n))):e.isEntered&&(e.isEntered=!1,e.removeFromPainter(),i.push(e.onLeave(n)))})),e.next=5,Promise.all(i).catch((function(e){alert(e.message)}));case 5:i=[],null===(t=this.onCurrentTimeChangeCallback)||void 0===t||t.call(this,this.currentTime);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"attachTo",value:function(e){null===e||void 0===e||e.appendChild(this.painter.getDomElement())}},{key:"destroy",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cancelAnimationFrame(this.rafId),t=[],this.clips.forEach((function(e){t.push(e.destroy())})),e.next=5,Promise.all(t).catch((function(e){alert(e.message)}));case 5:t=[],this.clips.length=0,this.clips=[],(n=this.painter.getDomElement())&&(null===(i=n.parentNode)||void 0===i||i.removeChild(n));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ci=function(){var e=Object(te.a)(ee.a.mark((function e(t,n,i){var r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return r=[],n.forEach((function(e){r.push(null===t||void 0===t?void 0:t.addClip(e))})),i.forEach((function(e){r.push(t.removeClip(e))})),e.next=6,Promise.all(r).catch((function(e){alert(e.message)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();var si,li=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({width:19,height:27,fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),{},{children:[Object(l.jsx)("path",{fill:"url(#prefix__pattern0)",d:"M0 0h19v27H0z"}),Object(l.jsxs)("defs",{children:[Object(l.jsx)("pattern",{id:"prefix__pattern0",patternContentUnits:"objectBoundingBox",width:1,height:1,children:Object(l.jsx)("use",{xlinkHref:"#prefix__image0_348:26",transform:"matrix(.01923 0 0 .01351 -.635 -.297)"})}),Object(l.jsx)("image",{id:"prefix__image0_348:26",width:120,height:120,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAKy0lEQVR4Xu2de3BVxR3H95x78yAJuQEMj5AHDZYiICjtCIqWEcXKIHWww6sUxmY6oLU4yjgFYaBVOtZBnME+bMf6Rwn1gW2TquOMHaA4wnS0vIJIQgfEAHlCSEKAvO5j+/udnGuvQMi99+ye/G7ub2d2bh5nf2f38z2/3T27v3OuEJyYABNgAkyACTABJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgAkwASbABJjAgCdgJHoLpZRmL22Q+HfDMKzPyARlsN2Yw2XxGCtf7/hEZpRQArc9XPQzIeUiAF5o55jYZxbeKczUzJjKfO3gtHQhVv8i28gdcSl+I+6WTBiB275fWAZoiiBPjReRY4HDJzZNYWx5PSHY9da9xctQSzkQ90MwPM+JuEorFgoJubpEyg/+tk6pXQ3GyF+FIO5FaHe2irYr8+DIytx2xzvG8sdw2CCZyHowCLsYMk58lIirjX7FfxbKfbsf0mbfoWGvw/JaioOwW8HwMi3GdRgte+N9MEuyNyTnwSDuboA1A/JQHVrosilfXH9Bl20ndil6cA6ZyVQsZM/Vk7wgSXnwpZLpvwGmcLOZmEnu3fUAtZqTElg21U0EQBOoQYq6PuVv/jPqY106kJTA0OZUl9qdNKehJrAvaci71FBqAg9zqd1JcxpqAg9KGvIuNZSawO0utTtpTkNKYCM370hCk3948bep1Z+UwBkbtz1BDVAs9TFmPnAoluPdOJaUwJ6ib1VDo8+60XDl58gr2KbcpgKDpATG9mS+umemgna5baLGeOa5R90+aTTnIyewJ3/sl57Jd5VGU3kix5wWP/jRZCJ1uaYa5ATGGmZseutRIyvnBFVoEfU6KG67Y6UxY1YL1bqSFBgjG7PeODLezB97kCi4eqjXHnHvnOUQzUFu/TmSGclN6nAFMbw1cGDPwo5NP367J6rVUZIQstMEUZUhsBK+sPEzDXJWFJbxHv0Y5HZhmhKC7u6Noky/H0Ja4AihUwOV++d3rFvwFoTNxlvnGhD4LAiMVwra8NhC42c4ThpPiaLjkmlehDrn4edqkZbeJlZvXGbkjkQPTogULyxXG2cHt2cHu8WY8yfFomPvi7WNVULA77GkmnmbxbM5+QLHS4xr7oQcgDweMi6RnoF8sbFLpJY3yo076sTsE1eE8KUIMWuYqFo1xrj/5gzRahqiE4YQ7AUSIlGM6LgGXP1RMetfL4l3QwGR4YBqpS3sZyCQda8NFw5GYWD33Lj2uHxxe614EH5us4Vvhs+hrX7RWdYgUsoaJIYShfLTxV74fMxBPVwtSl7gt38iv9j1a1EAVMCXHCXsrZrQS21xMYje+LhZ5PzwsNwJ/TZ2u42Q8yFjtx1OGGFys/1LQ02n8OXtCr03cbBYt3Oa+bmjGrlQmOQsGtvdeUl6SpfItu4roliBuGgSn1nBiZIfPDcXPlufPS7XLzksfwfiNsDvoyGj6JHiXi3BSPjDYsg5xy6Jp0fvCj3vgkaOTkFW4HdWCOwiBztq3dcL4zhbgwJDblpdKTeX1orZ8DOOp/isUyy92T1w/Gy4MMaBN7+isI7KTZEUePtSid2o6uC79iEFxnkYfwP/bhHDd9QLDJDDbhu9Np6Ew8ZcyMVT94Y2xWPAjTLkBP74FblFhqxZrtMx92p+X+01Lzgk99sei57rJOEEbVxDl7jLiRGdZckJXP2JWAANxtmy6ls4a6XktdOh5TbQEYrAjsOLBcZjvFcml0gJfGC7nA+E0HuHKCYFd7Q9EZu/PCH+AB84kVLZQ0yxJ2qKq+3cHCmBT+wRaxSDDxPCiZSn5azE8RZ7B5xFq0xWNOjCQ6G/qDSqwlYsM0cV57uhDX+HNZvN0XAivEUKvtsgH7dtq/TecHV9+5rFdA11d2SSlAfbXafq2TMCwnZ6yhu1PrGIF2bQkRoaCpPyYGhfbKvLsQGZdKYDxnYdl09PPXRMDGNr4XWOpubBuAihK9XepPfBGNy8UD3zd8yCmsDYIMcbv71QGfJgrvjEMbHeDXSwwH3QNb3WWIkbAjpSXkmBgTtButLlgnRrs4JUIuXBoyYJfBWCtdujIWH3qauTxqHF8+ndJr6ZgFQiJfB9a4xVdheNG/E6Uubc4TrMWr2OHssOq0tKYGzLIJ/lZbreJOd9dZKx1CGzq4t3wR+CPy8WKxTbVWKOnMCP/Fbg2i7eT+oIiynyGqJ1zVjxVyX0eiaETemmaHuq2CQZy01OYE+K4Z/zvPgugNNRN9z96XxyjLFyVJq1+e/kvhsvwjrI7admmfjqCZJJB0THDc39plF19yqx0LGhaw3gRAvC9UT6wXvMzKEpVgAeihRr4DpeHJa4dfeb2OOQTSQFRlrfuFN8MH+r8rVdHN/xlcH1ELbj+3ymOXLRKFGOQkGutYW+0X043uuehlwD3XIXdXGRI7mVl0hXABGKYJSbtr9U7Diu4PkBCJs9DGGzc0Bg634V7ONSLfxq+It2h875pRVKi2M/ZoyNDi/lorA48cPZfdZrtxpTHxphJERsNGmBbRF+Cp/rIQ9tOS3S9/4e3A3eKRcAKWSMa14g8HsgcAkI2utb6V4+FVrxZq14vNkvvF0hkeoxhD/bK7rHZYrq8u+Yj5Dti3upWCIIjFBLLge7h62t2zl924UKcK8YlbUbf2D8ytJb0nOfAIEvJ5pQ8daX2m7SV+2wu09fUIYqio9tndsUUPL6jqNwAicz53g591s5kpMsEBdDajx/vnD4qewjL3yhSFyEjDPf+Ny/3yRydmJyHmx/YYZnWfXfPy1rrZrirHnXlMbHUpIqUfRgc3Pjvg0axEVhcSasY4WM7EVDSmDsmluDnb7n6j96RhMxfIKQBdYENxqzsvDoy3gLo0WECYOGfznQvhepL6hkxmD03m4ZTA0KidNlHVGPfbEYkP+n1EWb047/CcXF1SIdAifdBAuvWEoCh052WQtMN3p804mX6Qzoc1IvrWUpCQzPnFm3qE6e4r8RLBZY66XUt3HdCxBaJm59N6t/j6DkwbrXxWVlxzkH30zZv0LFe/akEniQmYLvxEqqRFFgHV0pzsyDN3kzkmYXKXwVUxLYk+u15ldKto2uclPcsPcO9qQl1U4Stdsk86XR38PQUx3f23BxdvbYfyRV32w3VvfEJmqm9v6vN7PiV+htuCih6ltH0dbF9ts3FOJOVbItVZLpovHtNyCE/GPhvKdtcVXcNqHN8xPSc61XEyebuFabo3YxFw60N/pTRh/d0gG7SjghwtsaJ3U8BeWzwHtVvXDFBQpqT+EEntqa2NZAZFyHlhDJ4YdwnXi7avT+altcks8MaYF3HaPkBMY62uOxzDnyQsAvQ/jsD946RTv5wjfqNEHDMq/cvkH1y1bc0kXZeciMwZEtssdjs3XKupQlQ2790BYXvRnjlntL+D/02itwuxVgcXswkfTgsILhwHT4PTDjv68HKzoawvXF8RmfDQpPxPBC9RSl+s5UTXwycb+eVpnf/t8QaYEjhA6/lT2IM+Gylsr7TnY13xKU0ixM9X22dNjkjzSwGRAmE0LgSNL229/RY9F7LQ9OpDewD4irhhvBBJgAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkxgIBL4HwOVtfNqeFzIAAAAAElFTkSuQmCC"})]})]}))},ui=U.a.div(si||(si=Object(A.a)(["\n  width: 100%;\n  height: 50px;\n  user-select: none;\n  overflow: hidden;\n  background: #1A2028;\n  border-bottom: 1px solid #232A35;\n  position: relative;\n  z-index: 10000;\n  display: flex;\n  align-items: center;\n  padding-left: 20px;\n"]))),fi=function(){return Object(l.jsx)(ui,{children:Object(l.jsx)(li,{})})};var di=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:12,fill:"none"},e),{},{children:Object(l.jsx)("path",{d:"M12.898.317a.667.667 0 01-.212.918l-4.42 2.762 2.677 1.672h.035a3.167 3.167 0 11-1.803.466L7.009 4.783 4.834 6.14a3.167 3.167 0 11-1.759-.474l2.676-1.67-4.419-2.762a.667.667 0 01-.25-.85L1.12.317a.667.667 0 01.919-.212l4.97 3.106 4.97-3.106a.667.667 0 01.919.212zM3.167 7a1.833 1.833 0 100 3.667 1.833 1.833 0 000-3.667zm7.666 0a1.833 1.833 0 100 3.667 1.833 1.833 0 000-3.667z",fill:"#7185A6"})}))};var pi=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{},{children:Object(l.jsx)("path",{d:"M12.667 2.467a.667.667 0 010 1.333h-.69l-.281 8.509a1.407 1.407 0 01-1.304 1.354l-.102.004H3.704a1.407 1.407 0 01-1.407-1.36L2.021 3.8h-.688a.667.667 0 110-1.332h11.334zm-2.024 1.332H3.357l.273 8.463c.001.03.02.055.046.066l.028.005h6.586c.04 0 .072-.031.073-.071l.28-8.463zM7 5.333A.667.667 0 017.667 6v4a.667.667 0 01-1.334 0V6A.667.667 0 017 5.333zm2.667-5a.667.667 0 110 1.334H4.333a.667.667 0 110-1.334h5.334z",fill:"#7185A6"})}))};var hi=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:13,fill:"none"},e),{},{children:Object(l.jsx)("path",{d:"M9.18.877a.667.667 0 01.943-.03l3.333 3.13.056.06a.667.667 0 01-.055.912l-3.333 3.143-.065.053a.667.667 0 01-.878-.081l-.053-.065a.667.667 0 01.08-.878l2.255-2.124H4.827a3.163 3.163 0 00-3.16 3.166 3.164 3.164 0 003.015 3.164l.145.004h7.84a.667.667 0 01.078 1.328l-.079.005h-7.84a4.497 4.497 0 01-4.493-4.5A4.497 4.497 0 014.67 3.667l.158-.003h6.345L9.21 1.818l-.057-.061a.667.667 0 01.027-.88z",fill:"#7185A6"})}))};var bi,ji,vi,xi,gi,Oi=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:13,fill:"none"},e),{},{children:Object(l.jsx)("path",{d:"M4.82.877a.667.667 0 00-.943-.03L.544 3.977l-.056.06a.667.667 0 00.055.912l3.333 3.143.065.053a.667.667 0 00.878-.081l.053-.065a.667.667 0 00-.08-.878L2.536 4.997h6.636a3.163 3.163 0 013.16 3.166 3.164 3.164 0 01-3.015 3.164l-.145.004h-7.84a.667.667 0 00-.078 1.328l.078.005h7.84a4.497 4.497 0 004.494-4.5A4.496 4.496 0 009.33 3.667l-.158-.003H2.827L4.79 1.818l.057-.061a.667.667 0 00-.027-.88z",fill:"#7185A6"})}))},mi=U.a.div(bi||(bi=Object(A.a)(["\n  height: 50px;\n  background: #1C2430;\n  border-top: 1px solid #232A35;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n  padding: 0 24px;\n"]))),yi=U.a.div(ji||(ji=Object(A.a)(["\n  font-family: 'DIN Alternate';\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n"]))),wi=U.a.div(vi||(vi=Object(A.a)(["\n  display: flex;\n  >div {\n    margin-right: 10px;\n  }\n"]))),ki=U.a.div(xi||(xi=Object(A.a)(["\n  width: 200px;\n  flex-shrink: 0;\n"]))),Ci=function(e){e.playerContext;var t=Object(i.useContext)(rr),n=t.totalDuration,r=t.currentTime,a=t.activeClipId,o=t.tracks,c=Object(i.useCallback)((function(){Ot(t)}),[t]),s=Object(i.useCallback)((function(){wt(t)}),[t]);return Object(l.jsxs)(mi,{children:[Object(l.jsxs)(wi,{children:[Object(l.jsx)(S,{className:"disabled",children:Object(l.jsx)(Oi,{})}),Object(l.jsx)(S,{className:"disabled",children:Object(l.jsx)(hi,{})}),Object(l.jsx)(S,{onClick:s,className:mt(o,r,a)?"":"disabled",children:Object(l.jsx)(di,{})}),Object(l.jsx)(S,{onClick:c,className:"warn ".concat(a?"":"disabled"),children:Object(l.jsx)(pi,{})})]}),Object(l.jsxs)(yi,{children:[V(r,!0),Object(l.jsxs)("span",{style:{color:"#455570"},children:[" / ",V(n,!0)]})]}),Object(l.jsx)(ki,{})]})},Ii=n(35),_i=n(34),Ti=n.n(_i),Ri=function(e){var t=e.clip,n=t.positionInRender,r=n.width,a=n.height,o=Object(i.useRef)(t.value),c=Object(i.useRef)(null),u=Object(i.useCallback)((function(e){o.current=e.target.value,Object.assign(t,{value:o.current});var n=Y(t);Object.assign(t,{positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{width:n.width,height:n.height})})}),[t]),f=Object(i.useCallback)((function(){console.log(o.current)}),[]);return Object(l.jsx)("div",{style:{width:r,height:a,overflow:"hidden"},children:Object(l.jsx)(Ti.a,{innerRef:c,html:o.current,disabled:!1,onChange:u,onBlur:f})})},Ei=U.a.div(gi||(gi=Object(A.a)(["\n  position: fixed;\n  z-index: 200000;\n"]))),Ai=["nw","ne","sw","se"],Ui=function(){var e=Object(i.useContext)(rr),t=e.activeClipId,n=e.tracks,r=Object(i.useState)(null),a=Object(c.a)(r,2),o=a[0],u=a[1],f=Object(i.useState)(),d=Object(c.a)(f,2),p=d[0],h=d[1],b=Object(i.useMemo)((function(){var e=lt(n,t),i=e.trackIndex,r=e.clipIndex;if(i>-1&&r>-1)return n[i][r]}),[t,n]);Object(i.useEffect)((function(){if(b){var e=kt(),t=e.left,n=e.top,i=e.height,r=e.width,a=et(b,r,i),o=a.width,c=a.height,s=a.left,l=a.bottom;h({width:o,height:c,transform:"translate(".concat(t+s,"px, ").concat(n+i-l-c,"px)")})}else h(void 0)}),[b]),Object(i.useEffect)((function(){u(p?document.querySelector(".resize-rotate"):null)}),[p]);var j=Object(i.useCallback)((function(e){var t=e.target,n=e.delta,i=e.transform;t.style.transform=i,b&&Object.assign(b,{positionInRender:Object(s.a)(Object(s.a)({},b.positionInRender),{},{fitType:x.CUSTOM,left:b.positionInRender.left+n[0],bottom:b.positionInRender.bottom-n[1]})})}),[b]),v=Object(i.useCallback)((function(e){var t=e.target,n=e.width,i=e.height,r=e.delta,a=e.drag,o=e.direction,c=1===o[1],l=-1===o[0],u=a.beforeTranslate;b&&Object.assign(b,{positionInRender:Object(s.a)(Object(s.a)(Object(s.a)({},b.positionInRender),{},{fitType:x.CUSTOM,width:n,height:i},l?{left:b.positionInRender.left-r[0]}:null),c?{bottom:b.positionInRender.bottom-r[1]}:null)}),r[0]&&(t.style.width="".concat(n,"px")),r[1]&&(t.style.height="".concat(i,"px")),t.style.transform="translate(".concat(u[0],"px, ").concat(u[1],"px)")}),[b]);return b?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Ei,{className:"resize-rotate",style:p,children:b.type===X.TEXT?Object(l.jsx)(Ri,{clip:b}):null}),Object(l.jsx)(Ii.a,{target:o,container:null,origin:!1,keepRatio:!0,renderDirections:Ai,edge:!1,draggable:!0,throttleDrag:0,onDrag:j,resizable:!0,throttleResize:0,onResize:v})]}):null};var Si=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0H0v12h3V0zm9 0L5 6l7 6V0z",fill:"#7B9FD6"})}))};var Fi=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12l7-6-7-6v12zm9 0h3V0H9v12z",fill:"#7B9FD6"})}))};var Mi=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:10,height:12,fill:"none"},e),{},{children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0H0v12h3V0zm7 0H7v12h3V0z",fill:"#7B9FD6"})}))};var Di,zi,Gi,Li=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({width:10,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(l.jsx)("path",{d:"M10 6L0 12V0l10 6z",fill:"#7B9FD6"})}))},Ni=U.a.div(Di||(Di=Object(A.a)(["\n  height: 65px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n  position: absolute;\n  bottom: 0;\n"]))),Vi=U.a.div(zi||(zi=Object(A.a)(["\n  display: flex;\n  >div {\n    margin-right: 10px;\n  }\n"]))),Pi=U.a.div(Gi||(Gi=Object(A.a)(["\n  display: flex;\n"]))),Hi={background:"#1F2836",borderColor:"#222B3A"},Bi=function(e){var t=e.playerContext,n=Object(i.useContext)(rr),r=n.isPlaying,a=n.totalDuration,o=Object(i.useCallback)((function(){t.handleIsPlayingChange(!r)}),[t,r]),c=Object(i.useCallback)((function(){t.handleCurrentTimeChange(0)}),[t]),u=Object(i.useCallback)((function(){t.handleCurrentTimeChange(a)}),[t,a]);return Object(l.jsxs)(Ni,{children:[Object(l.jsxs)(Pi,{children:[Object(l.jsx)(F,{style:{marginRight:16,fontFamily:"DIN Alternate"},className:"disabled",children:"16:9"}),Object(l.jsx)(F,{style:{fontFamily:"DIN Alternate"},className:"disabled",children:"9:16"})]}),Object(l.jsxs)(Vi,{children:[Object(l.jsx)(S,{onClick:c,style:Hi,children:Object(l.jsx)(Si,{})}),Object(l.jsx)(S,{style:Object(s.a)({width:60},Hi),onClick:o,children:r?Object(l.jsx)(Mi,{}):Object(l.jsx)(Li,{})}),Object(l.jsx)(S,{onClick:u,style:Hi,children:Object(l.jsx)(Fi,{})})]}),Object(l.jsx)(S,{style:{width:100},className:"disabled",children:"\u5168\u5c4f\u64ad\u653e"})]})};var Wi=function(e){return Object(l.jsxs)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:[Object(l.jsx)("path",{d:"M2 5v9.5h3V5H2z",fill:"url(#prefix__paint0_linear_441_1815)"}),Object(l.jsx)("path",{d:"M12 5H2v3h10V5z",fill:"url(#prefix__paint1_linear_441_1815)"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.019a1 1 0 00-1-.998H3c-1.657 0-3 1.34-3 2.995v6.989A2.998 2.998 0 003 16h10c1.657 0 3-1.341 3-2.995v-3.52a1 1 0 00-2 0v3.52a1 1 0 01-1 .998H3a1 1 0 01-1-.998v-6.99a1 1 0 011-.998h12a1 1 0 001-.998z",fill:"#fff"}),Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.197.403a.997.997 0 00.206 1.397l2.93 2.175-2.936 2.218a.997.997 0 00-.195 1.398c.334.44.96.527 1.401.194l4-3.02a.998.998 0 00-.006-1.597l-4-2.97a1.001 1.001 0 00-1.4.205z",fill:"#fff"}),Object(l.jsx)("path",{d:"M6.22 7.692a.5.5 0 01.77-.421l2.886 1.843a.5.5 0 010 .843L6.99 11.8a.5.5 0 01-.77-.421V7.692z",fill:"#fff"}),Object(l.jsxs)("defs",{children:[Object(l.jsxs)("linearGradient",{id:"prefix__paint0_linear_441_1815",x1:2,y1:9.5,x2:4.5,y2:9.5,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#0C09AB"}),Object(l.jsx)("stop",{offset:1,stopColor:"#0C09AB",stopOpacity:0})]}),Object(l.jsxs)("linearGradient",{id:"prefix__paint1_linear_441_1815",x1:7,y1:5,x2:7,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"#0C09AB"}),Object(l.jsx)("stop",{offset:1,stopColor:"#0C09AB",stopOpacity:0})]})]})]}))};var Yi=function(e){return Object(l.jsx)("svg",Object(s.a)(Object(s.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:Object(l.jsx)("path",{d:"M13.368 10.417l.711 2.037 1.921.754-1.92.755L13.367 16l-.71-2.037-1.92-.755 1.92-.754.71-2.037zM13.989 1.383l-.47 1.085.47 1.085-1.023-.499-1.023.5.47-1.086-.47-1.085 1.023.5 1.023-.5zM2.382 13.81l-.428.987.428.987-.93-.454-.93.454.427-.987-.428-.987.93.454.931-.454zM.741 0l1.213 1.068L3.508.786 2.501 2.073l.266 1.649-1.213-1.068L0 2.935l1.007-1.287L.74 0zM7.09 1.509a.146.146 0 01.276 0l1.726 4.982c.014.04.045.073.085.088l4.72 1.84a.146.146 0 010 .272l-4.72 1.84a.146.146 0 00-.085.088l-1.726 4.982a.146.146 0 01-.276 0L5.365 10.62a.146.146 0 00-.085-.088L.56 8.691a.146.146 0 010-.272l4.72-1.84a.146.146 0 00.085-.088L7.09 1.509z",fill:"#81ACF0"})}))},Xi=function(e){e.value,e.onChange;return Object(l.jsx)("div",{children:Object(l.jsx)(S,{children:Object(l.jsx)(Yi,{})})})},Ji=function(e){e.value,e.onChange;return Object(l.jsx)("div",{})},qi=function(e){var t=e.data,n=e.onChange,r=Object(i.useCallback)((function(e){n({effect:e})}),[n]),a=Object(i.useCallback)((function(e){n({positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{fitType:e,width:t.originalWidth,height:t.originalHeight})})}),[t.originalHeight,t.originalWidth,t.positionInRender,n]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(Xi,{value:t.effect,onChange:r}),Object(l.jsx)(Ji,{value:t.positionInRender.fitType,onChange:a})]})},Zi=function(e){var t=e.data,n=e.onChange,r=Object(i.useCallback)((function(e){n({effect:e})}),[n]),a=Object(i.useCallback)((function(e){n({positionInRender:Object(s.a)(Object(s.a)({},t.positionInRender),{},{fitType:e,width:t.originalWidth,height:t.originalHeight})})}),[t.originalHeight,t.originalWidth,t.positionInRender,n]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(Xi,{value:t.effect,onChange:r}),Object(l.jsx)(Ji,{value:t.positionInRender.fitType,onChange:a})]})};function Qi(e,t){switch(null===e||void 0===e?void 0:e.type){case X.VIDEO:return Object(l.jsx)(Zi,{data:e,onChange:t});case X.IMAGE:return Object(l.jsx)(qi,{data:e,onChange:t});default:return null}}var Ki,$i,er=function(){var e=Object(i.useContext)(rr),t=e.activeClipId,n=e.tracks,r=e.setTracks,a=Object(i.useState)(),o=Object(c.a)(a,2),s=o[0],u=o[1];Object(i.useEffect)((function(){var e,i=lt(n,t),r=i.trackIndex,a=i.clipIndex;u(null===(e=n[r])||void 0===e?void 0:e[a])}),[t,n]);var f=Object(i.useCallback)((function(e){s&&(Object.assign(s,e),r(Object(L.a)(n)))}),[s,r,n]),d=Object(i.useCallback)((function(e){e.stopPropagation()}),[]);return Object(l.jsx)("div",{style:{width:200},onClick:d,children:Qi(s,f)})},tr=U.a.div(Ki||(Ki=Object(A.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 50px;\n  top: -50px;\n  display: flex;\n  align-items: center;\n  z-index: 99999;\n  justify-content: space-between;\n"]))),nr=U.a.div($i||($i=Object(A.a)(["\n  height: 30px;\n  padding: 0 20px;\n  background: #3A36E4;\n  border-radius: 99px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #fff;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background: #302DD3;\n  }\n\n  svg {\n    margin-right: 8px;\n  }\n"]))),ir=function(e){var t=e.playerContext,n=Object(i.useCallback)((function(){t.player&&function(e){$e.apply(this,arguments)}(t.player)}),[t.player]);return Object(l.jsxs)(tr,{children:[Object(l.jsx)("div",{children:Object(l.jsx)(er,{})}),Object(l.jsx)("div",{children:"\u672a\u547d\u540d"}),Object(l.jsxs)(nr,{onClick:n,children:[Object(l.jsx)(Wi,{}),"\u5bfc\u51fa\u89c6\u9891"]})]})},rr=r.a.createContext(it),ar=function(){var e=Object(i.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)([[]]),o=Object(c.a)(a,2),s=o[0],u=o[1],f=Object(i.useState)(-1),d=Object(c.a)(f,2),p=d[0],h=d[1],b=Object(i.useState)(0),j=Object(c.a)(b,2),v=j[0],x=j[1],g=Object(i.useState)(""),O=Object(c.a)(g,2),m=O[0],y=O[1],w=Object(i.useState)(0),k=Object(c.a)(w,2),C=k[0],I=k[1],_=Object(i.useState)(!1),T=Object(c.a)(_,2),R=T[0],E=T[1],A=Object(i.useState)(),U=Object(c.a)(A,2),S=U[0],F=U[1],M=Object(i.useRef)(null),D=Object(i.useCallback)((function(e){var t=e.filter((function(e){return e.length})),n=jt(t);n!==v&&(x(n),C>n&&I(n)),t.flat(1).forEach((function(e,t){e.zIndex=t})),u(t.length?t:[[]])}),[C,I,v]);Object(i.useEffect)((function(){if(v){var e=document.querySelector(".tracks-wrapper");if(e){var t=e.clientWidth,n=ft(v);t<n&&(e.style.width="".concat(n+100,"px"))}}}),[v]);var z={hoverTrack:n,setHoverTrack:r,tracks:s,setTracks:D,newTrackIndex:p,setNewTrackIndex:h,activeClipId:m,setActiveClipId:y,currentTime:C,setCurrentTime:I,totalDuration:v,setTotalDuration:x,isPlaying:R,setIsPlaying:E,draggingClip:S,setDraggingClip:F},G=function(e,t){var n=Object(i.useRef)(),r=e.tracks,a=e.totalDuration,o=e.setCurrentTime,c=e.isPlaying,s=e.setIsPlaying;Object(i.useEffect)((function(){!n.current&&t.current&&(n.current=new oi({width:768,height:432,onCurrentTimeChange:function(e){o(e)},onEnd:function(){s(!1)}}),n.current.attachTo(t.current))}),[t,o,s,r]),Object(i.useEffect)((function(){if(n.current&&r.length){var e=function(e,t){var n=[],i=[],r=t.flat(1);return e.forEach((function(e){!r.find((function(t){return t.id===e.config.id}))&&e.config.id&&i.push(e.config.id)})),r.forEach((function(t){e.find((function(e){return e.config.id===t.id}))||n.push(t)})),{newClips:n,deleteClips:i}}(n.current.clips,r),t=e.newClips,i=e.deleteClips;ci(n.current,t,i)}}),[r]);var l=Object(i.useCallback)(function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=10;break}if(t){e.next=7;break}return e.next=4,n.current.pause();case 4:s(!1),e.next=10;break;case 7:return e.next=9,n.current.play();case 9:s(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),u=Object(i.useCallback)(function(){var e=Object(te.a)(ee.a.mark((function e(t){var i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=n.current)){e.next=7;break}return i.pause(),e.next=5,i.setCurrentTime(t);case 5:s(!1),o(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,s]);return Object(i.useEffect)((function(){n.current&&a>=0&&n.current.updateDuration()}),[a]),{player:n.current,isPlaying:c,setIsPlaying:s,handleIsPlayingChange:l,handleCurrentTimeChange:u}}(z,M);ri(z,G);var L=Object(i.useCallback)((function(){m&&y("")}),[m]);return Object(i.useEffect)((function(){return document.removeEventListener("click",L,!1),document.addEventListener("click",L,!1),function(){document.removeEventListener("click",L,!1)}}),[L]),Object(l.jsxs)(rr.Provider,{value:z,children:[Object(l.jsx)(Ui,{}),Object(l.jsxs)(Xn,{children:[Object(l.jsx)(fi,{player:G.player}),Object(l.jsxs)(Jn,{children:[Object(l.jsx)(qn,{children:Object(l.jsx)(qt,{})}),Object(l.jsxs)(Kn,{children:[Object(l.jsx)(ir,{playerContext:G}),Object(l.jsx)($n,{children:Object(l.jsx)("div",{className:"player-container",ref:M,style:{width:768,height:432}})}),Object(l.jsx)(Bi,{playerContext:G})]})]}),Object(l.jsxs)(Zn,{children:[Object(l.jsx)(Ci,{playerContext:G}),Object(l.jsxs)(Qn,{children:[Object(l.jsx)(ni,{}),Object(l.jsx)(Yn,{onCurrentTimeChange:G.handleCurrentTimeChange})]})]})]})]})};n(53);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(ar,{})}),document.getElementById("root"))},7:function(e,t){e.exports=THREE}},[[54,1,2]]]);
//# sourceMappingURL=main.34623475.chunk.js.map