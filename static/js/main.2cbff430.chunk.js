(this["webpackJsonpgo-think"]=this["webpackJsonpgo-think"]||[]).push([[0],{104:function(e,t){e.exports=FFmpeg},202:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(0),a=n.n(i),o=n(39),c=n.n(o),s=n(11),l=n(13),u=n(3),f=n(1);var d=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_490_3)"}),Object(f.jsx)("mask",{id:"prefix__a",fill:"#fff",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H9a2 2 0 01-2-2V9zm1-.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2V8.7zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 14.5c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 20.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zM20.2 8.5a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2V8.7a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .111.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6z"})}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 9a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H9a2 2 0 01-2-2V9zm1-.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2V8.7zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 14.5c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2H8.2zM8 20.3c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2H8.2a.2.2 0 01-.2-.2v-1.1zM20.2 8.5a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2V8.7a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .11.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6zm-.2 3.1c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v1.1a.2.2 0 01-.2.2h-1.6a.2.2 0 01-.2-.2v-1.1zm.2 2.7a.2.2 0 00-.2.2v1.1c0 .111.09.2.2.2h1.6a.2.2 0 00.2-.2v-1.1a.2.2 0 00-.2-.2h-1.6z",fill:"url(#prefix__paint1_linear_490_3)"}),Object(f.jsx)("path",{d:"M9 6.8A2.2 2.2 0 006.8 9h.4A1.8 1.8 0 019 7.2v-.4zm12 0H9v.4h12v-.4zM23.2 9A2.2 2.2 0 0021 6.8v.4A1.8 1.8 0 0122.8 9h.4zm0 12V9h-.4v12h.4zM21 23.2a2.2 2.2 0 002.2-2.2h-.4a1.8 1.8 0 01-1.8 1.8v.4zm-12 0h12v-.4H9v.4zM6.8 21A2.2 2.2 0 009 23.2v-.4A1.8 1.8 0 017.2 21h-.4zm0-12v12h.4V9h-.4zm1.4-.7a.4.4 0 00-.4.4h.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1V8.7h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm-.4-.4c0 .22.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4V8.7h-.4zm.4 2.9v-.4a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .221.18.4.4.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm0 2.5a.4.4 0 00-.4.4h.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm-.4-.4c0 .221.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm.4 2.9V17a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .221.18.4.4.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6V17H8.2v.4zm0 2.5a.4.4 0 00-.4.4h.4v-.4zm1.6 0H8.2v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4H8.2v.4zm-.4-.4c0 .222.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zM20.2 8.7v-.4a.4.4 0 00-.4.4h.4zm0 1.1V8.7h-.4v1.1h.4zm0 0h-.4c0 .22.18.4.4.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4V8.7h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm0 2.5a.4.4 0 00-.4.4h.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm-.4-.4c0 .221.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm.4 2.9v-.4a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .221.18.4.4.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm0 2.5a.4.4 0 00-.4.4h.4V17zm1.6 0h-1.6v.4h1.6V17zm.4.4a.4.4 0 00-.4-.4v.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm-.4.4a.4.4 0 00.4-.4h-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4zm-.4-.4c0 .221.18.4.4.4v-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm.4 2.9v-.4a.4.4 0 00-.4.4h.4zm0 1.1v-1.1h-.4v1.1h.4zm0 0h-.4c0 .222.18.4.4.4v-.4zm1.6 0h-1.6v.4h1.6v-.4zm0 0v.4a.4.4 0 00.4-.4h-.4zm0-1.1v1.1h.4v-1.1h-.4zm0 0h.4a.4.4 0 00-.4-.4v.4zm-1.6 0h1.6v-.4h-1.6v.4z",fill:"url(#prefix__paint2_linear_490_3)",mask:"url(#prefix__a)"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_490_3",x1:2.5,y1:3,x2:27,y2:27.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#05AB49"}),Object(f.jsx)("stop",{offset:1,stopColor:"#097838"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_490_3",x1:12.429,y1:21.933,x2:12.429,y2:7,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.51}),Object(f.jsx)("stop",{offset:.448,stopColor:"#fff",stopOpacity:.96}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.27})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_490_3",x1:16.78,y1:21.933,x2:16.78,y2:7,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.34}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.06})]})]})]}))};var h=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_141)"}),Object(f.jsx)("ellipse",{cx:15,cy:21.75,rx:7,ry:1.75,fill:"url(#prefix__paint1_linear_440_141)"}),Object(f.jsx)("path",{d:"M13.25 10c0-.633.203-1.06.504-1.332.304-.276.738-.418 1.246-.418s.942.142 1.247.418c.3.271.503.699.503 1.332 0 .61-.338 1.307-.762 1.867-.209.276-.43.506-.623.665-.097.08-.183.138-.252.175a.524.524 0 01-.084.036c-.02.007-.03.007-.03.007H15s0 0 0 0-.009 0-.03-.007a.524.524 0 01-.083-.036 1.567 1.567 0 01-.252-.175 4.037 4.037 0 01-.623-.665c-.424-.56-.762-1.256-.762-1.867z",fill:"url(#prefix__paint2_linear_440_141)",stroke:"url(#prefix__paint3_linear_440_141)",strokeWidth:.5}),Object(f.jsx)("path",{d:"M13 20c0 1.38.896 2 2 2 1.105 0 2-.62 2-2s-1.5-3-2-3-2 1.62-2 3z",fill:"url(#prefix__paint4_linear_440_141)"}),Object(f.jsx)("path",{d:"M18.33 10.768c1.196-.69 2.18-.225 2.732.732s.464 2.042-.732 2.732c-1.196.69-3.348.2-3.598-.232-.25-.433.402-2.542 1.598-3.232z",fill:"url(#prefix__paint5_linear_440_141)"}),Object(f.jsx)("path",{d:"M9.795 15.984c-.549.317-.817.707-.902 1.103-.086.4.008.848.261 1.288.254.44.595.745.985.87.386.125.857.087 1.406-.23.529-.305.963-.946 1.236-1.593.134-.319.223-.625.264-.872a1.57 1.57 0 00.025-.306.51.51 0 00-.01-.09c-.004-.021-.008-.03-.008-.03s0 0 0 0v.001s-.005-.008-.02-.022a.53.53 0 00-.074-.054 1.566 1.566 0 00-.277-.131 4.035 4.035 0 00-.888-.207c-.697-.088-1.469-.032-1.998.273z",fill:"url(#prefix__paint6_linear_440_141)",stroke:"url(#prefix__paint7_linear_440_141)",strokeWidth:.5}),Object(f.jsx)("path",{d:"M20.205 15.984c.549.317.817.707.902 1.103.087.4-.008.848-.261 1.288-.254.44-.595.745-.985.87-.386.125-.857.087-1.406-.23-.529-.305-.963-.946-1.236-1.593a4.035 4.035 0 01-.264-.872 1.57 1.57 0 01-.025-.306.51.51 0 01.01-.09c.004-.021.009-.03.008-.03 0 0 0 0 0 0v.001s.005-.008.021-.022a.53.53 0 01.073-.054c.067-.042.16-.087.277-.131.235-.088.545-.164.889-.207.696-.088 1.468-.032 1.997.273z",fill:"url(#prefix__paint8_linear_440_141)",stroke:"url(#prefix__paint9_linear_440_141)",strokeWidth:.5}),Object(f.jsx)("path",{d:"M11.67 10.768c-1.196-.69-2.18-.225-2.732.732s-.464 2.042.732 2.732c1.196.69 3.348.2 3.598-.232.25-.433-.402-2.542-1.598-3.232z",fill:"url(#prefix__paint10_linear_440_141)"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_141",x1:0,y1:0,x2:27.5,y2:27.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#F3CE4C"}),Object(f.jsx)("stop",{offset:1,stopColor:"#E8A912"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_141",x1:17.5,y1:22.625,x2:17.5,y2:20,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#E29800"}),Object(f.jsx)("stop",{offset:1,stopColor:"#E29800",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_141",x1:15,y1:13,x2:15,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_141",x1:15,y1:13,x2:15,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_141",x1:15,y1:17,x2:14.835,y2:19.714,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_141",x1:16.732,y1:14,x2:19,y2:12.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint6_linear_440_141",x1:13.268,y1:16,x2:8.938,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint7_linear_440_141",x1:13.268,y1:16,x2:8.938,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint8_linear_440_141",x1:16.732,y1:16,x2:21.062,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:0}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint9_linear_440_141",x1:16.732,y1:16,x2:21.062,y2:18.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.38}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint10_linear_440_141",x1:13.268,y1:14,x2:11,y2:12.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.66}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff"})]})]})]}))};var p=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:8,fill:"url(#prefix__paint0_linear_440_718)"}),Object(f.jsx)("path",{fill:"url(#prefix__paint1_linear_440_718)",d:"M10 12h10v5H10z"}),Object(f.jsx)("path",{d:"M12 19.5h6V22h-6v-2.5z",fill:"url(#prefix__paint2_linear_440_718)"}),Object(f.jsx)("path",{d:"M8 8h3v3H8V8z",fill:"url(#prefix__paint3_linear_440_718)"}),Object(f.jsx)("path",{d:"M19 8h3v3h-3V8z",fill:"url(#prefix__paint4_linear_440_718)"}),Object(f.jsx)("path",{d:"M8 19h3v4H8v-4z",fill:"url(#prefix__paint5_linear_440_718)"}),Object(f.jsx)("path",{d:"M22 19h-3v4h3v-4z",fill:"url(#prefix__paint6_linear_440_718)"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.272 11.184a1 1 0 01.949-.684h7.559a1 1 0 01.948.684l.564 1.692a.474.474 0 11-.9.3l-.225-.676H16.5a.5.5 0 00-.5.5v5.5a.5.5 0 00.5.5h1.3c.11 0 .2.09.2.2v.6a.2.2 0 01-.2.2h-5.6a.2.2 0 01-.2-.2v-.6c0-.11.09-.2.2-.2h1.3a.5.5 0 00.5-.5V13a.5.5 0 00-.5-.5h-2.667l-.225.676a.474.474 0 01-.9-.3l.564-1.692zM11 7H7v4h1.5V8.5H11V7zM11 23H7v-4h1.5v2.5H11V23zM19 7h4v4h-1.5V8.5H19V7zM19 23h4v-4h-1.5v2.5H19V23z",fill:"#fff"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_718",x1:15,y1:0,x2:27,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#285DE7"}),Object(f.jsx)("stop",{offset:1,stopColor:"#0F48D7"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_718",x1:15,y1:12.5,x2:15,y2:17,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_718",x1:15,y1:20.333,x2:15,y2:22,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_718",x1:9.5,y1:8.5,x2:9.5,y2:11,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint4_linear_440_718",x1:20.5,y1:8.5,x2:20.5,y2:11,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint5_linear_440_718",x1:8,y1:23,x2:11,y2:23,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint6_linear_440_718",x1:22,y1:23,x2:19,y2:23,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.141,stopColor:"#0239C6"}),Object(f.jsx)("stop",{offset:1,stopColor:"#1F53DC",stopOpacity:0})]})]})]}))};var v,b=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,fill:"none"},e),{},{children:[Object(f.jsx)("rect",{width:30,height:30,rx:10,fill:"url(#prefix__paint0_linear_440_114)"}),Object(f.jsx)("path",{d:"M15.5 24l-8-2 8-1.5 8 1.5-8 2z",fill:"url(#prefix__paint1_linear_440_114)"}),Object(f.jsx)("path",{opacity:.9,d:"M7.5 11.239a1 1 0 01.706-.956l4.5-1.385A1 1 0 0114 9.854v10.292a1 1 0 01-1.294.956l-4.5-1.385a1 1 0 01-.706-.956V11.24z",fill:"#fff"}),Object(f.jsx)("path",{d:"M23.4 11.239a.9.9 0 00-.635-.86l-4.5-1.385a.9.9 0 00-1.165.86v10.292a.9.9 0 001.165.86l4.5-1.384a.9.9 0 00.635-.86v-7.523z",fill:"url(#prefix__paint2_linear_440_114)",stroke:"url(#prefix__paint3_linear_440_114)",strokeWidth:.2}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.75 7h-.5v2h.5V7zm0 3h-.5v2h.5v-2zm-.5 3h.5v2h-.5v-2zm.5 3h-.5v2h.5v-2zm-.5 3h.5v2h-.5v-2zm.5 3h-.5v2h.5v-2z",fill:"#fff"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_440_114",x1:15,y1:0,x2:28,y2:30,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#B04CFF"}),Object(f.jsx)("stop",{offset:1,stopColor:"#864CFF"})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_440_114",x1:15.5,y1:24.5,x2:15.5,y2:20.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{offset:.258,stopColor:"#632AD9"}),Object(f.jsx)("stop",{offset:1,stopColor:"#632AD9",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint2_linear_440_114",x1:17,y1:14.5,x2:24,y2:14.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.56}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:.03})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint3_linear_440_114",x1:17,y1:16,x2:19,y2:16,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#fff",stopOpacity:.34}),Object(f.jsx)("stop",{offset:1,stopColor:"#fff",stopOpacity:0})]})]})]}))};!function(e){e[e.VIDEO=0]="VIDEO",e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.TRANSITION=3]="TRANSITION",e[e.GIF=4]="GIF",e[e.TEXT=5]="TEXT",e[e.LOTTIE=6]="LOTTIE"}(v||(v={}));var x,j,g,m;!function(e){e[e.CUSTOM=0]="CUSTOM",e[e.FILL=1]="FILL",e[e.CONTAIN=2]="CONTAIN",e[e.COVER=3]="COVER"}(x||(x={})),function(e){e[e.NO_EFFECT=0]="NO_EFFECT",e[e.GRAY=1]="GRAY",e[e.TRIANGLE_BLUR=2]="TRIANGLE_BLUR",e[e.GAUSSIAN_BLUR=3]="GAUSSIAN_BLUR"}(j||(j={})),function(e){e[e.MORPH=0]="MORPH",e[e.DREAMY=1]="DREAMY",e[e.FADE=2]="FADE",e[e.HEXAGONALIZE=3]="HEXAGONALIZE",e[e.GLITCH_MEMORIES=4]="GLITCH_MEMORIES"}(g||(g={})),function(e){e[e.PLUNGING=0]="PLUNGING"}(m||(m={}));var O,y,w,k,C,I,T,_,A,E,R,z,S=[{name:"dreamy",transition:g.DREAMY},{name:"fade",transition:g.FADE},{name:"morph",transition:g.MORPH},{name:"hexagonalize",transition:g.HEXAGONALIZE},{name:"glitch memories",transition:g.GLITCH_MEMORIES}],F={videos:[{name:"video-leaf",url:"asset/1.mp4"},{name:"video-cartoon",url:"asset/3.webm"}].map((function(e){return Object(u.a)({type:v.VIDEO},e)})),images:[{name:"image-dawn",url:"https://images.unsplash.com/photo-1634322474954-d69e93a8480b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2370&q=80"},{name:"image-monkey",url:"asset/1.png"}].map((function(e){return Object(u.a)({type:v.IMAGE},e)})),audios:[{name:"music-sky",url:"asset/1.mp3"},{name:"music-jay",url:"asset/2.mp3"}].map((function(e){return Object(u.a)({type:v.AUDIO},e)})),transitions:S.map((function(e){return Object(u.a)({type:v.TRANSITION},e)})),gifs:[{name:"gif-horses",url:"asset/horses.gif"},{name:"gif-love",url:"asset/1.gif"}].map((function(e){return Object(u.a)({type:v.GIF},e)})),texts:[{name:"\u6587\u672c",value:"\u6dfb\u52a0\u6587\u672c"}].map((function(e){return Object(u.a)({type:v.TEXT},e)})),lotties:[{name:"lottie-word",url:"asset/word.json"}].map((function(e){return Object(u.a)({type:v.LOTTIE},e)}))},M=s.b.div(O||(O=Object(r.a)(["\n  width: 30px;\n  height: 30px;\n  background: #26384E;\n  border: 1px solid #2A3F5F;\n  box-sizing: border-box;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg path {\n    fill: #7B9FD6;\n    transition: fill 0.3s;\n  }\n\n  &:hover {\n    background: #3A36E4 !important;\n    color: #fff !important;\n    border-color: #3648E0 !important;\n\n    svg path {\n      fill: #fff;\n    }\n  }\n\n  &.disabled {\n    pointer-events: none;\n    background: #1F2836;\n    color: #475d80;\n    border-color: #222B3A !important;\n\n    svg path {\n      fill: #475d80;\n    }\n  }\n\n  &.warn:hover {\n    background: #E62519;\n    border-color: #EF3327;\n  }\n"]))),L=s.b.div(y||(y=Object(r.a)(["\n  height: 24px;\n  padding: 0 14px;\n  background: #1F2836;\n  box-sizing: border-box;\n  border-radius: 99px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  svg path {\n    fill: #7B9FD6;\n    transition: fill 0.3s;\n  }\n\n  &:hover {\n    background: #3A36E4;\n    color: #fff;\n    border-color: #3648E0;\n\n    svg path {\n      fill: #fff;\n    }\n  }\n\n  &.disabled {\n    pointer-events: none;\n    background: #1b1f25;\n    color: #475d80;\n    border-color: #101214;\n\n    svg path {\n      fill: #475d80;\n    }\n  }\n\n  &.warn:hover {\n    background: #E62519;\n  }\n"]))),U=s.b.div(w||(w=Object(r.a)(["\n  width: 80px;\n  height: 76px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 4px 26px 0 0;\n  cursor: pointer;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  position: relative;\n  flex-shrink: 0;\n\n  &.active::before {\n    content: '';\n    position: absolute;\n    width: 20px;\n    height: 3px;\n    border-radius: 2px;\n    top: -3px;\n  }\n\n  &.active {\n    background-color: #1A212A;\n\n    &:nth-child(1)::before {\n      background: #EFCC4F;\n    }\n    &:nth-child(2)::before {\n      background: #B04CFF;\n    }\n    &:nth-child(3)::before {\n      background: #2057E2;\n    }\n    &:nth-child(4)::before {\n      background: #097E3B;\n    }\n    &:nth-child(5)::before {\n      background: #EF1DAE;\n    }\n    &:nth-child(6)::before {\n      background: #2057E2;\n    }\n    &:nth-child(7)::before {\n      background: #EFCC4F;\n    }\n  }\n\n  &:hover {\n    background-color: #1C2530;\n  }\n\n  .icon {\n    width: 30px;\n    height: 30px;\n  }\n\n  .title {\n    margin-top: 10px;\n    font-size: 14px;\n    line-height: 16px;\n    color: #516482;\n  }\n"]))),D=s.b.div(k||(k=Object(r.a)(["\n  margin: -8px 0 24px 0;\n  display: flex;\n  flex-grow: 1;\n  width: 100%;\n  padding-right: 36px;\n  justify-content: space-between;\n"]))),N=s.b.div(C||(C=Object(r.a)(["\n  display: flex;\n  border-radius: 10px;\n  height: 30px;\n  color: #516482;\n  padding: 0 12px;\n  align-items: center;\n  &:hover {\n    color: #81ACF0;\n    background: #26384E;\n  }\n  &.active {\n    color: #81ACF0;\n    background: #26384E;\n  }\n"]))),G=s.b.div(I||(I=Object(r.a)(["\n  border-radius: 4px;\n  color: #81ACF0;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  margin-bottom: 10px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n  &:hover, &.active {\n    background: #26384E;\n  }\n"]))),H=s.b.div(T||(T=Object(r.a)(["\n  margin-bottom: 40px;\n  .asset-title {\n    color: #7185A6;\n    font-size: 14px;\n    line-height: 14px;\n    max-width: 200px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  &:hover {\n    .asset-title {\n      color: #fff;\n    }\n  }\n"]))),P=s.b.div(_||(_=Object(r.a)(["\n  width: 200px;\n  height: 112px;\n  margin: 0 36px 20px 0;\n"]))),B=s.b.div(A||(A=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  cursor: move;\n  overflow: hidden;\n  position: relative;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    vertical-align: unset;\n  }\n\n  video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .title {\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    color: #D5D5D5;\n    font-size: 12px;\n    height: 12px;\n    line-height: 12px;\n  }\n"]))),V=s.b.div(E||(E=Object(r.a)(["\n  display: flex;\n\n  >* {\n    margin-right: 10px;\n  }\n"]))),Y=n(22),W=n(209),q=n(2),X=n.n(q),J=n(7),Z=n(103),Q=n.n(Z);function K(e,t){Object.keys(t).forEach((function(n){e.style.setProperty(n.replace(/([A-Z])/g,"-$1").toLowerCase(),t[n])}))}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="",i=e%1e3;(i||t)&&(r=".".concat(String(i).padStart(3,"0")));var a=(e-i)/1e3,o=a%60;r="".concat(String(o).padStart(2,"0")).concat(r);var c=(a-o)/60,s=c%60;r="".concat(String(s).padStart(2,"0"),":").concat(r);var l=(c-s)/60;return(n||l)&&(r="".concat(String(l).padStart(2,"0"),":").concat(r)),r}function ee(e,t,n){return new Promise((function(r,i){var a=t.width,o=t.height,c=new Image;c.width=a,c.height=o,c.onload=function(){n&&(n.clearRect(0,0,a,o),n.drawImage(c,0,0)),r(!0)},c.onerror=function(e){i(e)},c.src="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(e.trim()))))}))}function te(e){return new Promise((function(t){window.setTimeout(t,e)}))}function ne(e,t){var n=document.createElement("a");if(n.href=e,n.target="_blank",n.download=t,navigator.userAgent.toLowerCase().match(/(ipad|iphone|safari)/)&&navigator.userAgent.search("Chrome")<0)document.location=n.href;else{var r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(r),(window.URL||window.webkitURL).revokeObjectURL(n.href)}}function re(e){var t=e.props,n=t.fontColor,r=t.fontSize,i=t.fontFamily;return["color:".concat(n),"font-size:".concat(r,"px"),"line-height:".concat(r+6,"px"),"font-family:".concat(i),"font-weight:200","display:inline-block","transform-origin:left top","transform:scale(".concat(2,")"),"position:fixed"].join(";")}function ie(e){var t=document.querySelector(".div-for-text-size-calc");t||((t=document.createElement("div")).setAttribute("class","div-for-text-size-calc"),document.body.appendChild(t)),t.innerText=e.value,t.style.cssText=re(e);var n=t.getBoundingClientRect();return{width:Math.ceil(n.width),height:Math.ceil(n.height)}}function ae(e,t){return new Promise((function(n){var r=Q.a.loadAnimation({container:e,loop:!1,autoplay:!1,renderer:"canvas",animationData:t});r.isLoaded?n(r):r.addEventListener("DOMLoaded",(function(){n(r)}))}))}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(J.a)(X.a.mark((function e(t){var n,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("div"),document.body.appendChild(n),e.next=4,ae(n,t);case 4:return r=e.sent,i={width:t.w,height:t.h,duration:Math.round(1e3*r.getDuration())},r.destroy(),document.body.removeChild(n),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.RATIO_16_9=0]="RATIO_16_9",e[e.RATIO_9_16=1]="RATIO_9_16",e[e.RATIO_4_3=2]="RATIO_4_3",e[e.RATIO_3_4=3]="RATIO_3_4",e[e.RATIO_21_9=4]="RATIO_21_9",e[e.RATIO_1_1=5]="RATIO_1_1"}(R||(R={})),function(e){e[e.ALL=0]="ALL",e[e.EW=1]="EW",e[e.NS=2]="NS"}(z||(z={}));var se,le=function(e){var t=e.children,n=e.direction,r=void 0===n?z.ALL:n,o=e.scrollContainerSelector,c=e.autoGrow,s=e.enable,u=void 0===s||s,d=e.attachData,h=e.slow,p=void 0===h?1:h,v=e.onStart,b=e.onMove,x=e.onEnd,j=Object(i.useRef)(null),g=Object(i.useRef)(0),m=Object(i.useRef)(0),O=Object(i.useRef)(0),y=Object(i.useRef)(""),w=Object(i.useRef)(0),k=Object(i.useRef)(0),C=Object(i.useRef)(0),I=Object(i.useRef)(0),T=Object(i.useRef)(!1),_=Object(i.useRef)(0),A=Object(i.useRef)(!1),E=Object(i.useRef)(!1),R=Object(i.useState)(),S=Object(l.a)(R,2),F=S[0],M=S[1];Object(i.useEffect)((function(){F&&(T.current?(_.current=0,null===x||void 0===x||x(F)):(_.current=_.current+1,_.current%p===0&&(null===b||void 0===b||b(F))),M(void 0))}),[F,x,b,p]);var L=Object(i.useCallback)((function(e,t,n){var i="";z.ALL===r&&(i="translate(".concat(t-g.current,"px, ").concat(n-m.current,"px)")),z.EW===r&&(i="translate(".concat(t-g.current,"px, ").concat(k.current,"px)")),z.NS===r&&(i="translate(".concat(w.current,"px, ").concat(n-m.current,"px)")),e.style.transform=i}),[r]),U=Object(i.useCallback)((function(e,t,n){O.current=window.setInterval((function(){var r=t.getBoundingClientRect();e>0&&c&&t.scrollLeft+r.width>n.clientWidth-100&&(n.style.width="".concat(n.clientWidth+100,"px")),t.scrollLeft+=2*e}),1e3/60)}),[c]),D=Object(i.useCallback)((function(e,t,n){if(O&&(window.clearInterval(O.current),O.current=0),o){var r=100,i=document.querySelector(o);if(!E.current){if(!(null===e||void 0===e?void 0:e.closest(o)))return;E.current=!0}if(null===i||void 0===i?void 0:i.parentElement){var a=i.parentElement,s=a.getBoundingClientRect(),l=0;t>s.right-r?(c&&a.scrollLeft+s.width>i.clientWidth-100&&(i.style.width="".concat(i.clientWidth+100,"px")),l=5*(1+Math.min((t-s.right+r)/r,1))):t<s.left+r&&(l=-5*(1+Math.min((s.left+r-t)/r,1))),0!==l&&(a.scrollLeft+=l,U(l,a,i))}}}),[c,U,o]),N=Object(i.useCallback)((function(e){var t=j.current;if(t){t.hidden=!0;var n=document.elementFromPoint(e.clientX,e.clientY);L(t,e.pageX,e.pageY),D(n,e.pageX,e.pageY);var r=e.pageX-g.current,i=e.pageY-m.current,a=r-C.current,o=i-I.current;0===a&&0===o||(A.current=!0,M({element:t,belowElement:n,left:r,top:i,originalLeft:w.current,originalTop:k.current,stepLeft:r-C.current,stepTop:i-I.current,cursorLeft:e.pageX,cursorTop:e.pageY,attachData:d,isMoved:A.current}),C.current=r,I.current=i),t.hidden=!1}}),[L,D,d]),G=Object(i.useCallback)((function(e){var t=e.pageX,n=e.pageY,r=j.current;if(r){r.hidden=!0;var i=document.elementFromPoint(e.clientX,e.clientY);r.hidden=!1,r.classList.remove("dragged"),r.setAttribute("style",y.current),T.current=!0,M({element:r,belowElement:i,left:t-g.current,top:n-m.current,originalLeft:w.current,originalTop:k.current,stepLeft:0,stepTop:0,cursorLeft:t,cursorTop:n,attachData:d,isMoved:A.current})}window.clearInterval(O.current),window.removeEventListener("mousemove",N,!1),window.removeEventListener("mouseup",G,!1)}),[d,N]),H=Object(i.useCallback)((function(e){if(e.stopPropagation(),function(e){return!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)&&("buttons"in e?1===e.buttons:"which"in e?1===e.which:1===e.button||"click"===e.type)}(e)&&j.current){T.current=!1;var t=j.current,n=t.getBoundingClientRect(),r=n.left,i=n.top,a=n.width,o=n.height;g.current=e.clientX-r,m.current=e.clientY-i,y.current=t.getAttribute("style")||"",w.current=r,k.current=i,C.current=r,I.current=i,E.current=!1,A.current=!1,K(t,{transform:"translate(".concat(r,"px, ").concat(i,"px)"),width:"".concat(a,"px"),height:"".concat(o,"px")}),t.classList.add("dragged"),null===v||void 0===v||v(),L(t,e.pageX,e.pageY),window.addEventListener("mousemove",N,!1),window.addEventListener("mouseup",G,!1)}}),[N,G,L,v]);return Object(i.useEffect)((function(){var e=j.current;if(e&&u)return e.addEventListener("mousedown",H,!1),function(){e.removeEventListener("mousedown",H,!1)}}),[j,u,H]),Object(f.jsx)(f.Fragment,{children:a.a.cloneElement(t,{ref:function(e){return j.current=e}})})};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VIDEO=1]="VIDEO",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.TRANSITION=4]="TRANSITION",e[e.SVG=5]="SVG",e[e.LOTTIE=6]="LOTTIE",e[e.TEXT=7]="TEXT",e[e.GIF=8]="GIF"}(se||(se={}));var ue=n(14),fe=n(15),de=n(29),he=n(25),pe=n(30),ve=n(28),be=n(9),xe=n(32),je=new Map;function ge(e,t,n){var r;if(!je.has(e)){var i=new Set;je.set(e,Object(xe.a)({},t,i))}var a=je.get(e);a&&!a[t]&&(a[t]=new Set),null===(r=je.get(e))||void 0===r||r[t].add(n);var o=e[t];Object.defineProperty(e,t,{get:function(){return o},set:function(n){var r,i=o;(o=n,n!==i)&&(null===(r=je.get(e))||void 0===r||r[t].forEach((function(e){e(n,i)})))}})}var me,Oe,ye,we,ke=n(23);var Ce,Ie,Te,_e,Ae,Ee=function(){function e(){Object(ue.a)(this,e)}return Object(fe.a)(e,null,[{key:"GetVertex",value:function(){return Object(ke.glsl)(me||(me=Object(r.a)(["\n      varying vec2 texCoords;\n      void main() {\n        texCoords = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    "])))}},{key:"GetFragment",value:function(){return Object(ke.glsl)(Oe||(Oe=Object(r.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D tex;\n      void main() {\n        gl_FragColor = texture2D(tex, texCoords);\n      }\n    "])))}},{key:"GetEffectFragment",value:function(e){var t=e.effect;return Object(ke.glsl)(ye||(ye=Object(r.a)(["\n      varying vec2 texCoords;\n      uniform vec2 uRange;\n      uniform vec2 vRange;\n      uniform sampler2D tex;\n      ","\n      vec4 getColor(vec2 uv) {\n        vec2 newUV = vec2(uRange.x + uv.x * (uRange.y - uRange.x), vRange.x + uv.y * (vRange.y - vRange.x));\n        vec4 color = effect(newUV);\n        if(newUV.x>1. || newUV.x<0. || newUV.y>1. || newUV.y<0.){\n          return vec4(0.,0.,0.,0.);\n        }\n        return color;\n      }\n      void main() {\n        gl_FragColor = getColor(texCoords);\n      }\n    "])),t)}},{key:"GetTransitionFragment",value:function(e){return Object(ke.glsl)(we||(we=Object(r.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D from, to;\n      uniform float progress;\n      vec4 getFromColor(vec2 uv) {\n        return texture2D(from, uv);\n      }\n      vec4 getToColor(vec2 uv) {\n        return texture2D(to, uv);\n      }\n      ","\n      void main() {\n        gl_FragColor = transition(texCoords);\n      }\n    "])),e)}}]),e}();var Re=(Ae={},Object(xe.a)(Ae,j.NO_EFFECT,(function(e){return e.texture})),Object(xe.a)(Ae,j.GRAY,(function(e){var t=e.config,n=t.originalWidth,i=t.originalHeight,a=e.texture,o=e.painter,c=new be.WebGLRenderTarget(n,i,{depthBuffer:!1,stencilBuffer:!1,minFilter:be.LinearFilter,magFilter:be.LinearFilter}),s=new be.OrthographicCamera(n/-2,n/2,i/2,i/-2,-1e4,1e4),l=new be.PlaneGeometry(n,i),u=new be.ShaderMaterial({uniforms:{tex:{value:a}},vertexShader:Ee.GetVertex(),fragmentShader:Object(ke.glsl)(Ce||(Ce=Object(r.a)(["\n      varying vec2 texCoords;\n      uniform sampler2D tex;\n      void main() {\n        vec4 color = texture2D(tex, texCoords);\n        float gray = (color.r+color.g+color.b)/3.;\n        gl_FragColor = vec4(gray,gray,gray,color.a);\n      }\n    "])))}),f=new be.Mesh(l,u),d=new be.Scene;return d.add(f),o.render(c,d,s),c.texture})),Object(xe.a)(Ae,j.GAUSSIAN_BLUR,(function(e){var t=e.config,n=t.originalWidth,i=t.originalHeight,a=e.texture,o=e.painter,c=new be.WebGLRenderTarget(n,i,{depthBuffer:!1,stencilBuffer:!1,minFilter:be.LinearFilter,magFilter:be.LinearFilter}),s=new be.WebGLRenderTarget(n,i,{depthBuffer:!1,stencilBuffer:!1,minFilter:be.LinearFilter,magFilter:be.LinearFilter}),l=new be.OrthographicCamera(n/-2,n/2,i/2,i/-2,-1e4,1e4),u=new be.PlaneGeometry(n,i),f=new be.ShaderMaterial({uniforms:{iResolution:{value:new be.Vector3(n,i,0)},iChannel0:{value:a},direction:{value:new be.Vector2(0,0)}},vertexShader:Object(ke.glsl)(Ie||(Ie=Object(r.a)(["\n      void main() {\n        gl_Position = vec4(position, 1.0);\n      }\n    "]))),fragmentShader:Object(ke.glsl)(Te||(Te=Object(r.a)(["\n      uniform vec3 iResolution;\n      uniform sampler2D iChannel0;\n      uniform vec2 direction;\n      vec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n        vec4 color = vec4(0.0);\n        vec2 off1 = vec2(1.411764705882353) * direction;\n        vec2 off2 = vec2(3.2941176470588234) * direction;\n        vec2 off3 = vec2(5.176470588235294) * direction;\n        color += texture2D(image, uv) * 0.1964825501511404;\n        color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n        color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n        color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n        color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n        color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n        color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n        return color;\n      }\n      vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n        vec4 color = vec4(0.0);\n        vec2 off1 = vec2(1.3846153846) * direction;\n        vec2 off2 = vec2(3.2307692308) * direction;\n        color += texture2D(image, uv) * 0.2270270270;\n        color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n        color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n        color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n        color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n        return color;\n      }\n      vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n        vec4 color = vec4(0.0);\n        vec2 off1 = vec2(1.3333333333333333) * direction;\n        color += texture2D(image, uv) * 0.29411764705882354;\n        color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n        color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n        return color; \n      }\n      void main() {\n        vec2 uv = vec2(gl_FragCoord.xy / iResolution.xy);\n        gl_FragColor = blur13(iChannel0, uv, iResolution.xy, direction);\n      }\n    "])))}),d=new be.Mesh(u,f),h=new be.Scene;h.add(d);for(var p=0;p<8;p++){var v=.5*(8-p-1);f.uniforms.iChannel0.value=0===p?a:s.texture,f.uniforms.direction.value=p%2===0?new be.Vector2(v,0):new be.Vector2(0,v),f.uniformsNeedUpdate=!0,o.render(c,h,l);var b=c;c=s,s=b}return s.texture})),Object(xe.a)(Ae,j.TRIANGLE_BLUR,(function(e){var t=e.config,n=t.originalWidth,i=t.originalHeight,a=e.painter,o=new be.WebGLRenderTarget(n,i,{depthBuffer:!1,stencilBuffer:!1,minFilter:be.LinearFilter,magFilter:be.LinearFilter}),c=new be.WebGLRenderTarget(n,i,{depthBuffer:!1,stencilBuffer:!1,minFilter:be.LinearFilter,magFilter:be.LinearFilter}),s=new be.OrthographicCamera(n/-2,n/2,i/2,i/-2,-1e4,1e4),l=new be.PlaneGeometry(n,i),u=new be.ShaderMaterial({uniforms:{tex:{value:e.texture},delta:{value:new be.Vector2(30/n,0)}},vertexShader:Ee.GetVertex(),fragmentShader:Object(ke.glsl)(_e||(_e=Object(r.a)(["\n      uniform sampler2D tex;\n      uniform vec2 delta;\n      varying vec2 texCoords;\n      float random(vec3 scale, float seed) {\n        /* use the fragment position for a different seed per-pixel */\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n      }\n      void main() {\n        vec4 color = vec4(0.0);\n        float total = 0.0;\n        /* randomize the lookup values to hide the fixed number of samples */\n        float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n        for (float t = -30.0; t <= 30.0; t++) {\n            float percent = (t + offset - 0.5) / 30.0;\n            float weight = 1.0 - abs(percent);\n            vec4 texColor = texture2D(tex, texCoords + delta * percent);\n            /* switch to pre-multiplied alpha to correctly blur transparent images */\n            texColor.rgb *= texColor.a;\n            color += texColor * weight;\n            total += weight;\n        }\n        gl_FragColor = color / total;\n        /* switch back from pre-multiplied alpha */\n        gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n      }\n    "])))});u.uniformsNeedUpdate=!0;var f=new be.Mesh(l,u),d=new be.Scene;d.add(f);for(var h=0;h<2;h++){1===h&&(u.uniforms.tex.value=c.texture,u.uniforms.delta.value=new be.Vector2(0,30/i)),a.render(o,d,s);var p=o;o=c,c=p}return c.texture})),Ae);var ze,Se,Fe,Me,Le,Ue,De=function(){function e(t,n){Object(ue.a)(this,e),this.isAttachToPainter=!1,this.isEntered=!1,this.player=void 0,this.painter=void 0,this.geometry=void 0,this.material=void 0,this.sprite=void 0,this.config=void 0,this.texture=void 0,this.renderTarget=void 0,this.renderTargetCamera=void 0,this.renderTargetScene=void 0,this.config=t,this.player=n,this.painter=n.painter;var r=n.width,i=n.height;this.renderTarget=new be.WebGLRenderTarget(n.width,n.height,{depthBuffer:!1,stencilBuffer:!1,minFilter:be.LinearFilter,magFilter:be.LinearFilter}),this.renderTargetCamera=this.painter.createCamera(0,r,0,i),this.renderTargetScene=new be.Scene;var a=this.config.geometryInfo.size,o=a.width,c=a.height;this.geometry=new be.PlaneBufferGeometry(o,c),this.setSize(),this.watch()}return Object(fe.a)(e,[{key:"updateTexture",value:function(){if(this.material){var e=(t=this.config.effect,Re[t||j.NO_EFFECT])(this);this.material.uniforms.tex.value=e}var t}},{key:"setSize",value:function(){var e=this.config.geometryInfo.size,t=e.width,n=e.height,r=new Float32Array([0,0,0,t,0,0,0,n,0,t,n,0]);this.geometry.setAttribute("position",new be.BufferAttribute(r,3)),this.geometry.center()}},{key:"updateRotate",value:function(){this.sprite&&(this.sprite.rotation.z=this.config.geometryInfo.rotate/180*Math.PI)}},{key:"updatePosition",value:function(){var e=this.config.geometryInfo.position,t=e.x,n=e.y,r=this.config.geometryInfo.size,i=r.width,a=r.height;this.sprite&&(this.sprite.position.x=t+i/2,this.sprite.position.y=n+a/2)}},{key:"watch",value:function(){var e=this;ge(this.config.geometryInfo,"rotate",(function(){e.updateRotate()})),ge(this.config.geometryInfo,"size",(function(){e.setSize()})),ge(this.config.geometryInfo,"position",(function(){e.updatePosition()})),ge(this.config,"effect",(function(){e.updateTexture()})),ge(this.config,"zIndex",(function(t){e.sprite&&(e.sprite.position.z=t)}))}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"show",value:function(){this.sprite&&(this.sprite.visible=!0)}},{key:"hide",value:function(){this.sprite&&(this.sprite.visible=!1)}},{key:"updatePlaybackRate",value:function(){}},{key:"getOriginalDuration",value:function(){return this.config.playRange.end-this.config.playRange.start}},{key:"addToPainter",value:function(){!this.isAttachToPainter&&this.sprite&&this.config.id&&(this.isAttachToPainter=!0,this.player.painter.add(this.sprite,this.config.id))}},{key:"removeFromPainter",value:function(){this.isAttachToPainter&&this.config.id&&(this.isAttachToPainter=!1,this.player.painter.remove(this.config.id))}},{key:"renderToTexture",value:function(){if(this.sprite){this.renderTargetScene.clear();var e=this.sprite.clone();e.visible=!0,this.renderTargetScene.add(e),this.painter.render(this.renderTarget,this.renderTargetScene,this.renderTargetCamera)}}},{key:"onEnter",value:function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.renderTargetScene.clear(),this.renderTarget.dispose(),t=this.config,je.has(t)&&je.delete(t),this.removeFromPainter();case 4:case"end":return e.stop()}var t}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ne=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).context=new AudioContext,e.audioBuffer=void 0,e.source=void 0,e.playbackRate=1,e.isPlaying=!1,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAudioBuffer();case 3:this.audioBuffer=e.sent,this.updatePlaybackRate(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioBuffer",value:function(){var e=this;return new Promise((function(t,n){e.context.decodeAudioData(e.config.buffer.slice(0),(function(e){e?t(e):n(!1)}),(function(e){n(e)}))}))}},{key:"play",value:function(){if(this.audioBuffer){var e=this.context.createBufferSource();e.buffer=this.audioBuffer,e.loop=!1,e.start(0,(this.config.playRange.start+(this.player.currentTime-this.config.timelineInfo.start)*this.playbackRate)/1e3),this.isPlaying=!0,this.source=e,this.source.connect(this.context.destination)}}},{key:"pause",value:function(){this.source&&(this.source.stop(),this.isPlaying=!1)}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.timelineInfo.duration}},{key:"onEnter",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.play();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.pause();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.pause(),this.player.isPlaying&&this.play());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.source)||void 0===t||t.stop();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De),Ge=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){return Object(ue.a)(this,n),t.apply(this,arguments)}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createTexture",value:function(){var e=this;return new Promise((function(t){(new be.TextureLoader).load(e.config.blobUrl,(function(e){t(e)}))}))}},{key:"initRender",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createTexture();case 2:this.texture=e.sent,this.material=new be.ShaderMaterial({uniforms:{tex:{value:this.texture}},vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetFragment()}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex,this.updatePosition(),this.updateRotate();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),this.geometry.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De),He=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).lottieInstance=void 0,e.container=document.createElement("div"),e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(this.container,{width:"".concat(2*this.config.originalWidth,"px"),height:"".concat(2*this.config.originalHeight,"px")}),document.body.appendChild(this.container),e.next=4,this.initLottie();case 4:this.initRender();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initLottie",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.container,this.config.animationData);case 2:this.lottieInstance=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initRender",value:function(){var e=this.container.querySelector("canvas");this.lottieInstance&&e&&(this.texture=new be.CanvasTexture(e),this.material=new be.ShaderMaterial({uniforms:{tex:{value:this.texture}},vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetFragment()}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex,this.updatePosition(),this.updateRotate())}},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.texture&&this.lottieInstance&&(t=this.player.currentTime,this.lottieInstance.goToAndStop(t-this.config.timelineInfo.start),this.texture.needsUpdate=!0,this.updateTexture());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.lottieInstance)||void 0===t||t.destroy(),null===(r=this.geometry)||void 0===r||r.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De),Pe=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).canvas=document.createElement("canvas"),e.context=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initCanvas(),this.initRender();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initCanvas",value:function(){var e=this.painter.getRealSize(),t=e.width,n=e.height;this.canvas.width=t,this.canvas.height=n,this.context=this.canvas.getContext("2d")}},{key:"initRender",value:function(){this.texture=new be.CanvasTexture(this.canvas),this.material=new be.ShaderMaterial({uniforms:{tex:{value:this.texture}},vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetFragment()}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex,this.updatePosition(),this.updateRotate()}},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n,r,i,a,o,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.texture){e.next=9;break}return t=this.config.timelineInfo,n=t.start,r=t.end,i=this.player.currentTime,a=this.painter.getRealSize(),o=a.width,c=a.height,s=this.config.func({start:n,end:r,currentTime:i,width:o,height:c}),e.next=7,ee(s,this.canvas,this.context);case 7:this.texture.needsUpdate=!0,this.updateTexture();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.geometry)||void 0===t||t.dispose(),null===(r=this.material)||void 0===r||r.dispose();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De),Be=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).canvas=document.createElement("canvas"),e.context=void 0,e.texture=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initTexture();case 2:this.initRender(),this.watchChange();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;ge(this.config,"value",Object(J.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateCanvas();case 2:e.texture.needsUpdate=!0;case 3:case"end":return t.stop()}}),t)}))))}},{key:"updateCanvas",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n,r,i,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.config,r=n.originalWidth,i=n.originalHeight,this.canvas.width=r,this.canvas.height=i,null===(t=this.context)||void 0===t||t.clearRect(0,0,r,i),o=this.config,a='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">\n    <foreignObject width="100%" height="100%">\n      <div xmlns="http://www.w3.org/1999/xhtml">\n        <div style="'.concat(re(o),'">\n          ').concat(o.value.replace(/\n/gi,"<br />"),"\n        </div>\n      </div>\n    </foreignObject>\n  </svg>"),e.next=7,ee(a,this.canvas,this.context);case 7:case"end":return e.stop()}var o}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initTexture",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context=this.canvas.getContext("2d"),e.next=3,this.updateCanvas();case 3:this.texture=new be.CanvasTexture(this.canvas);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initRender",value:function(){this.material=new be.ShaderMaterial({uniforms:{tex:{value:this.texture}},vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetFragment()}),this.material.transparent=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex,this.updatePosition(),this.updateRotate()}},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(r=this.geometry)||void 0===r||r.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De);var Ve=Object.freeze((Ue={},Object(xe.a)(Ue,g.MORPH,(function(){return{uniforms:{strength:{value:.1}},fragment:Object(ke.glsl)(ze||(ze=Object(r.a)(["\n      uniform float strength; // = 0.1\n      vec4 transition(vec2 p) {\n        vec4 ca = getFromColor(p);\n        vec4 cb = getToColor(p);\n        \n        vec2 oa = (((ca.rg+ca.b)*0.5)*2.0-1.0);\n        vec2 ob = (((cb.rg+cb.b)*0.5)*2.0-1.0);\n        vec2 oc = mix(oa,ob,0.5)*strength;\n        \n        float w0 = progress;\n        float w1 = 1.0-w0;\n        return mix(getFromColor(p+oc*w0), getToColor(p-oc*w1), progress);\n      }\n    "])))}})),Object(xe.a)(Ue,g.DREAMY,(function(){return{uniforms:{},fragment:Object(ke.glsl)(Se||(Se=Object(r.a)(["\n      vec2 offset(float progress, float x, float theta) {\n        float phase = progress*progress + progress + theta;\n        float shifty = 0.03*progress*cos(10.0*(progress+x));\n        return vec2(0, shifty);\n      }\n      vec4 transition(vec2 p) {\n        return mix(getFromColor(p + offset(progress, p.x, 0.0)), getToColor(p + offset(1.0-progress, p.x, 3.14)), progress);\n      }\n    "])))}})),Object(xe.a)(Ue,g.FADE,(function(){return{uniforms:{},fragment:Object(ke.glsl)(Fe||(Fe=Object(r.a)(["\n      vec4 transition(vec2 uv) {\n        return mix(\n          getFromColor(uv),\n          getToColor(uv),\n          progress\n        );\n      }\n    "])))}})),Object(xe.a)(Ue,g.HEXAGONALIZE,(function(e){return{uniforms:{steps:{value:50},horizontalHexagons:{value:20},ratio:{value:e.player.width/e.player.height}},fragment:Object(ke.glsl)(Me||(Me=Object(r.a)(["\n      uniform int steps; // = 50;\n      uniform float horizontalHexagons; //= 20;\n      uniform float ratio;\n      struct Hexagon {\n        float q;\n        float r;\n        float s;\n      };\n      \n      Hexagon createHexagon(float q, float r){\n        Hexagon hex;\n        hex.q = q;\n        hex.r = r;\n        hex.s = -q - r;\n        return hex;\n      }\n      \n      Hexagon roundHexagon(Hexagon hex){\n        float q = floor(hex.q + 0.5);\n        float r = floor(hex.r + 0.5);\n        float s = floor(hex.s + 0.5);\n        float deltaQ = abs(q - hex.q);\n        float deltaR = abs(r - hex.r);\n        float deltaS = abs(s - hex.s);\n        if (deltaQ > deltaR && deltaQ > deltaS)\n          q = -r - s;\n        else if (deltaR > deltaS)\n          r = -q - s;\n        else\n          s = -q - r;\n        return createHexagon(q, r);\n      }\n      \n      Hexagon hexagonFromPoint(vec2 point, float size) {\n        point.y /= ratio;\n        point = (point - 0.5) / size;\n        float q = (sqrt(3.0) / 3.0) * point.x + (-1.0 / 3.0) * point.y;\n        float r = 0.0 * point.x + 2.0 / 3.0 * point.y;\n        Hexagon hex = createHexagon(q, r);\n        return roundHexagon(hex);\n      }\n      \n      vec2 pointFromHexagon(Hexagon hex, float size) {\n        float x = (sqrt(3.0) * hex.q + (sqrt(3.0) / 2.0) * hex.r) * size + 0.5;\n        float y = (0.0 * hex.q + (3.0 / 2.0) * hex.r) * size + 0.5;\n        return vec2(x, y * ratio);\n      }\n      \n      vec4 transition (vec2 uv) {\n        float dist = 2.0 * min(progress, 1.0 - progress);\n        dist = steps > 0 ? ceil(dist * float(steps)) / float(steps) : dist;\n        float size = (sqrt(3.0) / 3.0) * dist / horizontalHexagons;\n        vec2 point = dist > 0.0 ? pointFromHexagon(hexagonFromPoint(uv, size), size) : uv;\n        return mix(getFromColor(point), getToColor(point), progress);\n      }\n    "])))}})),Object(xe.a)(Ue,g.GLITCH_MEMORIES,(function(){return{uniforms:{},fragment:Object(ke.glsl)(Le||(Le=Object(r.a)(["\n      vec4 transition(vec2 p) {\n        vec2 block = floor(p.xy / vec2(16));\n        vec2 uv_noise = block / vec2(64);\n        uv_noise += floor(vec2(progress) * vec2(1200.0, 3500.0)) / vec2(64);\n        vec2 dist = progress > 0.0 ? (fract(uv_noise) - 0.5) * 0.3 *(1.0 -progress) : vec2(0.0);\n        vec2 red = p + dist * 0.2;\n        vec2 green = p + dist * .3;\n        vec2 blue = p + dist * .5;\n        return vec4(mix(getFromColor(red), getToColor(red), progress).r,mix(getFromColor(green), getToColor(green), progress).g,mix(getFromColor(blue), getToColor(blue), progress).b,1.0);\n      }\n    "])))}})),Ue));var Ye=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).fromClip=void 0,e.toClip=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.watchChange();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"watchChange",value:function(){var e=this;this.fromClip&&this.toClip&&(ge(this.fromClip.config,"effect",(function(){e.updateFromClipTexture()})),ge(this.fromClip.config.geometryInfo,"size",(function(){e.updateFromClipTexture()})),ge(this.fromClip.config.geometryInfo,"position",(function(){e.updateFromClipTexture()})),ge(this.fromClip.config.geometryInfo,"rotate",(function(){e.updateFromClipTexture()})),ge(this.toClip.config,"effect",(function(){e.updateToClipTexture()})),ge(this.toClip.config.geometryInfo,"size",(function(){e.updateToClipTexture()})),ge(this.toClip.config.geometryInfo,"position",(function(){e.updateToClipTexture()})),ge(this.toClip.config.geometryInfo,"rotate",(function(){e.updateToClipTexture()})))}},{key:"updateFromClipTexture",value:function(){this.fromClip&&this.material&&(this.fromClip.renderToTexture(),this.material.uniforms.from.value=this.fromClip.renderTarget.texture)}},{key:"updateToClipTexture",value:function(){this.toClip&&this.material&&(this.toClip.renderToTexture(),this.material.uniforms.to.value=this.toClip.renderTarget.texture)}},{key:"initRender",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n,r,i,a,o,c,s,l,f;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.player,n=this.config,r=n.fromId,i=n.toId,a=n.transition,o=this.fromClip=t.getClipById(r),c=this.toClip=t.getClipById(i),o&&c&&(o.renderToTexture(),c.renderToTexture(),s=Ve[a](this),l=s.uniforms,f=s.fragment,this.material=new be.ShaderMaterial({uniforms:Object(u.a)({from:{value:o.renderTarget.texture},to:{value:c.renderTarget.texture},progress:{value:0}},l),vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetTransitionFragment(f)}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=c.config.zIndex,this.updatePosition());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEnter",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fromClip&&this.toClip&&(this.fromClip.hide(),this.toClip.hide(),this.onUpdate());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fromClip&&this.toClip&&(this.fromClip.show(),this.toClip.show());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n,r,i,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===(t=this.material)||void 0===t?void 0:t.uniforms)&&(n=this.config.timelineInfo,r=n.start,i=n.end,a=(this.player.currentTime-r)/(i-r),this.material.uniforms.progress.value=a);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(r=this.geometry)||void 0===r||r.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De),We=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).texture=void 0,e.video=void 0,e.playbackRate=1,e.isPlaying=!1,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initRender();case 2:this.updatePlaybackRate();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createTexture",value:function(){var e=this;return new Promise(function(){var t=Object(J.a)(X.a.mark((function t(n,r){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.video=document.createElement("video"),e.video.loop=!1,e.video.autoplay=!1,e.video.addEventListener("loadedmetadata",Object(J.a)(X.a.mark((function t(){var r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.video){t.next=6;break}return r=new be.VideoTexture(e.video),t.next=4,r.setCurrentTime(e.config.playRange.start);case 4:r.onUpdate=e.updateTexture,n(r);case 6:case"end":return t.stop()}}),t)})))),e.video.src=e.config.blobUrl;case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"initRender",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createTexture();case 2:this.texture=e.sent,this.material=new be.ShaderMaterial({uniforms:{tex:{value:this.texture}},vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetFragment()}),this.material.uniformsNeedUpdate=!0,this.material.transparent=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex,this.updatePosition(),this.updateRotate();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e;null===(e=this.video)||void 0===e||e.play(),this.isPlaying=!0}},{key:"pause",value:function(){var e;null===(e=this.video)||void 0===e||e.pause(),this.isPlaying=!1}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.timelineInfo.duration}},{key:"correctVideoCurrentTime",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.player.currentTime,this.video&&Math.abs(this.video.playbackRate-this.playbackRate)>=1e-5&&(this.video.playbackRate=this.playbackRate),n=this.config.playRange.start+(t-this.config.timelineInfo.start)*this.playbackRate,e.next=5,this.texture.setCurrentTime(n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEnter",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player.isPlaying&&this.play();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLeave",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pause(),!this.texture){e.next=4;break}return e.next=4,this.texture.setCurrentTime(this.config.playRange.start);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,this.correctVideoCurrentTime();case 3:this.updateTexture();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),this.video&&(this.video=void 0),null===(t=this.texture)||void 0===t||t.dispose(),null===(r=this.geometry)||void 0===r||r.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De),qe=n(104),Xe=function(){function e(){Object(ue.a)(this,e),this.items=[],this.pendingPromise=!1}return Object(fe.a)(e,[{key:"enqueue",value:function(e){var t=this;return new Promise((function(n,r){t.items.push({action:e,resolve:n,reject:r}),t.pendingPromise||t.dequeue()})).then((function(e){return e})).catch((function(e){throw new Error(e)})).finally((function(){t.pendingPromise=!1,t.dequeue()}))}},{key:"dequeue",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.items.shift()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,this.pendingPromise=!0,e.next=7,t.action();case 7:n=e.sent,t.resolve(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.reject(e.t0);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Je(e){try{return e.split(",")[0].replace("Duration:","").trim()}catch(t){return""}}function Ze(e){try{var t=e.split("Video:")[1].replace(/\(.*?\)/gi,"").split(","),n=t[2].split("x");return{codec:t[0].trim(),colorSpace:t[1].trim(),resolution:{width:parseInt(n[0].trim()),height:parseInt(n[1].trim())},fps:parseInt(t[4].replace("fps","").trim())}}catch(r){return{}}}function Qe(e){try{var t=e.split("Audio:")[1].replace(/\(.*?\)/gi,"").split(",");return{codec:t[0].trim(),Hz:parseInt(t[1].replace("Hz","").trim())}}catch(n){return{}}}function Ke(e){if(Math.abs(e-1)<=1e-5)return"";if(e>=.5&&e<=2)return",atempo=".concat(e);if(e>0&&e<.5){for(var t=.5,n=",atempo=0.5";t>e;)t*=.5,n+=",atempo=0.5";return Math.abs(t-e)>1e-5&&(n+=",atempo=".concat((e/t).toFixed(2))),n}if(e>2){for(var r=2,i=",atempo=2.0";r<e;)r*=2,i+=",atempo=2.0";return Math.abs(r-e)>1e-5&&(i+=",atempo=".concat((r/e).toFixed(2))),i}return""}var $e=function(){function e(){Object(ue.a)(this,e)}return Object(fe.a)(e,null,[{key:"Load",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tt.ffmpeg.isLoaded()){e.next=3;break}return e.next=3,tt.ffmpeg.load();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"GetVersion",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.ffmpeg.run("-version");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"VideoTranscode",value:function(){var t=Object(J.a)(X.a.mark((function t(n){var r,i,a,o,c,s=arguments;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"h264",i=e.ffmpeg,a="".concat(Object(W.a)()),o="".concat(Object(W.a)(),".mp4"),i.FS("writeFile",a,new Uint8Array(n)),t.next=7,i.run("-i",a,"-c:v",r,"-c:a","aac",o);case 7:return c=i.FS("readFile",o),i.FS("unlink",a),i.FS("unlink",o),t.abrupt("return",c.buffer);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"GetMediaInfo",value:function(){var t=Object(J.a)(X.a.mark((function t(n){var r,i,a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ffmpeg,i="".concat(Object(W.a)()),a={},r.setLogger((function(e){var t=e.type,n=e.message;"fferr"===t&&(n.includes("Duration")?a.duration=Je(n):n.includes("Stream #0")&&(n.includes("Video:")?a.video=Ze(n):n.includes("Audio:")&&(a.audio=Qe(n))))})),r.FS("writeFile",i,new Uint8Array(n)),t.next=7,r.run("-i",i);case 7:return r.FS("unlink",i),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"MergeAudios",value:function(){var t=Object(J.a)(X.a.mark((function t(n){var r,i,a,o,c,s,l;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.ffmpeg,i="".concat(Object(W.a)(),".aac"),a=Object(W.a)(),o=n.map((function(e,t){return["-i","".concat(a,"_").concat(t),"-ss","".concat(e.from/1e3),"-to","".concat((e.to-e.from)/1e3)]})).flat(1),c=n.map((function(e,t){var n=e.delay/1e3;return"[".concat(t,":a]adelay=").concat(n,"|").concat(n,"|").concat(n,"|").concat(n).concat(Ke(e.tempo),"[a").concat(t,"];")})).join(""),s=n.map((function(e,t){return"[a".concat(t,"]")})).join(""),n.forEach((function(e,t){r.FS("writeFile","".concat(a,"_").concat(t),new Uint8Array(e.buffer))})),t.next=9,r.run.apply(r,Object(Y.a)(o).concat(["-filter_complex","".concat(c).concat(s,"amix=inputs=").concat(n.length,":duration=first:dropout_transition=0,dynaudnorm[aout]"),"-map","[aout]",i]));case 9:return l=r.FS("readFile",i),n.forEach((function(e,t){r.FS("unlink","".concat(a,"_").concat(t))})),r.FS("unlink",i),t.abrupt("return",l.buffer);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"ImagesToVideo",value:function(){var t=Object(J.a)(X.a.mark((function t(n){var r,i,a,o,c,s=arguments;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:30,i=6,a=e.ffmpeg,o="".concat(Object(W.a)(),".mp4"),n.forEach((function(e,t){a.FS("writeFile","export_".concat(t.toString().padStart(i,"0"),".jpg"),new Uint8Array(e))})),t.next=7,a.run("-framerate","".concat(r),"-i","export_%0".concat(i,"d.jpg"),"-c:v","libx264","-pix_fmt","yuv420p","-preset","ultrafast","-crf","24",o);case 7:return c=a.FS("readFile",o),n.forEach((function(e,t){a.FS("unlink","export_".concat(t.toString().padStart(i,"0"),".jpg"))})),a.FS("unlink",o),t.abrupt("return",c.buffer);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"MergeVideoAudio",value:function(){var t=Object(J.a)(X.a.mark((function t(n,r){var i,a,o,c,s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.ffmpeg,a="".concat(Object(W.a)(),".mp4"),o="".concat(Object(W.a)(),".aac"),c="".concat(Object(W.a)(),".mp4"),i.FS("writeFile",a,new Uint8Array(n)),i.FS("writeFile",o,new Uint8Array(r)),t.next=8,i.run("-i",a,"-i",o,"-c","copy",c);case 8:return s=i.FS("readFile",c),i.FS("unlink",a),i.FS("unlink",o),i.FS("unlink",c),t.abrupt("return",s.buffer);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();$e.ffmpeg=void 0,$e.ffmpeg=Object(qe.createFFmpeg)({log:!0});var et=new Xe,tt=new Proxy($e,{get:function(e,t){var n=t in e?e[t]:void 0;return"function"===typeof n?Object(J.a)(X.a.mark((function t(){var r,i,a,o=arguments;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=o.length,i=new Array(r),a=0;a<r;a++)i[a]=o[a];return t.abrupt("return",et.enqueue(Object(J.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$e.Load();case 2:return t.next=4,n.apply(e,i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))):n}}),nt=tt,rt=function(e){Object(pe.a)(n,e);var t=Object(ve.a)(n);function n(){var e;Object(ue.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).playbackRate=1,e.textureData=void 0,e.texture=void 0,e}return Object(fe.a)(n,[{key:"init",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initRender();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createTexture",value:function(e,t,n){this.textureData=new Uint8ClampedArray(e);var r=new be.DataTexture(this.textureData,t,n,be.RGBAFormat);return r.flipY=!0,r}},{key:"initRender",value:function(){var e=this.config,t=e.originalWidth,n=e.originalHeight,r=e.frames;this.texture=this.createTexture(r[0].data.data,t,n),this.material=new be.ShaderMaterial({uniforms:{tex:{value:this.texture}},vertexShader:Ee.GetVertex(),fragmentShader:Ee.GetFragment()}),this.material.transparent=!0,this.material.uniformsNeedUpdate=!0,this.sprite=new be.Mesh(this.geometry,this.material),this.sprite.position.z=this.config.zIndex,this.updatePosition(),this.updateRotate()}},{key:"getFrame",value:function(){for(var e=this.config,t=e.playRange,n=e.frames,r=e.timelineInfo,i=t.start+(this.player.currentTime-r.start)*this.playbackRate,a=0,o=0;o<n.length;o++){var c=n[o];if(i<=(a+=c.delay))return c}}},{key:"updatePlaybackRate",value:function(){var e=this.config.playRange.end-this.config.playRange.start;this.playbackRate=e/this.config.timelineInfo.duration}},{key:"onUpdate",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.getFrame())&&this.texture&&this.textureData&&(this.textureData.set(t.data.data),this.texture.needsUpdate=!0),this.updateTexture();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(de.a)(Object(he.a)(n.prototype),"destroy",this).call(this),null===(t=this.texture)||void 0===t||t.dispose(),null===(r=this.geometry)||void 0===r||r.dispose(),null===(i=this.material)||void 0===i||i.dispose();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(De);function it(e,t){switch(e.type){case se.VIDEO:return new We(e,t);case se.IMAGE:return new Ge(e,t);case se.TRANSITION:return new Ye(e,t);case se.TEXT:return new Be(e,t);case se.AUDIO:return new Ne(e,t);case se.SVG:return new Pe(e,t);case se.LOTTIE:return new He(e,t);case se.GIF:return new rt(e,t)}}function at(e){return new Promise((function(t){e.toBlob(function(){var e=Object(J.a)(X.a.mark((function e(n){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,n.arrayBuffer();case 3:r=e.sent,t(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"image/jpeg",1)}))}function ot(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(J.a)(X.a.mark((function e(t,n){var r,i,a,o,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.round(1e3/n),i=[],a=0;case 3:if(!(a<=t.duration)){e.next=15;break}return e.next=6,t.setCurrentTime(a);case 6:return e.next=8,at(t.painter.getDomElement());case 8:return o=e.sent,i.push(o),e.next=12,te(10);case 12:a+=r,e.next=3;break;case 15:if(!(a>t.duration)){e.next=21;break}return t.setCurrentTime(t.duration),e.next=19,at(t.painter.getDomElement());case 19:c=e.sent,i.push(c);case 21:return e.next=23,nt.ImagesToVideo(i,n);case 23:return s=e.sent,i.length=0,e.abrupt("return",s);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e){var t=[];return e.clips.forEach((function(e){[se.AUDIO,se.VIDEO].includes(e.config.type)&&t.push({delay:e.config.timelineInfo.start,from:0,to:e.getOriginalDuration(),tempo:e.playbackRate,type:e.config.type,buffer:e.config.buffer.slice(0)})})),t}function lt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(J.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=st(t)).length){e.next=5;break}return e.next=4,nt.MergeAudios(n);case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return ft=Object(J.a)(X.a.mark((function e(t){var n,r,i,a,o,c=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"export.mp4",r=c.length>2&&void 0!==c[2]?c[2]:30,e.prev=2,e.next=5,ot(t,r).catch((function(e){alert("video: ".concat(e))}));case 5:return i=e.sent,e.next=8,te(100);case 8:return e.next=10,lt(t).catch((function(e){alert("audio: ".concat(e))}));case 10:return a=e.sent,e.next=13,te(100);case 13:if(!(i instanceof ArrayBuffer&&a instanceof ArrayBuffer)){e.next=19;break}return e.next=16,nt.MergeVideoAudio(i,a);case 16:o=e.sent,e.next=24;break;case 19:if(!(i instanceof ArrayBuffer)){e.next=23;break}o=i,e.next=24;break;case 23:return e.abrupt("return");case 24:ne(URL.createObjectURL(new Blob([o],{type:"video/mp4"})),n),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),alert(e.t0);case 30:case"end":return e.stop()}}),e,null,[[2,27]])}))),ft.apply(this,arguments)}function dt(e,t,n){var r=e.originalWidth,i=e.originalHeight,a=e.fitType,o=e.geometryInfo,c=o.size,s=c.width,l=c.height,u=o.position,f=s,d=l,h=u.x,p=u.y;if(a===x.CONTAIN)t/n/(r/i)>1?(d=n,h=.5*(t-(f=r*(n/i))),p=0):(f=t,h=0,p=.5*(n-(d=i*(t/r))));else if(a===x.COVER){t/n/(r/i)>1?(f=t,h=0,p=.5*(n-(d=i*(t/r)))):(d=n,h=.5*(t-(f=r*(n/i))),p=0)}else a===x.FILL&&(f=t,d=n,h=0,p=0);return{width:f,height:d,left:h,top:p}}var ht="track-wrapper",pt=100,vt={hoverTrack:null,setHoverTrack:function(){},tracks:[],setTracks:function(){},newTrackIndex:-1,setNewTrackIndex:function(){},activeClip:void 0,setActiveClip:function(){},currentTime:0,setCurrentTime:function(){},totalDuration:0,setTotalDuration:function(){},isPlaying:!1,setIsPlaying:function(){},ratio:R.RATIO_16_9,setRatio:function(){},setDraggingClip:function(){}},bt={player:void 0,isPlaying:!1,setIsPlaying:function(){},handleIsPlayingChange:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleCurrentTimeChange:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},xt=".".concat(ht);function jt(e){var t=document.querySelector(".tracks-wrapper");if(e&&t){var n=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).paddingLeft,10);return{x:Math.max(0,e.x-n.x-r),y:Math.max(0,e.y-n.y)}}return{x:0,y:0}}function gt(e){var t;return e?Array.prototype.slice.call(null===(t=e.parentElement)||void 0===t?void 0:t.querySelectorAll(xt)).indexOf(e):-1}function mt(e,t,n){var r=e.closest(".tracks-wrapper");if(r)for(var i=r.querySelectorAll(".".concat(ht)),a=0;a<i.length;a++){var o=i[a].getBoundingClientRect(),c=o.y,s=o.height;if(n>=c&&n<=c+s){if(n>=c&&n<=c+12)return{isTop:!0,index:a,trackElement:i[a]};if(n<=c+s&&n>=c+s-12)return{isBottom:!0,index:a,trackElement:i[a]};if(n>=c&&n<=c+s)return{isNew:!1,index:a,trackElement:i[a]}}}return{index:-1,trackElement:null}}function Ot(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(e[n][r].id===t)return{trackIndex:n,clipIndex:r};return{trackIndex:-1,clipIndex:-1}}function yt(e){return!(0===e.length||1===e.length&&0===e[0].length)}function wt(e){return(e||0)/1e3*pt}function kt(e){return Math.round(e/pt*1e3)}function Ct(e,t){if(t.length){for(var n=0;n<t.length;n++){var r=t[n].timelineInfo,i=r.start,a=r.end;if(e>=i&&e<=a)return-1;if(e<i)return n}if(e>t[t.length-1].timelineInfo.end)return t.length}return 0}function It(e,t){var n=t[e-1],r=t[e];return n||r?!n&&r?{start:0,end:r.timelineInfo.start}:n&&r?{start:n.timelineInfo.end,end:r.timelineInfo.start}:n&&!r?{start:n.timelineInfo.end,end:1e10}:{start:0,end:0}:{start:0,end:1e10}}function Tt(e,t){if(t[0]>=e[0]&&t[1]<=e[1])return t;if(t[0]>=e[0]&&t[1]>e[1]){var n=t[1]-e[1];return[Math.max(t[0]-n,e[0]),Math.min(t[1]-n,e[1])]}if(t[0]<e[0]&&t[1]<=e[1]){var r=e[0]-t[0];return[Math.max(t[0]+r,e[0]),Math.min(t[1]+r,e[1])]}return t[0]<=e[0]&&t[1]>=e[1]?e:t}function _t(e){var t=0;return e.forEach((function(e){if(null===e||void 0===e?void 0:e.length){var n=e[e.length-1];t=Math.max(t,n.timelineInfo.end)}})),t}function At(e){return[se.VIDEO,se.IMAGE,se.GIF].includes(e)}function Et(e,t){return e.flat(1).filter((function(e){return e.type===se.TRANSITION})).findIndex((function(e){return e.fromId===t}))>-1}function Rt(e,t){return e.flat(1).filter((function(e){return e.type===se.TRANSITION})).findIndex((function(e){return e.toId===t}))>-1}function zt(e){var t=e.tracks,n=e.activeClip,r=e.setTracks,i=e.setActiveClip;if(n){var a=Ot(t,n.id),o=a.trackIndex,c=a.clipIndex;if(n.type===se.TRANSITION){var s,l,u=t[o][c-1],f=t[o][c+1],d=t[o][c+2],h=Tt([(null===u||void 0===u||null===(s=u.timelineInfo)||void 0===s?void 0:s.end)||0,(null===d||void 0===d||null===(l=d.timelineInfo)||void 0===l?void 0:l.start)||1e10],[f.timelineInfo.start+n.timelineInfo.duration/2,f.timelineInfo.end+n.timelineInfo.duration/2]);Object.assign(f,{timelineInfo:{start:h[0],end:h[1],duration:h[1]-h[0]}}),t[o].splice(c,1)}else Et(t,n.id)?(t[o].splice(c,1),t[o].splice(c,1)):Rt(t,n.id)?(t[o].splice(c,1),t[o].splice(c-1,1)):t[o].splice(c,1);i(void 0),r(Object(Y.a)(t))}}function St(e,t,n){var r=Ot(e,n),i=r.trackIndex,a=r.clipIndex;if(i>-1&&a>-1){var o=e[i][a],c=Ft(o.type),s=o.timelineInfo,l=s.start,u=s.end;return c&&l<t&&u>t}return!1}function Ft(e){return[se.AUDIO,se.GIF,se.IMAGE,se.VIDEO].includes(e)}function Mt(e){var t=e.tracks,n=e.activeClip,r=e.setTracks,i=e.currentTime;if(n){var a=Ot(t,n.id),o=a.trackIndex,c=a.clipIndex,s=Ft(n.type),l=n.timelineInfo,f=l.start,d=l.end;if(s&&f<i&&d>i){var h=(i-f)/(d-f),p=n.playRange.start+Math.round((n.playRange.end-n.playRange.start)*h);t[o].splice(c+1,0,Object(u.a)(Object(u.a)({},n),{},{id:Object(W.a)(),playRange:{start:p,end:n.playRange.end},timelineInfo:{start:i,end:d,duration:d-i}})),Object.assign(n,{playRange:{start:n.playRange.start,end:p},timelineInfo:{start:f,end:i,duration:i-f}}),r(Object(Y.a)(t))}}}function Lt(){var e=document.querySelector(".player");return e?e.getBoundingClientRect():{width:0,height:0,x:0,y:0,left:0,right:0,top:0,bottom:0,toJSON:function(){}}}function Ut(e,t,n){var r=function(e){switch(e){case R.RATIO_16_9:return 16/9;case R.RATIO_1_1:return 1;case R.RATIO_21_9:return 21/9;case R.RATIO_3_4:return 3/4;case R.RATIO_4_3:return 4/3;case R.RATIO_9_16:return 9/16}}(e),i=0,a=0;return r*n>t?(i=Math.round(t),a=Math.round(t/r)):(i=Math.round(r*n),a=Math.round(n)),i%2!==0&&(i-=1),a%2!==0&&(a-=1),{width:i,height:a}}var Dt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){t.buffer||fetch(t.url).then((function(e){return e.blob()})).then((function(e){var r=URL.createObjectURL(e),i=document.createElement("audio");i.loop=!1,i.addEventListener("loadedmetadata",(function(){e.arrayBuffer().then((function(e){var r=Math.round(1e3*i.duration);n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:r}),playRange:{start:0,end:r},buffer:e}))})).catch((function(e){alert(e.message)}))})),i.src=r})).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(B,{children:[Object(f.jsx)("audio",{src:t.url}),Object(f.jsx)("div",{className:"title",children:t.name})]})};function Nt(e){return new Promise((function(t){var n=document.createElement("div");document.body.appendChild(n);var r=new SuperGif({gif:n,draw_while_loading:!1});r.load_raw(new Uint8Array(e),(function(){var e,i=r.get_canvas(),a=i.width,o=i.height;null===(e=n.parentNode)||void 0===e||e.removeChild(n),t({frames:Object(Y.a)(r.get_frames()),width:a,height:o})}))}))}var Gt,Ht=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){var e;(null===t||void 0===t||null===(e=t.frames)||void 0===e?void 0:e.length)||fetch(t.url).then((function(e){return e.arrayBuffer()})).then(function(){var e=Object(J.a)(X.a.mark((function e(r){var i,a,o,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt(r);case 2:i=e.sent,a=i.frames,o=i.width,c=i.height,a.forEach((function(e){e.delay=10*e.delay||100})),s=a.reduce((function(e,t){return e+t.delay}),0),n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:s}),geometryInfo:Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:o,height:c}}),playRange:{start:0,end:s},frames:a,originalWidth:o,originalHeight:c}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(B,{children:[Object(f.jsx)("img",{src:t.url,alt:"",draggable:"false"}),Object(f.jsx)("div",{className:"title",children:t.name})]})},Pt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){t.blobUrl||fetch(t.url).then((function(e){return e.blob()})).then((function(e){var r=URL.createObjectURL(e),i=document.createElement("img");i.addEventListener("load",(function(){n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:2e3}),geometryInfo:Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:i.naturalWidth,height:i.naturalHeight}}),originalWidth:i.naturalWidth,originalHeight:i.naturalHeight,blobUrl:r}))})),i.src=r})).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(B,{children:[Object(f.jsx)("img",{src:t.url,alt:"",draggable:"false"}),Object(f.jsx)("div",{className:"title",children:t.name})]})},Bt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){(null===t||void 0===t?void 0:t.originalWidth)||fetch(t.url).then((function(e){return e.json()})).then(function(){var e=Object(J.a)(X.a.mark((function e(r){var i,a,o,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(r);case 2:i=e.sent,a=i.width,o=i.height,c=i.duration,n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:c}),geometryInfo:Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:a,height:o}}),playRange:{start:0,end:c},originalWidth:a,originalHeight:o,animationData:r}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsx)(B,{children:Object(f.jsx)("div",{className:"title",children:t.name})})},Vt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){var e=ie(t),r=e.width,i=e.height;n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:2e3}),geometryInfo:Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:r/2,height:i/2}}),originalWidth:r,originalHeight:i}))}),[]),Object(f.jsx)(B,{children:Object(f.jsx)("div",{className:"title",children:t.name})})},Yt=function(e){var t=e.data,n=e.onLoaded,r=Object(i.useContext)(Ai).player;return Object(i.useEffect)((function(){n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:1e3}),geometryInfo:Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:(null===r||void 0===r?void 0:r.width)||0,height:(null===r||void 0===r?void 0:r.height)||0}})}))}),[null===r||void 0===r?void 0:r.width,null===r||void 0===r?void 0:r.height]),Object(f.jsx)(B,{children:Object(f.jsx)("div",{className:"title",children:t.name})})},Wt=function(e){var t=e.data,n=e.onLoaded;return Object(i.useEffect)((function(){t.blobUrl||fetch(t.url).then((function(e){return e.blob()})).then(function(){var e=Object(J.a)(X.a.mark((function e(r){var i,a,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.arrayBuffer();case 2:i=e.sent,a=URL.createObjectURL(r),(o=document.createElement("video")).loop=!1,o.addEventListener("loadedmetadata",(function(){var e=Math.round(1e3*o.duration);n(Object(u.a)(Object(u.a)({},t),{},{timelineInfo:Object(u.a)(Object(u.a)({},t.timelineInfo),{},{duration:e}),geometryInfo:Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:o.videoWidth,height:o.videoHeight}}),playRange:{start:0,end:e},originalWidth:o.videoWidth,originalHeight:o.videoHeight,blobUrl:a,buffer:i}))})),o.src=a;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e.message)}))}),[t,n]),Object(f.jsxs)(B,{children:[Object(f.jsx)("video",{src:t.blobUrl}),Object(f.jsx)("div",{className:"title",children:t.name})]})},qt=s.b.div(Gt||(Gt=Object(r.a)(["\n  width: 200px;\n  height: 112px;\n  line-height: 112px;\n  text-align: center;\n  border-radius: 4px;\n  background-color: #000;\n  cursor: pointer;\n"])));function Xt(e,t){switch(null===e||void 0===e?void 0:e.type){case se.VIDEO:return Object(f.jsx)(Wt,{data:e,onLoaded:t});case se.IMAGE:return Object(f.jsx)(Pt,{data:e,onLoaded:t});case se.AUDIO:return Object(f.jsx)(Dt,{data:e,onLoaded:t});case se.TRANSITION:return Object(f.jsx)(Yt,{data:e,onLoaded:t});case se.GIF:return Object(f.jsx)(Ht,{data:e,onLoaded:t});case se.TEXT:return Object(f.jsx)(Vt,{data:e,onLoaded:t});case se.LOTTIE:return Object(f.jsx)(Bt,{data:e,onLoaded:t});default:return null}}var Jt,Zt,Qt=function(e){var t=e.data,n=Object(i.useContext)(_i),r=n.setHoverTrack,a=n.tracks,o=n.setTracks,c=n.setNewTrackIndex,s=n.newTrackIndex,d=n.setDraggingClip,h=Object(i.useState)(!1),p=Object(l.a)(h,2),b=p[0],g=p[1],m=Object(i.useState)(function(e,t,n){var r={name:e.name,timelineInfo:{start:t,end:n,duration:0},fitType:x.CONTAIN,geometryInfo:{rotate:0,position:{x:0,y:0},size:{width:0,height:0}},playRange:{start:0,end:0},effect:j.NO_EFFECT};switch(e.type){case v.VIDEO:return Object(u.a)(Object(u.a)({},r),{},{type:se.VIDEO,url:e.url});case v.IMAGE:return Object(u.a)(Object(u.a)({},r),{},{type:se.IMAGE,url:e.url});case v.AUDIO:return Object(u.a)(Object(u.a)({},r),{},{type:se.AUDIO,url:e.url});case v.TRANSITION:return Object(u.a)(Object(u.a)({},r),{},{type:se.TRANSITION,transition:e.transition});case v.GIF:return Object(u.a)(Object(u.a)({},r),{},{fitType:x.CUSTOM,type:se.GIF,url:e.url,frames:[],originalWidth:0,originalHeight:0,zIndex:0});case v.TEXT:return Object(u.a)(Object(u.a)({},r),{},{fitType:x.CUSTOM,props:{fontColor:"#fff",fontSize:16,fontFamily:"Helvetica"},value:e.value,type:se.TEXT,originalWidth:0,originalHeight:0,zIndex:0});case v.LOTTIE:return Object(u.a)(Object(u.a)({},r),{},{fitType:x.CUSTOM,url:e.url,type:se.LOTTIE});default:return{}}}(t)),O=Object(l.a)(m,2),y=O[0],w=O[1],k=Object(i.useCallback)((function(){d(y)}),[y,d]),C=Object(i.useCallback)((function(e){var t=e.belowElement,n=(e.cursorLeft,e.cursorTop);if(t&&(null===y||void 0===y?void 0:y.type)!==se.TRANSITION){var i=mt(t,0,n),o=i.trackElement,s=i.index,l=i.isTop,u=i.isBottom;if(o&&s>=0){var f=yt(a);c(l&&f?s:u&&f?s+1:-1)}r(o)}}),[null===y||void 0===y?void 0:y.type,r,c,a]),I=Object(i.useCallback)((function(e){var t=e.belowElement;if(t.classList.contains("transition-insert")&&y){var n=t.dataset.from,i=t.dataset.to,s=Ot(a,n),l=s.trackIndex,f=s.clipIndex,h=a[l][f],p=a[l][f+1],v=y.timelineInfo.duration/2,b=Object(u.a)(Object(u.a)({},y),{},{id:Object(W.a)(),timelineInfo:Object(u.a)(Object(u.a)({},y.timelineInfo),{},{start:h.timelineInfo.end-v,end:h.timelineInfo.end+v}),fromId:n,toId:i});Object.assign(p,{timelineInfo:Object(u.a)(Object(u.a)({},p.timelineInfo),{},{start:p.timelineInfo.start-v,end:p.timelineInfo.end-v})}),a[l].splice(f+1,0,b),o(Object(Y.a)(a))}d(void 0),c(-1),r(null)}),[y,d,r,c,o,a]),T=Object(i.useCallback)((function(e){var t=e.belowElement,n=e.cursorLeft,i=e.cursorTop,f=e.element;if(t)if((null===y||void 0===y?void 0:y.type)!==se.TRANSITION){var h=mt(t,0,i).trackElement,p=jt({x:n,y:i}),v=-1;s>-1?(v=s,a.splice(v,0,[])):h&&(v=gt(h));var b=a[v];if(v>-1&&b){var x=Ct(kt(p.x),b);if(x>-1){var j=It(x,b);if(j.start||j.end){var g,m=(null===y||void 0===y||null===(g=y.timelineInfo)||void 0===g?void 0:g.duration)||0,O=wt(m),w=f.clientWidth,k=n-e.left,C=kt(Math.max(0,p.x-k/w*O)),T=Tt([j.start,j.end],[C,C+m]),_=Object(l.a)(T,2),A=_[0],E=_[1],R=Lt(),z=R.height,S=R.width,F=dt(y,S,z),M=F.width,L=F.height,U=F.left,D=F.top,N=Object(u.a)(Object(u.a)({},y),{},{id:Object(W.a)(),timelineInfo:{start:A,end:E,duration:E-A},geometryInfo:Object(u.a)(Object(u.a)({},y.geometryInfo),{},{size:{width:M,height:L},position:{x:U,y:D}})});b.splice(x,0,N),o(Object(Y.a)(a))}}}d(void 0),c(-1),r(null)}else I(e)}),[y,I,s,d,r,c,o,a]),_=Object(i.useCallback)((function(e){w(Object(u.a)(Object(u.a)({},y),e)),g(!0)}),[y]);return Object(f.jsx)(le,{direction:z.ALL,scrollContainerSelector:".tracks-wrapper",autoGrow:!0,enable:b,slow:2,onStart:k,onMove:C,onEnd:T,children:Object(f.jsx)(qt,{children:Xt(y,_)})})},Kt=function(){return Object(f.jsxs)(f.Fragment,{children:[F.videos.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),F.images.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),F.gifs.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),F.audios.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),F.lotties.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))]})},$t=function(e){var t=e.icon,n=e.title,r=e.isActive,a=e.onClick,o=Object(i.useCallback)((function(){a(n)}),[a,n]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(U,{className:r?"active":"",onClick:o,children:[Object(f.jsx)("div",{className:"icon",children:t}),Object(f.jsx)("div",{className:"title",children:n})]})})},en=s.b.div(Jt||(Jt=Object(r.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 80px;\n  bottom: 0;\n  overflow: overlay;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  padding: 24px 0 24px 24px;\n"]))),tn=n(207),nn=function(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)([]),o=Object(l.a)(a,2),c=o[0],s=o[1],u=Object(i.useState)([]),d=Object(l.a)(u,2),h=d[0],p=d[1],b=Object(i.useCallback)((function(){return!1}),[]),x=Object(i.useCallback)((function(e){var t=e.file,i=t.type;if(null===i||void 0===i?void 0:i.includes("video/")){var a={name:t.name,type:v.VIDEO,url:URL.createObjectURL(t)};r([].concat(Object(Y.a)(n),[a]))}if(null===i||void 0===i?void 0:i.includes("image")){var o={name:t.name,type:v.IMAGE,url:URL.createObjectURL(t)};i.includes("image/gif")&&(o={name:t.name,type:v.GIF,url:URL.createObjectURL(t)}),s([].concat(Object(Y.a)(c),[o]))}if(null===i||void 0===i?void 0:i.includes("audio")){var l={name:t.name,type:v.AUDIO,url:URL.createObjectURL(t)};p([].concat(Object(Y.a)(h),[l]))}}),[h,c,n]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(D,{children:[Object(f.jsx)(N,{className:"active",children:"\u5168\u90e8"}),Object(f.jsx)(tn.a,{beforeUpload:b,onChange:x,multiple:!1,accept:"video/*,audio/*,image/png,image/jpeg,image/jpg,image/gif",showUploadList:!1,children:Object(f.jsx)(M,{style:{color:"#7B9FD6"},children:"+"})})]}),n.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),h.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)})),c.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))]})},rn=function(){return Object(f.jsx)(f.Fragment,{children:F.texts.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},an=function(){return Object(f.jsx)(f.Fragment,{children:F.transitions.map((function(e){return Object(f.jsxs)(H,{children:[Object(f.jsx)(P,{children:Object(f.jsx)(Qt,{data:e})}),Object(f.jsx)("div",{className:"asset-title",children:e.name})]},e.name)}))})},on=s.b.div(Zt||(Zt=Object(r.a)(["\n  display: flex;\n  background: #060C15;\n  width: 100%;\n  height: 80px;\n  padding-left: 10px;\n  overflow: overlay;\n"]))),cn=[{title:"\u6211\u7684\u7d20\u6750",icon:Object(f.jsx)(h,{}),resourcePanel:Object(f.jsx)(nn,{})},{title:"\u8f6c\u573a",icon:Object(f.jsx)(b,{}),resourcePanel:Object(f.jsx)(an,{})},{title:"\u6587\u5b57",icon:Object(f.jsx)(p,{}),resourcePanel:Object(f.jsx)(rn,{})},{title:"\u591a\u5a92\u4f53",icon:Object(f.jsx)(d,{}),resourcePanel:Object(f.jsx)(Kt,{})}],sn=function(){var e=Object(i.useState)("\u591a\u5a92\u4f53"),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(i.useCallback)((function(e){n!==e&&r(e)}),[n]);return Object(f.jsxs)(on,{children:[cn.map((function(e){return Object(f.jsx)($t,{title:e.title,icon:e.icon,resourcePanel:e.resourcePanel,isActive:n===e.title,onClick:a},e.title)})),cn.map((function(e){return Object(f.jsx)(en,{style:Object(u.a)({},n!==e.title?{display:"none"}:null),children:e.resourcePanel},e.title)}))]})};var ln,un,fn,dn,hn=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),{},{children:[Object(f.jsx)("g",{filter:"url(#prefix__filter0_d_437_2164)",children:Object(f.jsx)("circle",{cx:10,cy:8,r:8,fill:"#3647E4"})}),Object(f.jsx)("circle",{cx:10,cy:8,r:5,fill:"#2524A7"}),Object(f.jsx)("circle",{cx:10,cy:8,r:2,fill:"#3647E4"}),Object(f.jsx)("defs",{children:Object(f.jsxs)("filter",{id:"prefix__filter0_d_437_2164",x:0,y:0,width:20,height:20,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(f.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),Object(f.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(f.jsx)("feOffset",{dy:2}),Object(f.jsx)("feGaussianBlur",{stdDeviation:1}),Object(f.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(f.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),Object(f.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_437_2164"}),Object(f.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_437_2164",result:"shape"})]})})]}))},pn=s.b.div(ln||(ln=Object(r.a)(["\n  width: 100%;\n  height: 70px;\n  padding: 5px 0px;\n  flex-shrink: 0;\n"]))),vn=s.b.div(un||(un=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n  /* border: 2px dashed #203351; */\n  /* border-radius: 8px; */\n  position: relative;\n  background: #13161c;\n"]))),bn=s.b.div(fn||(fn=Object(r.a)(["\n  height: 0;\n  position: relative;\n  pointer-events: none;\n  &::after {\n    content: '';\n    position: absolute;\n    background: #38AA26;\n    width: 100%;\n    height: 2px;\n    border-radius: 2px;\n    left: 0;\n    right: 0;\n    top: -1px;\n  }\n"]))),xn=function(e){var t=e.style,n=e.index,r=Object(i.useContext)(_i),a=r.hoverTrack,o=r.tracks,c=r.newTrackIndex,s=gt(a),l=yt(o);return Object(f.jsxs)(f.Fragment,{children:[l&&c===n?Object(f.jsx)(bn,{}):null,Object(f.jsx)(pn,{style:t,className:ht,children:Object(f.jsx)(vn,{style:Object(u.a)({},s===n&&-1===c?{background:"rgb(18 19 20 / 50%)"}:null)})}),l&&c===n+1?Object(f.jsx)(bn,{}):null]})},jn=n(115),gn=n.n(jn),mn=s.b.div(dn||(dn=Object(r.a)(["\n  width: 100%;\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: #B61DA6;\n    opacity: 0.8;\n    z-index: 2;\n  }\n  >div {\n    position: absolute;\n    inset: 0;\n  }\n"]))),On=function(e){var t=e.clip,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=n.current;if(e){var r=gn.a.create({container:e,waveColor:"#fff",progressColor:"purple",fillParent:!0,partialRender:!0,interact:!1,height:56,barWidth:1});return r.load(t.url),function(){r.destroy()}}}),[t.url]),Object(f.jsx)(mn,{children:Object(f.jsx)("div",{ref:n})})};function yn(){return new Worker(n.p+"static/js/gifToCanvas.worker.0639ec91.worker.js")}function wn(){return(wn=Object(J.a)(X.a.mark((function e(t,n,r,i,a,o,c){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage({snapCount:n,from:r,to:i,frames:a,width:o,height:c});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kn=function(e){var t=e.clip,n=t.timelineInfo,r=t.originalWidth,a=t.originalHeight,o=t.frames,c=Math.ceil(wt(n.duration)/56),s=Object(i.useRef)(null),l=Object(i.useRef)(new yn);return Object(i.useEffect)((function(){var e=s.current,t=l.current;if(e&&t){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])}}),[]),Object(i.useEffect)((function(){var e=s.current,n=l.current;e&&n&&function(e,t,n,r,i,a,o){wn.apply(this,arguments)}(n,c,t.playRange.start,t.playRange.end,o,r,a)}),[o,t.playRange.end,t.playRange.start,c,r,a]),Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(f.jsx)("canvas",{ref:s,style:{transformOrigin:"left top",transform:"scale(".concat(56/a,")")},width:c*r,height:a})})})},Cn=Object(i.memo)(kn),In=function(e){var t=e.clip,n=Object(i.useMemo)((function(){return{position:"absolute",left:0,right:0,top:0,bottom:0,background:"url(".concat(t.blobUrl,")"),backgroundRepeat:"repeat",backgroundSize:"contain"}}),[t.blobUrl]);return Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:n})})};function Tn(e,t){return new Promise((function(n){e.requestVideoFrameCallback((function(){n(!0)})),e.currentTime=t/1e3}))}function _n(){return(_n=Object(J.a)(X.a.mark((function e(t,n,r,i,a,o,c){var s,l,u,f;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(c-o)/a,l=t.getContext("2d"),(u=document.createElement("video")).src=n,f=0;case 5:if(!(f<a)){e.next=12;break}return e.next=8,Tn(u,o+s*f+1);case 8:null===l||void 0===l||l.drawImage(u,r*f,0,r,i),f+=1,e.next=5;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var An,En,Rn,zn,Sn,Fn=function(e){var t=e.clip,n=t.timelineInfo,r=t.originalWidth,a=t.originalHeight,o=t.playRange,c=t.blobUrl,s=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=s.current;if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height,l=i*r/a,u=Math.ceil(n/l);!function(e,t,n,r,i,a,o){_n.apply(this,arguments)}(e,c,l,i,u,o.start,o.end)}}),[c,o.end,o.start,a,r,n.duration]),Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(f.jsx)("canvas",{ref:s,width:wt(n.duration),height:56})})})},Mn=function(e){var t=e.clip.value;return Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)("div",{style:{position:"absolute",left:20,right:20,lineHeight:"".concat(56,"px"),color:"#fff",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:t,children:t})})},Ln=s.b.div(An||(An=Object(r.a)(["\n  /* background-color: #22a5df; */\n  border-radius: 4px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  overflow: hidden;\n  display: flex;\n  border: 2px solid transparent;\n  transition: border-color 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    z-index: 3;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    border-style: solid;\n    border-color: #fff;\n    border-width: 0;\n    transition: border-width 0.05s;\n    pointer-events: none;\n  }\n  &:hover::after {\n    border-width: 2px;\n  }\n  &.active::after {\n    border-width: 2px;\n    border-color: #5754ff;\n  }\n"]))),Un=(s.b.div(En||(En=Object(r.a)(["\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  left: 0;\n  top: 0;\n  bottom: 0;\n"]))),s.b.div(Rn||(Rn=Object(r.a)(["\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n"]))),s.b.div(zn||(zn=Object(r.a)(["\n  color: #fff;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding-left: 10px;\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"])))),Dn=s.b.div(Sn||(Sn=Object(r.a)(["\n  background: #5754ff;\n  width: 12px;\n  cursor: ew-resize;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 3;\n\n  &::before, &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 3px;\n    transform: translateY(-50%);\n    width: 2px;\n    height: 15px;\n    background: #2524A7;\n    border-radius: 1px;\n    pointer-events: none;\n  }\n  &::after {\n    left: 7px;\n  }\n"]))),Nn={zIndex:999,border:"2px solid #fff"};function Gn(e){switch(e.type){case se.VIDEO:return Object(f.jsx)(Fn,{clip:e});case se.GIF:return Object(f.jsx)(Cn,{clip:e});case se.AUDIO:return Object(f.jsx)(On,{clip:e});case se.IMAGE:return Object(f.jsx)(In,{clip:e});case se.TEXT:return Object(f.jsx)(Mn,{clip:e});default:return Object(f.jsx)(Un,{children:e.name})}}var Hn,Pn,Bn,Vn,Yn,Wn,qn,Xn,Jn,Zn,Qn,Kn,$n=function(e){var t=e.clip,n=e.onUpdate,r=e.trackIndex,a=t.timelineInfo,o=t.id,c=t.type,s=Object(i.useContext)(_i),d=s.setHoverTrack,h=s.tracks,p=s.setTracks,v=s.setNewTrackIndex,b=s.newTrackIndex,x=s.activeClip,j=s.setActiveClip,g=Object(i.useCallback)((function(e){if(0!==e.stepLeft||0!==e.stepTop){var t=Ot(h,o),n=t.trackIndex,r=t.clipIndex;Et(h,o)?(h[n].splice(r+1,1),p(Object(Y.a)(h))):Rt(h,o)&&(h[n].splice(r-1,1),p(Object(Y.a)(h)))}}),[o,p,h]),m=Object(i.useCallback)((function(e){if(e.belowElement){g(e);var t=mt(e.belowElement,e.cursorLeft,e.cursorTop),n=t.trackElement,r=t.index,i=t.isTop,a=t.isBottom;if(n&&r>=0){var o=yt(h);v(i&&o?r:a&&o?r+1:-1)}d(n)}}),[g,d,v,h]),O=Object(i.useCallback)((function(e){if(e.belowElement){if(e.isMoved){var t=mt(e.belowElement,e.cursorLeft,e.cursorTop),r=t.trackElement,i=t.index,c=jt({x:e.cursorLeft,y:e.cursorTop}),s=kt(Math.max(0,c.x-(e.cursorLeft-e.left))),f=!1;if(b>-1)f=!0,null===n||void 0===n||n({timelineInfo:Object(u.a)(Object(u.a)({},a),{},{start:s,end:s+a.duration})},b,0,!0);else if(r){var p=Ot(h,o).trackIndex,x=h[i];if(i===p&&(x=x.filter((function(e){return e.id!==o}))),i>-1&&x){var j=Ct(kt(c.x),x);if(j>-1){var g=It(j,x);if(g.start||g.end){var m=Tt([g.start,g.end],[s,s+a.duration]),O=Object(l.a)(m,2),y=O[0],w=O[1];f=!0,null===n||void 0===n||n({timelineInfo:{start:y,end:w,duration:w-y}},i,j,!1)}}}}if(!f){var k=Ot(h,o),C=k.trackIndex,I=k.clipIndex,T=h[C][I-1],_=h[C][I+1];if(T&&T.timelineInfo.end>a.start||_&&_.timelineInfo.start<a.end){var A,E,R=Tt([(null===T||void 0===T||null===(A=T.timelineInfo)||void 0===A?void 0:A.end)||0,(null===_||void 0===_||null===(E=_.timelineInfo)||void 0===E?void 0:E.start)||1e10],[a.start,a.end]);null===n||void 0===n||n({timelineInfo:{start:R[0],end:R[1],duration:R[1]-R[0]}},C,I,!1)}}}v(-1),d(null)}}),[o,b,n,a,d,v,h]),y=Object(i.useCallback)((function(e){var t=a.start+kt(e.stepLeft);if(a.end-t>=500){var r,i,c=Ot(h,o),s=c.trackIndex,l=c.clipIndex,f=(null===(r=h[s][l-1])||void 0===r||null===(i=r.timelineInfo)||void 0===i?void 0:i.end)||0;null===n||void 0===n||n({timelineInfo:Object(u.a)(Object(u.a)({},a),{},{start:Math.max(t,f),duration:a.end-Math.max(t,f)})},s,l,!1)}}),[o,n,a,h]),w=Object(i.useCallback)((function(e){var t=a.end+kt(e.stepLeft);if(t-a.start>=500){var r,i,c=Ot(h,o),s=c.trackIndex,l=c.clipIndex,f=(null===(r=h[s][l+1])||void 0===r||null===(i=r.timelineInfo)||void 0===i?void 0:i.start)||1e10;null===n||void 0===n||n({timelineInfo:Object(u.a)(Object(u.a)({},a),{},{end:Math.min(t,f),duration:Math.min(t,f)-a.start})},s,l,!1)}}),[a,h,o,n]),k=Object(i.useCallback)((function(){var e=Ot(h,o),t=e.trackIndex,r=e.clipIndex;null===n||void 0===n||n({timelineInfo:Object(u.a)(Object(u.a)({},a),{},{duration:a.end-a.start})},t,r,!1)}),[o,n,a,h]),C=Object(i.useCallback)((function(e){var t;e.stopPropagation();var n=Ot(h,o),r=n.trackIndex,i=n.clipIndex;j(null===h||void 0===h||null===(t=h[r])||void 0===t?void 0:t[i])}),[o,j,h]),I=c===se.TRANSITION,T=(null===x||void 0===x?void 0:x.id)===o;return Object(f.jsx)(le,{scrollContainerSelector:".tracks-wrapper",autoGrow:!0,slow:2,onMove:m,onEnd:O,enable:!I,children:Object(f.jsxs)(Ln,{className:"track-element ".concat(T?"active":""),onClick:C,style:Object(u.a)({top:"calc(50% - ".concat(70*h.length/2,"px + 5px + ").concat(70*r,"px)"),width:wt(a.end-a.start),height:60,left:wt(a.start)},c===se.TRANSITION?Nn:null),children:[I||Rt(h,o)||!T?null:Object(f.jsx)(Dn,{children:Object(f.jsx)(le,{direction:z.EW,onMove:y,onEnd:k,children:Object(f.jsx)("div",{style:{width:"100%",height:"100%"}})})}),Gn(t),I||Et(h,o)||!T?null:Object(f.jsx)(Dn,{children:Object(f.jsx)(le,{direction:z.EW,onMove:w,onEnd:k,children:Object(f.jsx)("div",{style:{width:"100%",height:"100%"}})})})]})})},er=Object(i.memo)($n),tr=s.b.div(Hn||(Hn=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 10px 20px;\n  position: relative;\n  overflow-y: auto;\n  overscroll-behavior: unset;\n  background: #000;\n"]))),nr=s.b.div(Pn||(Pn=Object(r.a)(["\n  flex: 1 1 0%;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-pack: center;\n  justify-content: center;\n  position: relative;\n  /* top: 50%; */\n  /* transform: translateY(-50%); */\n"]))),rr=s.b.div(Bn||(Bn=Object(r.a)(["\n  width: 0;\n  top: 40px;\n  bottom: 4px;\n  position: absolute;\n  /* cursor: move; */\n  z-index: 1000;\n  pointer-events: none;\n\n  &::before {\n    content: '';\n    width: 2px;\n    background-color: #3A36E4;\n    opacity: 0.8;\n    left: -1px;\n    top: -26px;\n    bottom: 0;\n    border-radius: 2px;\n    position: absolute;\n  }\n\n  .indicator-bar {\n    position: absolute;\n    top: -40px;\n    left: -10px;\n  }\n"]))),ir=function(e){var t=e.onCurrentTimeChange,n=Object(i.useContext)(_i),r=n.tracks,o=n.currentTime,c=n.draggingClip,s=n.setTracks,l=1===r.length&&0===r[0].length?{height:90}:{},u=Object(i.useCallback)((function(e,n,i){var a=_t(r),o=jt({x:e,y:n}),c=kt(Math.max(0,o.x-i));t(Math.min(c,a))}),[t,r]),d=Object(i.useCallback)((function(e){u(e.pageX,e.pageY,0)}),[u]),h=Object(i.useCallback)((function(e,t,n,i,a){var o=Ot(r,e.id),c=o.trackIndex,l=o.clipIndex;if(c>-1&&l>-1){var u=r[c].splice(l,1)[0];Object.assign(u,t),a?r.splice(n,0,[u]):r[n].splice(i,0,u),s(Object(Y.a)(r))}}),[s,r]),p=(null===c||void 0===c?void 0:c.type)===se.TRANSITION,v=r.flat(1);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(tr,{className:"tracks-wrapper",onClick:d,children:Object(f.jsxs)(nr,{children:[r.map((function(e,t){return Object(f.jsx)(xn,{index:t,clips:e,style:l},t)})),v.map((function(e,t){var n,i,o=Ot(r,e.id).trackIndex,s=v[t+1],l=!1;return p&&(i=s,(n=e)&&i&&Math.abs(n.timelineInfo.end-i.timelineInfo.start)<=1e-5)&&At(null===e||void 0===e?void 0:e.type)&&At(null===s||void 0===s?void 0:s.type)&&(l=!0),Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)(er,{trackIndex:o,clip:e,onUpdate:function(t,n,r,i){h(e,t,n,r,i)}}),l&&c?Object(f.jsx)(Ln,{className:"transition-insert","data-from":e.id,"data-to":s.id,style:{width:wt(c.timelineInfo.duration),left:wt(e.timelineInfo.end-c.timelineInfo.duration/2),zIndex:999,opacity:.5,border:"2px solid #fff"}}):null]},e.id)}))]})}),Object(f.jsx)(rr,{style:{left:wt(o)+20},children:Object(f.jsx)(hn,{className:"indicator-bar"})})]})},ar=s.b.div(Vn||(Vn=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  overflow: hidden;\n"]))),or=s.b.div(Yn||(Yn=Object(r.a)(["\n  display: flex;\n  height: 55%;\n  flex-shrink: 0;\n"]))),cr=s.b.div(Wn||(Wn=Object(r.a)(["\n  display: flex;\n  flex-shrink: 0;\n  height: 100%;\n  width: 740px;\n  position: relative;\n  z-index: 2000;\n  background: #1A212A;\n  border-right: 1px solid #232A35;\n\n  @media (max-width: 1650px) {\n    width: 500px\n  }\n\n  @media (max-width: 1280px) {\n    width: 261px;\n  }\n"]))),sr=s.b.div(qn||(qn=Object(r.a)(["\n  background-color: #14181D;\n  overflow: hidden;\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  position: relative;\n"]))),lr=s.b.div(Xn||(Xn=Object(r.a)(["\n  overflow-x: overlay;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  position: relative;\n  padding-top: 10px;\n  background: #1C2430;\n"]))),ur=s.b.div(Jn||(Jn=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 0 45px;\n  position: relative;\n"]))),fr=s.b.div(Zn||(Zn=Object(r.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  bottom: 65px;\n  // background-color: #000;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),dr=s.b.div(Qn||(Qn=Object(r.a)(["\n  padding: 0 20px;\n  height: 30px;\n  display: flex;\n  overflow: hidden;\n  flex-grow: 0;\n  flex-shrink: 0;\n  background: #1C2430;\n  border-top: 1px solid #14171B;\n  border-bottom: 1px solid #232A35;\n  /* box-shadow: 0px 12px 16px rgba(0, 0, 0, 0.14); */\n"]))),hr=s.b.div(Kn||(Kn=Object(r.a)(["\n  position: relative;\n  height: 20px;\n  padding: 14px 5px;\n  font-size: 12px;\n  line-height: 12px;\n  font-family: 'DIN Alternate';\n  color: #7185A6;\n  flex-grow: 0;\n  flex-shrink: 0;\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    height: 10px;\n    background-color: #39485f;\n  }\n  &::after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    height: 6px;\n    background: #2d394c;\n  }\n"]))),pr=function(){var e=Object(i.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){var e=document.querySelector(".tracks-wrapper");if(e){r(e.clientWidth);var t=new ResizeObserver((function(){e.clientWidth!==n&&r(e.clientWidth)}));return t.observe(e),function(){t.disconnect()}}}),[n]),Object(f.jsx)(dr,{style:{width:n},children:Array.from(Array(Math.ceil(n/pt))).map((function(e,t){return Object(f.jsx)(hr,{style:{width:pt},children:$(1e3*t,!1,!1)},t)}))})},vr=n(206),br=function(e,t){!function(e){Object(vr.a)("Backspace",(function(){zt(e)}))}(e),function(e){Object(vr.a)("ctrl.c",(function(){Mt(e)}))}(e),function(e,t){Object(vr.a)(" ",(function(){var n=e.isPlaying;t.handleIsPlayingChange(!n)}))}(e,t)},xr=n(212),jr=n(211),gr=function(){function e(t,n){Object(ue.a)(this,e),this.scene=void 0,this.camera=void 0,this.renderer=void 0,this.maxAnisotropy=void 0,this.scene=new be.Scene,this.camera=this.createCamera(0,t,0,n),this.renderer=new be.WebGLRenderer({preserveDrawingBuffer:!0,antialias:!0}),this.renderer.setPixelRatio(2),this.renderer.setSize(t,n),this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy()}return Object(fe.a)(e,[{key:"createCamera",value:function(e,t,n,r){return new be.OrthographicCamera(e,t,n,r,-1e3,1e3)}},{key:"updateSize",value:function(e,t){this.renderer.setSize(e,t),this.camera=this.createCamera(0,e,0,t)}},{key:"add",value:function(e,t){e.name=t,this.scene.add(e)}},{key:"remove",value:function(e){var t=this.scene.getObjectByName(e);t&&this.scene.remove(t)}},{key:"getRealSize",value:function(){var e=new be.Vector2;return this.renderer.getDrawingBufferSize(e),e}},{key:"getDomElement",value:function(){return this.renderer.domElement}},{key:"render",value:function(e,t,n){var r=this.renderer,i=this.scene,a=this.camera;e&&t&&n?(r.setRenderTarget(e),r.render(t,n)):(r.setRenderTarget(null),r.render(i,a))}}]),e}(),mr=function(){function e(t){var n=t.width,r=t.height,i=t.onCurrentTimeChange,a=t.onEnd;Object(ue.a)(this,e),this.tickTime=0,this.rafId=0,this.tickFunc=void 0,this.onCurrentTimeChangeCallback=void 0,this.onEnd=void 0,this.painter=void 0,this.clips=[],this.currentTime=0,this.duration=0,this.isPlaying=!1,this.width=0,this.height=0,this.width=n,this.height=r,this.painter=new gr(n,r),this.onCurrentTimeChangeCallback=i,this.onEnd=a,this.tickFunc=this.tick.bind(this),this.rafId=requestAnimationFrame(this.tickFunc)}return Object(fe.a)(e,[{key:"tick",value:function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.render(t);case 2:this.rafId=requestAnimationFrame(this.tickFunc);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isInRange",value:function(e){var t=e.config.timelineInfo,n=t.start,r=t.end;return n<=this.currentTime&&r>=this.currentTime}},{key:"updateResolution",value:function(e,t){return(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.painter.updateSize(e,t),!0)}},{key:"updateDuration",value:function(){var e=this;this.duration=0,this.clips.forEach((function(t){var n=t.config;n.timelineInfo.end>e.duration&&(e.duration=n.timelineInfo.end)})),0===this.duration&&(this.currentTime=0)}},{key:"getClipById",value:function(e){return this.clips.find((function(t){return t.config.id===e}))}},{key:"addClip",value:function(){var e=Object(J.a)(X.a.mark((function e(t){var n,r=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=it(t,this),e.next=3,n.init();case 3:return this.clips.push(n),e.next=6,this.onCurrentTimeChange();case 6:this.updateDuration(),ge(n.config,"timelineInfo",function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.updatePlaybackRate(),!r.isInRange(n)){e.next=13;break}if(!n.isEntered){e.next=7;break}return e.next=5,n.onUpdate(!0);case 5:e.next=11;break;case 7:return n.isEntered=!0,n.addToPainter(),e.next=11,n.onEnter(!0);case 11:e.next=18;break;case 13:if(!n.isEntered){e.next=18;break}return n.isEntered=!1,n.removeFromPainter(),e.next=18,n.onLeave(!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeClip",value:function(){var e=Object(J.a)(X.a.mark((function e(t){var n,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getClipById(t))){e.next=7;break}return e.next=4,n.destroy();case 4:n.config.type===se.TRANSITION&&(r=this.getClipById(n.config.fromId),i=this.getClipById(n.config.toId),null===r||void 0===r||r.show(),null===i||void 0===i||i.show()),this.clips.splice(this.clips.indexOf(n),1),this.updateDuration();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(J.a)(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Math.floor(t),!this.isPlaying){e.next=7;break}return this.currentTime+=n-this.tickTime,this.currentTime=Math.min(this.currentTime,this.duration),e.next=6,this.onCurrentTimeChange();case 6:this.currentTime>=this.duration&&(this.pause(),null===(r=this.onEnd)||void 0===r||r.call(this));case 7:this.painter.render(),this.tickTime=n;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"play",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!this.isPlaying&&this.currentTime<this.duration&&(this.isPlaying=!0,this.clips.forEach((function(e){t.isInRange(e)&&e.play()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){var e=Object(J.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isPlaying&&(this.isPlaying=!1,this.clips.forEach((function(e){e.pause()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCurrentTime",value:function(){var e=Object(J.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentTime=Math.max(0,Math.min(t,this.duration)),e.next=3,this.onCurrentTimeChange(!0);case 3:this.currentTime>=this.duration&&(this.pause(),null===(n=this.onEnd)||void 0===n||n.call(this));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onCurrentTimeChange",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n,r,i=this,a=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],r=[],this.clips.forEach((function(e){i.isInRange(e)?e.isEntered?r.push(e.onUpdate(n)):(e.isEntered=!0,e.addToPainter(),r.push(e.onEnter(n))):e.isEntered&&(e.isEntered=!1,e.removeFromPainter(),r.push(e.onLeave(n)))})),e.next=5,Promise.all(r).catch((function(e){alert(e.message)}));case 5:r=[],null===(t=this.onCurrentTimeChangeCallback)||void 0===t||t.call(this,this.currentTime);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"attachTo",value:function(e){null===e||void 0===e||e.appendChild(this.painter.getDomElement())}},{key:"destroy",value:function(){var e=Object(J.a)(X.a.mark((function e(){var t,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cancelAnimationFrame(this.rafId),t=[],this.clips.forEach((function(e){t.push(e.destroy())})),e.next=5,Promise.all(t).catch((function(e){alert(e.message)}));case 5:t=[],this.clips.length=0,this.clips=[],(n=this.painter.getDomElement())&&(null===(r=n.parentNode)||void 0===r||r.removeChild(n));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Or=function(){var e=Object(J.a)(X.a.mark((function e(t,n,r){var i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return i=[],n.forEach((function(e){i.push(null===t||void 0===t?void 0:t.addClip(e))})),r.forEach((function(e){i.push(t.removeClip(e))})),e.next=6,Promise.all(i).catch((function(e){alert(e.message)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var yr,wr=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({width:19,height:27,fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),{},{children:[Object(f.jsx)("path",{fill:"url(#prefix__pattern0)",d:"M0 0h19v27H0z"}),Object(f.jsxs)("defs",{children:[Object(f.jsx)("pattern",{id:"prefix__pattern0",patternContentUnits:"objectBoundingBox",width:1,height:1,children:Object(f.jsx)("use",{xlinkHref:"#prefix__image0_348:26",transform:"matrix(.01923 0 0 .01351 -.635 -.297)"})}),Object(f.jsx)("image",{id:"prefix__image0_348:26",width:120,height:120,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAKy0lEQVR4Xu2de3BVxR3H95x78yAJuQEMj5AHDZYiICjtCIqWEcXKIHWww6sUxmY6oLU4yjgFYaBVOtZBnME+bMf6Rwn1gW2TquOMHaA4wnS0vIJIQgfEAHlCSEKAvO5j+/udnGuvQMi99+ye/G7ub2d2bh5nf2f38z2/3T27v3OuEJyYABNgAkyACTABJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgAkwASbABJjAgCdgJHoLpZRmL22Q+HfDMKzPyARlsN2Yw2XxGCtf7/hEZpRQArc9XPQzIeUiAF5o55jYZxbeKczUzJjKfO3gtHQhVv8i28gdcSl+I+6WTBiB275fWAZoiiBPjReRY4HDJzZNYWx5PSHY9da9xctQSzkQ90MwPM+JuEorFgoJubpEyg/+tk6pXQ3GyF+FIO5FaHe2irYr8+DIytx2xzvG8sdw2CCZyHowCLsYMk58lIirjX7FfxbKfbsf0mbfoWGvw/JaioOwW8HwMi3GdRgte+N9MEuyNyTnwSDuboA1A/JQHVrosilfXH9Bl20ndil6cA6ZyVQsZM/Vk7wgSXnwpZLpvwGmcLOZmEnu3fUAtZqTElg21U0EQBOoQYq6PuVv/jPqY106kJTA0OZUl9qdNKehJrAvaci71FBqAg9zqd1JcxpqAg9KGvIuNZSawO0utTtpTkNKYCM370hCk3948bep1Z+UwBkbtz1BDVAs9TFmPnAoluPdOJaUwJ6ib1VDo8+60XDl58gr2KbcpgKDpATG9mS+umemgna5baLGeOa5R90+aTTnIyewJ3/sl57Jd5VGU3kix5wWP/jRZCJ1uaYa5ATGGmZseutRIyvnBFVoEfU6KG67Y6UxY1YL1bqSFBgjG7PeODLezB97kCi4eqjXHnHvnOUQzUFu/TmSGclN6nAFMbw1cGDPwo5NP367J6rVUZIQstMEUZUhsBK+sPEzDXJWFJbxHv0Y5HZhmhKC7u6Noky/H0Ja4AihUwOV++d3rFvwFoTNxlvnGhD4LAiMVwra8NhC42c4ThpPiaLjkmlehDrn4edqkZbeJlZvXGbkjkQPTogULyxXG2cHt2cHu8WY8yfFomPvi7WNVULA77GkmnmbxbM5+QLHS4xr7oQcgDweMi6RnoF8sbFLpJY3yo076sTsE1eE8KUIMWuYqFo1xrj/5gzRahqiE4YQ7AUSIlGM6LgGXP1RMetfL4l3QwGR4YBqpS3sZyCQda8NFw5GYWD33Lj2uHxxe614EH5us4Vvhs+hrX7RWdYgUsoaJIYShfLTxV74fMxBPVwtSl7gt38iv9j1a1EAVMCXHCXsrZrQS21xMYje+LhZ5PzwsNwJ/TZ2u42Q8yFjtx1OGGFys/1LQ02n8OXtCr03cbBYt3Oa+bmjGrlQmOQsGtvdeUl6SpfItu4roliBuGgSn1nBiZIfPDcXPlufPS7XLzksfwfiNsDvoyGj6JHiXi3BSPjDYsg5xy6Jp0fvCj3vgkaOTkFW4HdWCOwiBztq3dcL4zhbgwJDblpdKTeX1orZ8DOOp/isUyy92T1w/Gy4MMaBN7+isI7KTZEUePtSid2o6uC79iEFxnkYfwP/bhHDd9QLDJDDbhu9Np6Ew8ZcyMVT94Y2xWPAjTLkBP74FblFhqxZrtMx92p+X+01Lzgk99sei57rJOEEbVxDl7jLiRGdZckJXP2JWAANxtmy6ls4a6XktdOh5TbQEYrAjsOLBcZjvFcml0gJfGC7nA+E0HuHKCYFd7Q9EZu/PCH+AB84kVLZQ0yxJ2qKq+3cHCmBT+wRaxSDDxPCiZSn5azE8RZ7B5xFq0xWNOjCQ6G/qDSqwlYsM0cV57uhDX+HNZvN0XAivEUKvtsgH7dtq/TecHV9+5rFdA11d2SSlAfbXafq2TMCwnZ6yhu1PrGIF2bQkRoaCpPyYGhfbKvLsQGZdKYDxnYdl09PPXRMDGNr4XWOpubBuAihK9XepPfBGNy8UD3zd8yCmsDYIMcbv71QGfJgrvjEMbHeDXSwwH3QNb3WWIkbAjpSXkmBgTtButLlgnRrs4JUIuXBoyYJfBWCtdujIWH3qauTxqHF8+ndJr6ZgFQiJfB9a4xVdheNG/E6Uubc4TrMWr2OHssOq0tKYGzLIJ/lZbreJOd9dZKx1CGzq4t3wR+CPy8WKxTbVWKOnMCP/Fbg2i7eT+oIiynyGqJ1zVjxVyX0eiaETemmaHuq2CQZy01OYE+K4Z/zvPgugNNRN9z96XxyjLFyVJq1+e/kvhsvwjrI7admmfjqCZJJB0THDc39plF19yqx0LGhaw3gRAvC9UT6wXvMzKEpVgAeihRr4DpeHJa4dfeb2OOQTSQFRlrfuFN8MH+r8rVdHN/xlcH1ELbj+3ymOXLRKFGOQkGutYW+0X043uuehlwD3XIXdXGRI7mVl0hXABGKYJSbtr9U7Diu4PkBCJs9DGGzc0Bg634V7ONSLfxq+It2h875pRVKi2M/ZoyNDi/lorA48cPZfdZrtxpTHxphJERsNGmBbRF+Cp/rIQ9tOS3S9/4e3A3eKRcAKWSMa14g8HsgcAkI2utb6V4+FVrxZq14vNkvvF0hkeoxhD/bK7rHZYrq8u+Yj5Dti3upWCIIjFBLLge7h62t2zl924UKcK8YlbUbf2D8ytJb0nOfAIEvJ5pQ8daX2m7SV+2wu09fUIYqio9tndsUUPL6jqNwAicz53g591s5kpMsEBdDajx/vnD4qewjL3yhSFyEjDPf+Ny/3yRydmJyHmx/YYZnWfXfPy1rrZrirHnXlMbHUpIqUfRgc3Pjvg0axEVhcSasY4WM7EVDSmDsmluDnb7n6j96RhMxfIKQBdYENxqzsvDoy3gLo0WECYOGfznQvhepL6hkxmD03m4ZTA0KidNlHVGPfbEYkP+n1EWb047/CcXF1SIdAifdBAuvWEoCh052WQtMN3p804mX6Qzoc1IvrWUpCQzPnFm3qE6e4r8RLBZY66XUt3HdCxBaJm59N6t/j6DkwbrXxWVlxzkH30zZv0LFe/akEniQmYLvxEqqRFFgHV0pzsyDN3kzkmYXKXwVUxLYk+u15ldKto2uclPcsPcO9qQl1U4Stdsk86XR38PQUx3f23BxdvbYfyRV32w3VvfEJmqm9v6vN7PiV+htuCih6ltH0dbF9ts3FOJOVbItVZLpovHtNyCE/GPhvKdtcVXcNqHN8xPSc61XEyebuFabo3YxFw60N/pTRh/d0gG7SjghwtsaJ3U8BeWzwHtVvXDFBQpqT+EEntqa2NZAZFyHlhDJ4YdwnXi7avT+altcks8MaYF3HaPkBMY62uOxzDnyQsAvQ/jsD946RTv5wjfqNEHDMq/cvkH1y1bc0kXZeciMwZEtssdjs3XKupQlQ2790BYXvRnjlntL+D/02itwuxVgcXswkfTgsILhwHT4PTDjv68HKzoawvXF8RmfDQpPxPBC9RSl+s5UTXwycb+eVpnf/t8QaYEjhA6/lT2IM+Gylsr7TnY13xKU0ixM9X22dNjkjzSwGRAmE0LgSNL229/RY9F7LQ9OpDewD4irhhvBBJgAE2ACTIAJMAEmwASYABNgAkyACTABJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkxgIBL4HwOVtfNqeFzIAAAAAElFTkSuQmCC"})]})]}))},kr=s.b.div(yr||(yr=Object(r.a)(["\n  width: 100%;\n  height: 50px;\n  user-select: none;\n  overflow: hidden;\n  background: #1A2028;\n  border-bottom: 1px solid #232A35;\n  position: relative;\n  z-index: 10000;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  padding-left: 20px;\n"]))),Cr=function(){return Object(f.jsx)(kr,{children:Object(f.jsx)(wr,{})})};var Ir=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:12,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M12.898.317a.667.667 0 01-.212.918l-4.42 2.762 2.677 1.672h.035a3.167 3.167 0 11-1.803.466L7.009 4.783 4.834 6.14a3.167 3.167 0 11-1.759-.474l2.676-1.67-4.419-2.762a.667.667 0 01-.25-.85L1.12.317a.667.667 0 01.919-.212l4.97 3.106 4.97-3.106a.667.667 0 01.919.212zM3.167 7a1.833 1.833 0 100 3.667 1.833 1.833 0 000-3.667zm7.666 0a1.833 1.833 0 100 3.667 1.833 1.833 0 000-3.667z",fill:"#7185A6"})}))};var Tr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M12.667 2.467a.667.667 0 010 1.333h-.69l-.281 8.509a1.407 1.407 0 01-1.304 1.354l-.102.004H3.704a1.407 1.407 0 01-1.407-1.36L2.021 3.8h-.688a.667.667 0 110-1.332h11.334zm-2.024 1.332H3.357l.273 8.463c.001.03.02.055.046.066l.028.005h6.586c.04 0 .072-.031.073-.071l.28-8.463zM7 5.333A.667.667 0 017.667 6v4a.667.667 0 01-1.334 0V6A.667.667 0 017 5.333zm2.667-5a.667.667 0 110 1.334H4.333a.667.667 0 110-1.334h5.334z",fill:"#7185A6"})}))};var _r=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:13,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M9.18.877a.667.667 0 01.943-.03l3.333 3.13.056.06a.667.667 0 01-.055.912l-3.333 3.143-.065.053a.667.667 0 01-.878-.081l-.053-.065a.667.667 0 01.08-.878l2.255-2.124H4.827a3.163 3.163 0 00-3.16 3.166 3.164 3.164 0 003.015 3.164l.145.004h7.84a.667.667 0 01.078 1.328l-.079.005h-7.84a4.497 4.497 0 01-4.493-4.5A4.497 4.497 0 014.67 3.667l.158-.003h6.345L9.21 1.818l-.057-.061a.667.667 0 01.027-.88z",fill:"#7185A6"})}))};var Ar,Er,Rr,zr,Sr,Fr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:14,height:13,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M4.82.877a.667.667 0 00-.943-.03L.544 3.977l-.056.06a.667.667 0 00.055.912l3.333 3.143.065.053a.667.667 0 00.878-.081l.053-.065a.667.667 0 00-.08-.878L2.536 4.997h6.636a3.163 3.163 0 013.16 3.166 3.164 3.164 0 01-3.015 3.164l-.145.004h-7.84a.667.667 0 00-.078 1.328l.078.005h7.84a4.497 4.497 0 004.494-4.5A4.496 4.496 0 009.33 3.667l-.158-.003H2.827L4.79 1.818l.057-.061a.667.667 0 00-.027-.88z",fill:"#7185A6"})}))},Mr=s.b.div(Ar||(Ar=Object(r.a)(["\n  height: 50px;\n  background: #1C2430;\n  border-top: 1px solid #232A35;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n  padding: 0 24px;\n"]))),Lr=s.b.div(Er||(Er=Object(r.a)(["\n  font-family: 'DIN Alternate';\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n"]))),Ur=s.b.div(Rr||(Rr=Object(r.a)(["\n  display: flex;\n  >div {\n    margin-right: 10px;\n  }\n"]))),Dr=s.b.div(zr||(zr=Object(r.a)(["\n  width: 200px;\n  flex-shrink: 0;\n"]))),Nr=function(){var e=Object(i.useContext)(_i),t=e.totalDuration,n=e.currentTime,r=e.activeClip,a=e.tracks,o=Object(i.useCallback)((function(){zt(e)}),[e]),c=Object(i.useCallback)((function(){Mt(e)}),[e]);return Object(f.jsxs)(Mr,{children:[Object(f.jsxs)(Ur,{children:[Object(f.jsx)(M,{className:"disabled",children:Object(f.jsx)(Fr,{})}),Object(f.jsx)(M,{className:"disabled",children:Object(f.jsx)(_r,{})}),Object(f.jsx)(M,{onClick:c,className:St(a,n,null===r||void 0===r?void 0:r.id)?"":"disabled",children:Object(f.jsx)(Ir,{})}),Object(f.jsx)(M,{onClick:o,className:"warn ".concat(r?"":"disabled"),children:Object(f.jsx)(Tr,{})})]}),Object(f.jsxs)(Lr,{children:[$(n,!0),Object(f.jsxs)("span",{style:{color:"#455570"},children:[" / ",$(t,!0)]})]}),Object(f.jsx)(Dr,{})]})},Gr=n(120),Hr=s.b.div(Sr||(Sr=Object(r.a)(["\n  position: fixed;\n  z-index: 99999;\n"]))),Pr=["nw","ne","sw","se"],Br=function(){var e=Object(i.useContext)(_i),t=e.activeClip,n=e.tracks,r=e.setTracks,a=Object(i.useState)(null),o=Object(l.a)(a,2),c=o[0],s=o[1],u=Object(i.useState)(),d=Object(l.a)(u,2),h=d[0],p=d[1],v=Object(i.useRef)(null),b=Object(i.useCallback)((function(e){s(e)}),[]);Object(i.useEffect)((function(){if(t){var e=Lt(),n=e.left,r=e.top,i=t.geometryInfo,a=i.size,o=a.width,c=a.height,s=i.position,l=s.x,u=s.y,f=i.rotate;p({width:o,height:c,transform:"translate(".concat(n+l,"px, ").concat(r+u,"px) rotate(").concat(f,"deg)")})}else p({width:0,height:0})}),[t]),Object(i.useEffect)((function(){if((null===t||void 0===t?void 0:t.type)===se.TEXT){var e=Lt(),n=e.left,r=e.top,i=t.geometryInfo,a=i.size,o=a.width,c=a.height,s=i.position,l=s.x,u=s.y,f=i.rotate;p({width:o,height:c,transform:"translate(".concat(n+l,"px, ").concat(r+u,"px) rotate(").concat(f,"deg)")})}}),[t,null===t||void 0===t?void 0:t.value]);var j=Object(xr.a)(c),g=j.width,m=j.height;Object(i.useEffect)((function(){var e;null===(e=v.current)||void 0===e||e.updateTarget()}),[g,m]);var O=Object(i.useCallback)((function(){t&&t.fitType!==x.CUSTOM&&(t.fitType=x.CUSTOM,r(Object(Y.a)(n)))}),[t,r,n]),y=Object(i.useCallback)((function(e){var n=e.target,r=e.delta,i=e.transform;n.style.transform=i,t&&Object.assign(t.geometryInfo,{position:{x:t.geometryInfo.position.x+r[0],y:t.geometryInfo.position.y+r[1]}})}),[t]),w=Object(i.useCallback)((function(e){var n=e.target,r=e.width,i=e.height,a=e.delta,o=e.drag.beforeTranslate;if(t){var c=Lt(),s=c.left,l=c.top;Object.assign(t.geometryInfo,{size:{width:r,height:i}}),Object.assign(t.geometryInfo,{position:{x:o[0]-s,y:o[1]-l}})}a[0]&&(n.style.width="".concat(r,"px")),a[1]&&(n.style.height="".concat(i,"px")),n.style.transform="translate(".concat(o[0],"px, ").concat(o[1],"px) rotate(").concat(null===t||void 0===t?void 0:t.geometryInfo.rotate,"deg)")}),[t]),k=Object(i.useCallback)((function(e){var n=e.target,r=e.transform,i=e.absoluteRotate;t&&Object.assign(t.geometryInfo,{rotate:i}),n.style.transform=r}),[t]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Hr,{className:"resize-rotate",style:h,ref:b}),Object(f.jsx)(Gr.a,{ref:v,target:c,container:null,origin:!1,keepRatio:!0,renderDirections:Pr,edge:!1,draggable:!0,onDragStart:O,onDrag:y,resizable:!0,onResizeStart:O,onResize:w,rotatable:!0,onRotateStart:O,onRotate:k})]})},Vr=n(213),Yr=function(e){var t=e.data,n=e.value,r=e.onChange,a=Object(i.useCallback)((function(){r(t.value)}),[t.value,r]);return Object(f.jsx)(G,{onClick:a,className:n===t.value?"active":"",children:t.label})},Wr=function(e){var t=e.data,n=e.value,r=e.onChange,a=Object(i.useCallback)((function(e){r(e)}),[r]);return Object(f.jsx)("div",{children:t.map((function(e){return Object(f.jsx)(Yr,{onChange:a,data:e,value:n,children:e.label},e.value)}),[])})},qr=[{value:R.RATIO_16_9,label:"16:9"},{value:R.RATIO_9_16,label:"9:16"},{value:R.RATIO_4_3,label:"4:3"},{value:R.RATIO_3_4,label:"3:4"},{value:R.RATIO_21_9,label:"21:9"},{value:R.RATIO_1_1,label:"1:1"}],Xr=function(e){var t,n=e.value,r=e.onChange;return Object(f.jsx)("div",{children:Object(f.jsx)(Vr.a,{trigger:"click",color:"#1F2836",overlayStyle:{width:150},zIndex:999999999,content:Object(f.jsx)(Wr,{data:qr,value:n,onChange:r}),children:Object(f.jsx)(L,{children:null===(t=qr.find((function(e){return e.value===n})))||void 0===t?void 0:t.label})})})};var Jr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0H0v12h3V0zm9 0L5 6l7 6V0z",fill:"#7B9FD6"})}))};var Zr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12l7-6-7-6v12zm9 0h3V0H9v12z",fill:"#7B9FD6"})}))};var Qr=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:10,height:12,fill:"none"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 0H0v12h3V0zm7 0H7v12h3V0z",fill:"#7B9FD6"})}))};var Kr,$r,ei,ti=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({width:10,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(f.jsx)("path",{d:"M10 6L0 12V0l10 6z",fill:"#7B9FD6"})}))},ni=s.b.div(Kr||(Kr=Object(r.a)(["\n  height: 65px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n  position: absolute;\n  bottom: 0;\n"]))),ri=s.b.div($r||($r=Object(r.a)(["\n  display: flex;\n  >div {\n    margin-right: 10px;\n  }\n"]))),ii=s.b.div(ei||(ei=Object(r.a)(["\n  display: flex;\n  width: 80px;\n"]))),ai={background:"#1F2836",borderColor:"#222B3A"},oi=function(){var e=Object(i.useContext)(_i),t=Object(i.useContext)(Ai),n=t.handleIsPlayingChange,r=t.handleCurrentTimeChange,a=e.isPlaying,o=e.totalDuration,c=e.ratio,s=e.setRatio,l=Object(i.useCallback)((function(){n(!a)}),[n,a]),d=Object(i.useCallback)((function(){r(0)}),[r]),h=Object(i.useCallback)((function(){r(o)}),[r,o]);return Object(f.jsxs)(ni,{children:[Object(f.jsx)(ii,{children:Object(f.jsx)(Xr,{value:c,onChange:s})}),Object(f.jsxs)(ri,{children:[Object(f.jsx)(M,{onClick:d,style:ai,children:Object(f.jsx)(Jr,{})}),Object(f.jsx)(M,{style:Object(u.a)({width:60},ai),onClick:l,children:a?Object(f.jsx)(Qr,{}):Object(f.jsx)(ti,{})}),Object(f.jsx)(M,{onClick:h,style:ai,children:Object(f.jsx)(Zr,{})})]}),Object(f.jsx)(M,{style:{width:100},className:"disabled",children:"\u5168\u5c4f\u64ad\u653e"})]})};var ci=function(e){return Object(f.jsxs)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:[Object(f.jsx)("path",{d:"M2 5v9.5h3V5H2z",fill:"url(#prefix__paint0_linear_441_1815)"}),Object(f.jsx)("path",{d:"M12 5H2v3h10V5z",fill:"url(#prefix__paint1_linear_441_1815)"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.019a1 1 0 00-1-.998H3c-1.657 0-3 1.34-3 2.995v6.989A2.998 2.998 0 003 16h10c1.657 0 3-1.341 3-2.995v-3.52a1 1 0 00-2 0v3.52a1 1 0 01-1 .998H3a1 1 0 01-1-.998v-6.99a1 1 0 011-.998h12a1 1 0 001-.998z",fill:"#fff"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.197.403a.997.997 0 00.206 1.397l2.93 2.175-2.936 2.218a.997.997 0 00-.195 1.398c.334.44.96.527 1.401.194l4-3.02a.998.998 0 00-.006-1.597l-4-2.97a1.001 1.001 0 00-1.4.205z",fill:"#fff"}),Object(f.jsx)("path",{d:"M6.22 7.692a.5.5 0 01.77-.421l2.886 1.843a.5.5 0 010 .843L6.99 11.8a.5.5 0 01-.77-.421V7.692z",fill:"#fff"}),Object(f.jsxs)("defs",{children:[Object(f.jsxs)("linearGradient",{id:"prefix__paint0_linear_441_1815",x1:2,y1:9.5,x2:4.5,y2:9.5,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#0C09AB"}),Object(f.jsx)("stop",{offset:1,stopColor:"#0C09AB",stopOpacity:0})]}),Object(f.jsxs)("linearGradient",{id:"prefix__paint1_linear_441_1815",x1:7,y1:5,x2:7,y2:8,gradientUnits:"userSpaceOnUse",children:[Object(f.jsx)("stop",{stopColor:"#0C09AB"}),Object(f.jsx)("stop",{offset:1,stopColor:"#0C09AB",stopOpacity:0})]})]})]}))};var si=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:Object(f.jsx)("path",{d:"M13.368 10.417l.711 2.037 1.921.754-1.92.755L13.367 16l-.71-2.037-1.92-.755 1.92-.754.71-2.037zM13.989 1.383l-.47 1.085.47 1.085-1.023-.499-1.023.5.47-1.086-.47-1.085 1.023.5 1.023-.5zM2.382 13.81l-.428.987.428.987-.93-.454-.93.454.427-.987-.428-.987.93.454.931-.454zM.741 0l1.213 1.068L3.508.786 2.501 2.073l.266 1.649-1.213-1.068L0 2.935l1.007-1.287L.74 0zM7.09 1.509a.146.146 0 01.276 0l1.726 4.982c.014.04.045.073.085.088l4.72 1.84a.146.146 0 010 .272l-4.72 1.84a.146.146 0 00-.085.088l-1.726 4.982a.146.146 0 01-.276 0L5.365 10.62a.146.146 0 00-.085-.088L.56 8.691a.146.146 0 010-.272l4.72-1.84a.146.146 0 00.085-.088L7.09 1.509z",fill:"#81ACF0"})}))},li=[{value:j.NO_EFFECT,label:"\u65e0\u7279\u6548"},{value:j.GRAY,label:"\u7070\u5ea6"},{value:j.TRIANGLE_BLUR,label:"\u5feb\u901f\u6a21\u7cca"},{value:j.GAUSSIAN_BLUR,label:"\u9ad8\u65af\u6a21\u7cca"}],ui=function(e){var t=e.value,n=e.onChange;return Object(f.jsx)("div",{children:Object(f.jsx)(Vr.a,{trigger:"click",color:"#1F2836",overlayStyle:{width:150},zIndex:999999999,content:Object(f.jsx)(Wr,{data:li,value:t,onChange:n}),children:Object(f.jsx)(M,{children:Object(f.jsx)(si,{})})})})};var fi=function(e){return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),{},{children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.56 1.156a.988.988 0 01-1.123.835l-3.046.038L6.58 5.217a.991.991 0 01-1.402 1.401L2.016 3.456 1.96 6.475a.988.988 0 01-.843 1.116A.992.992 0 010 6.746l.014-5.62A.989.989 0 011.138.01l5.585.02c.541.08.916.584.837 1.125zm7.284 7.284a.988.988 0 00-.835 1.123l-.038 3.046-2.487-2.487a.99.99 0 10-1.401 1.401l2.46 2.461-3.018.055a.988.988 0 00-1.116.843A.992.992 0 009.254 16l5.62-.014a.99.99 0 001.115-1.124l-.02-5.585a.992.992 0 00-1.125-.837z",fill:"#81ACF0"})}))},di=[{value:x.CUSTOM,label:"\u81ea\u5b9a\u4e49"},{value:x.CONTAIN,label:"\u5305\u542b"},{value:x.COVER,label:"\u8986\u76d6"},{value:x.FILL,label:"\u586b\u5145"}],hi=function(e){var t=e.clip,n=e.onChange,r=Object(i.useCallback)((function(e){t.fitType=e;var r=Lt(),i=r.height,a=r.width,o=dt(t,a,i);n({size:{width:o.width,height:o.height},position:{x:o.left,y:o.top}})}),[t,n]);return Object(f.jsx)("div",{children:Object(f.jsx)(Vr.a,{trigger:"click",color:"#1F2836",overlayStyle:{width:150},zIndex:999999999,content:Object(f.jsx)(Wr,{data:di,value:t.fitType,onChange:r}),children:Object(f.jsx)(M,{children:Object(f.jsx)(fi,{})})})})},pi=function(e){var t=e.data,n=e.onChange,r=Object(i.useCallback)((function(e){n({effect:e})}),[n]),a=Object(i.useCallback)((function(e){Object.assign(t.geometryInfo,e),n(t,!0)}),[t,n]);return Object(f.jsxs)(V,{children:[Object(f.jsx)(ui,{value:t.effect,onChange:r}),Object(f.jsx)(hi,{clip:t,onChange:a})]})},vi=function(e){var t=e.data,n=e.onChange,r=Object(i.useCallback)((function(e){n({effect:e})}),[n]),a=Object(i.useCallback)((function(e){Object.assign(t.geometryInfo,e),n(t,!0)}),[t,n]);return Object(f.jsxs)(V,{children:[Object(f.jsx)(ui,{value:t.effect,onChange:r}),Object(f.jsx)(hi,{clip:t,onChange:a})]})},bi=n(214),xi=n(208).a.TextArea,ji=function(e){var t=e.text,n=e.onChange,r=Object(i.useRef)(!1),a=Object(i.useState)(t),o=Object(l.a)(a,2),c=o[0],s=o[1];Object(i.useEffect)((function(){s(t)}),[t]);var u=Object(i.useCallback)((function(e){var t=e.target.value;r.current?s(t):n(t)}),[n]),d=Object(i.useCallback)((function(e){"Backspace"===e.code&&e.stopPropagation()}),[]),h=Object(i.useCallback)((function(){r.current=!0}),[]),p=Object(i.useCallback)((function(){r.current=!1,n(c)}),[n,c]);return Object(f.jsx)("div",{children:Object(f.jsx)(Vr.a,{trigger:"click",color:"#1F2836",zIndex:999999999,content:Object(f.jsx)(xi,{rows:5,cols:30,value:c,onChange:u,onKeyDown:d,onCompositionStart:h,onCompositionEnd:p}),children:Object(f.jsx)(M,{children:Object(f.jsx)(bi.a,{})})})})},gi=function(e){var t=e.data,n=e.onChange,r=Object(i.useCallback)((function(e){n({effect:e})}),[n]),a=Object(i.useCallback)((function(e){var r=ie(Object(u.a)(Object(u.a)({},t),{},{value:e})),i=r.width,a=r.height;Object.assign(t,{originalWidth:i,originalHeight:a}),Object.assign(t.geometryInfo,{size:{width:i/2,height:a/2}}),Object.assign(t,{value:e}),n(t)}),[n,t]);return Object(f.jsxs)(V,{children:[Object(f.jsx)(ui,{value:t.effect,onChange:r}),Object(f.jsx)(ji,{text:t.value,onChange:a})]})};function mi(e,t){switch(null===e||void 0===e?void 0:e.type){case se.VIDEO:return Object(f.jsx)(vi,{data:e,onChange:t});case se.IMAGE:return Object(f.jsx)(pi,{data:e,onChange:t});case se.TEXT:return Object(f.jsx)(gi,{data:e,onChange:t});default:return null}}var Oi,yi,wi,ki=function(){var e=Object(i.useContext)(_i),t=e.activeClip,n=e.setActiveClip,r=e.tracks,a=e.setTracks,o=Object(i.useCallback)(function(){var e=Object(J.a)(X.a.mark((function e(i){var o,c,s=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=s.length>1&&void 0!==s[1]&&s[1],!t){e.next=10;break}if(Object.assign(t,i),a(Object(Y.a)(r)),!o){e.next=10;break}return c=t,n(void 0),e.next=9,te(50);case 9:n(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,a,r]),c=Object(i.useCallback)((function(e){e.stopPropagation()}),[]);return Object(f.jsx)("div",{onClick:c,children:mi(t,o)})},Ci=s.b.div(Oi||(Oi=Object(r.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 50px;\n  top: -50px;\n  display: flex;\n  align-items: center;\n  z-index: 99999;\n  justify-content: space-between;\n"]))),Ii=s.b.div(yi||(yi=Object(r.a)(["\n  height: 30px;\n  padding: 0 20px;\n  background: #3A36E4;\n  border-radius: 99px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #fff;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background: #302DD3;\n  }\n\n  svg {\n    margin-right: 8px;\n  }\n"]))),Ti=function(){var e=Object(i.useContext)(Ai).player,t=Object(i.useCallback)((function(){e&&function(e){ft.apply(this,arguments)}(e)}),[e]);return Object(f.jsxs)(Ci,{children:[Object(f.jsx)("div",{children:Object(f.jsx)(ki,{})}),Object(f.jsx)("div",{children:"\u672a\u547d\u540d"}),Object(f.jsxs)(Ii,{onClick:t,children:[Object(f.jsx)(ci,{}),"\u5bfc\u51fa\u89c6\u9891"]})]})},_i=a.a.createContext(vt),Ai=a.a.createContext(bt),Ei=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)([[]]),o=Object(l.a)(a,2),c=o[0],s=o[1],d=Object(i.useState)(-1),h=Object(l.a)(d,2),p=h[0],v=h[1],b=Object(i.useState)(0),x=Object(l.a)(b,2),j=x[0],g=x[1],m=Object(i.useState)(),O=Object(l.a)(m,2),y=O[0],w=O[1],k=Object(i.useState)(0),C=Object(l.a)(k,2),I=C[0],T=C[1],_=Object(i.useState)(!1),A=Object(l.a)(_,2),E=A[0],z=A[1],S=Object(i.useState)(),F=Object(l.a)(S,2),M=F[0],L=F[1],U=Object(i.useState)(R.RATIO_21_9),D=Object(l.a)(U,2),N=D[0],G=D[1],H=Object(i.useRef)(null),P=Object(i.useCallback)((function(e){var t=e.filter((function(e){return e.length})),n=_t(t);n!==j&&(g(n),I>n&&T(n)),t.flat(1).forEach((function(e,t){e.zIndex=t})),s(t.length?t:[[]])}),[I,T,j]);Object(i.useEffect)((function(){if(j){var e=document.querySelector(".tracks-wrapper");if(e){var t=e.clientWidth,n=wt(j);t<n&&(e.style.width="".concat(n+100,"px"))}}}),[j]);var B={hoverTrack:n,setHoverTrack:r,tracks:c,setTracks:P,newTrackIndex:p,setNewTrackIndex:v,activeClip:y,setActiveClip:w,currentTime:I,setCurrentTime:T,totalDuration:j,setTotalDuration:g,isPlaying:E,setIsPlaying:z,draggingClip:M,setDraggingClip:L,ratio:N,setRatio:G},V=function(e,t){var n=Object(i.useRef)(),r=e.tracks,a=e.totalDuration,o=e.currentTime,c=e.setCurrentTime,s=e.isPlaying,l=e.setIsPlaying,f=e.ratio,d=e.setActiveClip,h=Object(xr.a)(t),p=h.width,v=h.height;Object(jr.a)((function(){var e=n.current;if(e&&p&&v){var t=Ut(f,p,v),i=t.width,a=t.height;e.updateResolution(i,a)&&(d(void 0),r.forEach((function(t){t.forEach((function(t){e.removeClip(t.id)}))})),r.forEach((function(t){t.forEach((function(t){var n=dt(t,i,a);Object.assign(t.geometryInfo,Object(u.a)(Object(u.a)({},t.geometryInfo),{},{size:{width:n.width,height:n.height},position:{x:n.left,y:n.top}})),e.addClip(t)}))})))}}),[v,p,f,r],{wait:100}),Object(i.useEffect)((function(){if(!n.current&&t.current&&p&&v){var e=Ut(f,p,v),r=e.width,i=e.height;n.current=new mr({width:r,height:i,onCurrentTimeChange:function(e){c(e)},onEnd:function(){l(!1)}}),n.current.attachTo(t.current.querySelector(".player"))}}),[v,t,p,f,c,l,r]),Object(i.useEffect)((function(){if(n.current&&r.length){var e=function(e,t){var n=[],r=[],i=t.flat(1);return e.forEach((function(e){!i.find((function(t){return t.id===e.config.id}))&&e.config.id&&r.push(e.config.id)})),i.forEach((function(t){e.find((function(e){return e.config.id===t.id}))||n.push(t)})),{newClips:n,deleteClips:r}}(n.current.clips,r),t=e.newClips,i=e.deleteClips;Or(n.current,t,i)}}),[r]);var b=Object(i.useCallback)(function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=10;break}if(t&&!(o>=a)){e.next=7;break}return e.next=4,n.current.pause();case 4:l(!1),e.next=10;break;case 7:return e.next=9,n.current.play();case 9:l(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,l,a]),x=Object(i.useCallback)(function(){var e=Object(J.a)(X.a.mark((function e(t){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.current)){e.next=7;break}return r.pause(),e.next=5,r.setCurrentTime(t);case 5:l(!1),c(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,l]);return Object(i.useEffect)((function(){n.current&&a>=0&&n.current.updateDuration()}),[a]),{player:n.current,isPlaying:s,setIsPlaying:l,handleIsPlayingChange:b,handleCurrentTimeChange:x}}(B,H);br(B,V);var Y=Object(i.useCallback)((function(){y&&w(void 0)}),[y]);return Object(i.useEffect)((function(){return document.removeEventListener("click",Y,!1),document.addEventListener("click",Y,!1),function(){document.removeEventListener("click",Y,!1)}}),[Y]),Object(f.jsx)(_i.Provider,{value:B,children:Object(f.jsxs)(Ai.Provider,{value:V,children:[Object(f.jsx)(Br,{}),Object(f.jsxs)(ar,{children:[Object(f.jsx)(Cr,{}),Object(f.jsxs)(or,{children:[Object(f.jsx)(cr,{children:Object(f.jsx)(sn,{})}),Object(f.jsxs)(ur,{children:[Object(f.jsx)(Ti,{}),Object(f.jsx)(fr,{ref:H,children:Object(f.jsx)("div",{className:"player"})}),Object(f.jsx)(oi,{})]})]}),Object(f.jsxs)(sr,{children:[Object(f.jsx)(Nr,{}),Object(f.jsxs)(lr,{children:[Object(f.jsx)(pr,{}),Object(f.jsx)(ir,{onCurrentTimeChange:V.handleCurrentTimeChange})]})]})]})]})})},Ri=n(118),zi=(n(202),Object(s.a)(wi||(wi=Object(r.a)(["\n  ::-webkit-scrollbar {\n    width: 7px;\n    height: 7px;\n  }\n\n  ::-webkit-scrollbar-thumb\n  {\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 6px;\n  }\n"]))));c.a.render(Object(f.jsxs)(a.a.StrictMode,{children:[Ri.isWindows?Object(f.jsx)(zi,{}):null,Object(f.jsx)(Ei,{})]}),document.getElementById("root"))},9:function(e,t){e.exports=THREE}},[[203,1,2]]]);
//# sourceMappingURL=main.2cbff430.chunk.js.map